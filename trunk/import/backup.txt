日志标题：]想Oracle8ie的外B接如此的我搞不定！
发表时间：2006-4-12 16:53:00
日志内容：SELECT A.SLIP_NO,A.PART_NO,C.GUI_TITLE,A.DESP,A.QTY,B.QTY AS RECV_QTY,(A.QTY-B.QTY) AS NO_RECV_QTY,A.PRICE,((A.QTY-B.QTY)*A.PRICE) AS NO_RECV_TOTAL_PRICE,A.SHIP_DATE,A.FIRM_SHIP_DATE,CEIL(SYSDATE-A.FIRM_SHIP_DATE) AS DEFER_DATEFROM ASP_PO_D A, (SELECT SUM(QTY) AS QTY,U_GUID FROM ASP_RECVGROUP BY U_GUID  )B, (SELECT A.SLIP_NO,A.VENDOR_NO,A.GUID,B.GUI_TITLE  FROM ASP_PO_M A,ASP_VEN_CUST BWHERE A.VENDOR_NO=B.NO AND A.STATUS&lt;&gt;'E' AND A.COMP_NO='JD0201'  )CWHERE A.GUID=B.U_GUID AND A.SHIP_DATE BETWEEN TO_DATE('20050101','YYYYMMDD') AND SYSDATE AND C.GUID(+)=A.P_GUID AND A.FIRM_SHIP_DATE&lt;SYSDATE AND (A.QTY-B.QTY)&gt;0ORDER BY A.SLIP_NO,A.PART_NO
如果能用left/right join多好啊！可惜，8ie不支持！
y啊！上面的SQL是]有查出A定的Y果，得^m搞！

日志标题：如果你是做的是秘工作，看@份}
发表时间：2006-4-12 17:04:00
日志内容：@是一家有6000多人的大Se出的}，是我的一朋友ソo我的：

下面是问题提纲，请在星期六前回答完并交给我，谢谢协作！
 
1、 你是如何走上秘书这个岗位的？
2、 任何人走上某个工作岗位都将有一段适应期，你是怎样顺利度过这个“过渡期”的？
3、 你认为秘书工作最大的“苦处”和“乐趣”在哪？请讲述1―2个做秘书工作以来亲历的小故事。
4、 你认为一名优秀的秘书应该具备哪些素质？
5、 时间管理对秘书来说相当重要，你是如何妥善安排的？
6、 当你的意见与上司不一致时，你会怎样处理？
7、 秘书起着承上启下的作用，你是怎样与各部门进行沟通的？
8、 秘书常要求较高的综合素质，你是怎样完善并充实自己的？
9、 秘书的工作很烦琐冗杂，你有没有出现过厌烦的心理，你又是如何及时调节和平衡这种心态的？
10、你认为仪表与秘书的工作有关系吗？

日志标题：用JavaScript操作WinRar
发表时间：2006-4-12 18:15:00
日志内容：Blog的插入HTML功能有`。
原碓blueidea.com上看到了用ASP绦薪嚎s幼鞯奈恼拢一直]有去用心看，前日，趁老大不在，爽了一把，把它改成了用JavaScript操作的了。
要先保存到本地在\行
&lt;label&gt;Select a file&lt;input type="file" name="sFile" id="sFile" /&gt;&lt;/label&gt;&lt;label&gt;&lt;input type="button" name="Button" value="Button" onclick="runRar()" /&gt;&lt;br /&gt;&lt;textarea row="5" col="50" id="showCmd"&gt;&lt;/textarea&gt;&lt;/label&gt;&lt;script language="javascript" type="text/javascript"&gt;
function runRar(){var winRar=new ActiveXObject("WScript.Shell");var fName=document.getElementById("sFile").valuefName=fName.replace(/\\/,"\\\\");rName=fName.replace(/\./,"_");alert(fName);var cmd="winrar a "+ rName + ".rar " + fName + " -r" ;winRar.run(cmd,1,true);}
&lt;/script&gt;
以下是相P的命令：

<!--
.tab{
 font-family: Verdana, Arial, Helvetica, sans-serif;
 font-size: 12px;
 color: #666666;
}
-->






任务描述 

Winzip

Winrar


压缩目录test及其子目录的文件内容 

Wzzip test.zip test -r CP

WINRAR A test.rar test -r


删除压缩包中的*.txt文件 

Wzzip test.zip *.txt Cd

WinRAR d test.rar *.txt


刷新压缩包中的文件，即添加已经存在于压缩包中但更新的文件 

Wzzip test.zip test Cf

Winrar f test.rar test


更新压缩包中的文件，即添加已经存在于压缩包中但更新的文件以及新文件 

Wzzip test.zip test Cu

Winrar u test.rar test


移动文件到压缩包，即添加文件到压缩包后再删除被压缩的文件 

Wzzip test.zip -r -P Cm

Winrar m test.rar test -r


添加全部 *.exe 文件到压缩文件，但排除有 a或b 开头名称的文件 

Wzzip test *.exe -xf*.* -xb*.*

WinRAR a test *.exe -xf*.* -xb*.*


加密码进行压缩 

Wzzip test.zip test -s123。注意密码是大小写敏感的。（-s和密a之g]有空格） 

WINRAR A test.rar test -p123 -r。注意密码是大小写敏感的。（-p和密a之g]有空格） 


按名字排序、以简要方式列表显示压缩包文件 

Wzzip test.zip Cvbn

Rar l test.rar


锁定压缩包，即防止未来对压缩包的任何修改 

无对应命令 

Winrar k test.rar


创建360kb大小的分卷压缩包 

无对应命令 

Winrar a -v360 test


带子目录信息解压缩文件 

Wzunzip test Cd

Winrar x test -r


不带子目录信息解压缩文件 

Wzunzip test

Winrar e test


解压缩文件到指定目录，如果目录不存在，自动创建 

Wzunzip test newfolder\

Winrar x test newfolder\


解压缩文件并确认覆盖文件 

Wzunzip test Cy

Winrar x test -y

日志标题：Java入Tx手
发表时间：2006-4-12 19:38:00
日志内容：硇挝挥幸多月了，基本上每天看教W像，困的r候在看PL/SQL。　　本硎侨心WDelphi的，但是，Delphi又成了]有人要的老姑娘，心恢了很Lrg。　　偶而在W上打了eclipse中，看了eclipse的介B，_又下，乃的官方W站http://www.eclipse.org下d了eclipse的最新版本（_源、免M、不要X），又木W上找了一段JAVA代a，v弄了半天，W了如何使用eclipse。於是又下了大堆java教程，趁老大在回台北的r候，偷偷看了一星期。　　F在老大砹耍就要表F的用心工作，不搞小幼鳎悍乓欢rg。　　以下是我那一周的WP，到程部分了。在看它之前，你最好down一eclipse，可能需要jdk、jre之的||。用它的好就是：不用配置，不用在黑乎乎的DOS窗口下v估。 
UploadFiles/2006-4/412435066.rar

日志标题：瞎子摸象一拥墓ぷ鳎
发表时间：2006-4-12 21:19:00
日志内容：砹艘多月了，今天K於_放了斓嘞藿o我，好心的同事o我一任眨一查，查S商逾期未交余~。
　　@套件是花了1000f新台刨I的（人J楹芾圾），我@些程序TF在只允S做一些客制程式(件公司提供的叫原版)，而且件公司不提供相P文n。
　　初@程序，用什N表都不知道，表c表之g的更不知道了！害得我南挛缫恢钡浆F在，一程序也]有出恚
　瞎子摸象一拥母杏X！

日志标题：K於搞定了！左Bc右B
发表时间：2006-4-13 7:55:00
日志内容：昨天搞了一下午加一夜晚，就因]有找Ρ砼c表之g的P。
一大早起恚修改了上拢通^了，不^有c慢，具w的要修改：
SELECT A.SLIP_NO,A.PART_NO,D.NAME,A.DESP,A.QTY,B.QTY AS RECV_QTY,(A.QTY-B.QTY) AS NO_RECV_QTY,A.PRICE,((A.QTY-B.QTY)*A.PRICE) AS NO_RECV_TOTAL_PRICE,A.SHIP_DATE,A.FIRM_SHIP_DATE,CEIL(SYSDATE-A.FIRM_SHIP_DATE) AS DEFER_DATEFROM ASP_PO_D A, (SELECT SUM(QTY) AS QTY,U_GUID FROM ASP_RECVGROUP BY U_GUID  )B, (SELECT SLIP_NO,VENDOR_NO,GUID,QTY FROM ASP_PO_M WHERE STATUS&lt;&gt;'E' AND COMP_NO='JD0201'ORDER BY GUID )C, ASP_VEN_CUST DWHERE A.FIRM_SHIP_DATE BETWEEN TO_DATE('20060101','YYYYMMDD') AND SYSDATE AND A.GUID=B.U_GUID(+) AND  A.P_GUID=C.GUID(+) AND D.COMP_NO='JD0201' AND C.VENDOR_NO=D.NO(+) AND A.FIRM_SHIP_DATE&lt;SYSDATE AND (A.QTY-B.QTY)&gt;0ORDER BY A.FIRM_SHIP_DATE,D.NAME


日志标题：，U了一IP！
发表时间：2006-4-13 16:39:00
日志内容：#isubb#才偷校去MSDN上看看了一下，]想_一下把IPχC接口部分拉出砹耍U了！幸好那MIS和我一宿危oo息的o我拿了一新的。

　　看恚上班的r候，最好不要走神！


日志标题：10种人才今后几年吃香 网媒人才年薪过10万
发表时间：2006-4-14 9:44:00
日志内容：来源：深圳特区报(06/04/14 07:38) 
　　在人才竞争日趋激烈的形势下，四年之后的2010年，什么样的行业能让你有所心动呢？请看以下预期的职业趋势： 
　　同声传译：年进账三四十万元。 
　　 同声传译员被称为“21世纪第一大紧缺人才”。随着中国对外经济交流的增多和奥运会带来的“会务商机”的涌现，需要越来越多的同声传译员。 
　　3G工程师：收入基本年薪15万元至20万元。 
　　据估计国内3G人才缺口将达到50万人以上。 
　　网络媒体人才：年收入在10万元至12万元。 
　　目前，类似于在新浪和搜狐的网络编辑的月薪都在5000元左右、中等职位的收入在8000元至10000元。 　　系统集成工程师：估计年收入10万元至20万元。 
　　用户对系统集成服务的要求不断提高，从最初的网络建设到基础行业的应用，再到对业务流程和资源策略的咨询服务。未来系统集成工程师应该是一路走高的职业。
　　精算师：年收入在12万元至15万元。 
　　 中国被世界保险界认可的精算师不足10人。随着国际保险巨头在中国开拓市场以及国内企业的需要，精算师是几年后保险业最炙手可热的人才，目前在国外的平均年薪达10万美元，国内目前月薪也在1万元以上。 
　　物流师：现在1年就能挣10万元。 
　　物流人才的需求量为600余万人。据相关人士透露，壳牌在国内招聘的应届大学生目前的年薪7万元至10万元，估计4年之后只会多不会少，因为能源越来越紧俏。 
　　环境工程师：年收入将在8万元至10万元。 
　　按照国际通行的惯例计算，中国在环境工程师方面的缺口在42万人左右。目前国内园林设计师、景观设计师的月薪都在七八千元左右。 
　　 注册会计师：年收入将在10万元左右。 
　　国内目前至少急需35万名注册会计师，而实际具备从业资格的只有8万人左右，其中被国际认可的不足15％。每年包括德勤、毕博在内的四大会计师事务所招收的高校毕业生月薪大都在五六千元，再加上每年丰厚的奖金，收入会超过10万元。 
　　 报关员：年挣10万元很轻松。 
　　据中华英才网资料，报关员目前的收入每月在5000元至8000元之间，珠三角地区报关员月薪都在七八千元。 
　　中西医师，医药销售：年收入至少应在6万元左右。

日志标题：搞笑的回答:家里怎么更安全?
发表时间：2006-4-14 17:08:00
日志内容：原贴地址:
http://zhidao.baidu.com/question/6081936.html
家里怎么更安全?赏分：20 - 离问题结束还有 14 天 22 小时提问者：昨夜是否想起 - 魔法学徒 一级 答复共 7 条
自己注意啊！乱七八糟的网站不上 杀毒软件一定要有！而且是可以升级的！ 回答者：ftsos - 见习魔法师 二级 4-14 15:43
安装三层防盗门 五层防盗窗 请108个保安 回答者：shuizhongyue16 - 试用期 一级 4-14 15:43
1,不要很有钱. 2,不要娶一个漂亮的妻子. 3,不要结仇. ... ... N.做人要厚道. 回答者：xlingFairy - 试用期 一级 4-14 15:44
其实，如果你使用的是正版的系统，然后不定期地升级，比用什么杀毒软件都强。 回答者：cd_wlg - 举人 五级 4-14 15:44
哈哈哈 xlingFairy说地很好。。。不错不错 楼主以后不要提这些弱智问题了吧 大家都是中国人 
还有一点 
做人要厚道 回答者：11111grrr - 举人 四级 4-14 15:47
把门开着,来个空城计. 回答者：zhangjieqiang - 助理 二级 4-14 16:01
最好别安门了， 那就没事了。呵呵呵呵....... 回答者：chenleia110 - 童生 一级 4-14 16:33

日志标题：o法打_CHM文件的解Qk法之一
发表时间：2006-4-14 20:30:00
日志内容：死!
　　下午重建了一系y管理T的用簦K把老的用KILL了，Y果，忘了把我的文ne的||弄出砹耍e面收集的||、桌面保存的||，我的收藏A，一都看不到了!
　　新用舻妮入法使用起砗懿环奖悖特e是那“新注音”、“注音”等||，我跟本不知道它是什N玩意，於是又把入法{了{。
　　看系y托Pe的“下午**：**”的字泳筒凰，於是又把地^及Z言x必了一通。
　　吃完晚，想打_一CHM看看，居然提示：o法_n案：mk@MSITStore:***.chm***,死，]有改用糁前好好的啊!
　　在W上找了大把方法，又是改注员恚又是改P、更新系y、下dHHUPD.EXE，Y果]有一有效的!
　　想硐肴ィ我是把^x摹爸形(台)”改成了 “中文(RPC)”了!原之後，OK了!
　　我繁w系y!一c都不爽!

日志标题：我槭颤N]打_CHM之模M版,以免大家`!
发表时间：2006-4-15 7:46:00
日志内容：希望τ邢嗤情r同志有椭。



日志标题：用ORACLE检查文件是否存在
发表时间：2006-4-15 9:37:00
日志内容：由于工作需要,做了一个简单的检查文件是否存在的PROCEDURE.
当然,如果换成ASP,PHP之类的语言来做,很简单,但是ORACLE里实现还真的费一番事.
首先要做一个文件夹的影射(是ORACLE服务器上的文件夹,而且必须存在),
CREATE OR REPLACE DIRECTORY CHECKFILE AS 'C:\';--创建一个目录对象
CREATE OR REPLACE PROCEDURE checkFile(fileName VARCHAR2) AS fil BFILE:=NULL; fil_exists INTEGER;BEGIN fil:=BFILENAME('CHECKFILE',fileName);--注意:fileName是不带路径的!  fil_exists:=DBMS_LOB.FILEEXISTS(fil);  DBMS_OUTPUT.PUT_LINE(fil_exists);  IF fil_exists&lt;&gt;0 THEN DBMS_OUTPUT.PUT_LINE(fileName || ' Exists'); ELSE  DBMS_OUTPUT.PUT_LINE(fileName || ' NOT Exists'); END IF;END;
SET SERVEROUTPUT ONEXECUTE checkFile('cc.txt');----------------------------------------1cc.txt Exists
EXECUTE checkFile('dsffda.txt');----------------------------------------0dsffda.txt NOT Exists
就这样,很简单.

日志标题：WEB&nbsp;Component&nbsp;之&nbsp;D表篇：_始研究
发表时间：2006-4-15 17:18:00
日志内容：l件：必安bofficeXP以上的版本，只能在IE下\行。
不^，以很爽了!由於@例子用到了WMI(我K不知道是什N||)，所以，r不能{出完整的效果!
_始研究，N出未完成的||，c粝旅娴拇a，可查看效果：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;object id="objChartSpace" classid="CLSID:0002E556-0000-0000-C000-000000000046"&gt;&lt;/object&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;if(objChartSpace.charts.count==0)objChart=objChartSpace.charts.add();
//注意，不是JavaScript里的数组了（JavaScript里是用[ ] 而不是 () ）objChartSpace.charts(0).hasTitle=true;objTitle=objChartSpace.charts(0).Title;//也可写成title，这在JavaScript 里一般是不允许的！objTitle.caption="Ha Ha";objTitle.Font.Bold = true;//不过，true还是要严格按JavaScript的来写objTitle.Font.Name = "Arial";objTitle.Font.Size = 12;
objAxis=objChartSpace.charts(0).axes(0);objAxis.hasTitle=true;objAxis.title.caption="Computer";objAxis.title.font.bold = true;//也可以写成objAxis.Title.Font.BoldobjAxis.title.font.name='Arial'
objAxis=objChartSpace.charts(0).axes(1);objAxis.hasTitle=true;objAxis.title.caption="% used disk space";objAxis.title.font.bold = true;//也可以写成objAxis.Title.Font.BoldobjAxis.title.font.name='Arial'
objScale=objAxis.scaling;objScale.minimum=0;objScale.maximum=100;
arrValues=strTmp.split(",");&lt;/script&gt;

日志标题：可替代性，被利用r值。
发表时间：2006-4-17 17:26:00
日志内容：今天_了一天的ERP研，大道理了不少，小道理也了不少。
最有感|的就有~：可替代性、被利用r值。
　　可替代性是指我目前的@份工作可以被替代的C率。假如f,由於我的一份工作，可以省掉相的位，那N我的可替代性就降低。
　　被利用r值，@很明@，假如一人]有了利用r值，l也不很情去理你，@很直白。m然人F在叫你**，**理，一旦你]有利用r值，那N所有的Q乎，90%都因此而扯淡!
　　如何降抵我的可替代性、提高我的利用r值？　　l人深思!

日志标题：先碚JR一下什N是WMI
发表时间：2006-4-18 8:42:00
日志内容：[D\]VB 使用WMI编程讲座一、认识WMI  通常VB程序员经常抱怨VB在编制Windows系统软硬件设备控制方面的程序比较困难，即使能实现一些功能，那也是要通过调用繁复的API函数，即难找寻到合适的函数，又难以理解设置函数中的各项参数，尤其是调试异常困难，动不动整个程序连带VB环境一起死悄悄。此外，用API编程几乎完全抛弃了面向对象的编程方法，迫使我们回到过程方式的编程。那怎么办呢？^_^别急，微软在WIN2000系统中推出了VBScript脚本语言替代原来的批命令，同时提供了一个供VBScript管理Windows系统的对象WMI。那这个WMI对象我们VB能用吗？答案是肯定的，当然能用，而且用起来还非常方便，在网上也已经有了一些VB写的利用WMI实现Windows系统管理编程的例程，但却缺少系统性介绍使用VB对WMI编程的资料。本文就针对此问题，进行一个尝试。当然要学习WMI编程，需要有一定的VB基础，但要求不高，只要会用控件、对象，能理解和使用对象的方法、属性，但不需要任何API方面的知识和编程经验。  首先我们要知道什么是WMI？WMI是Windows Management Instrumentation (Windows管理工具)的缩写，是内置在 Windows 2000、Windows XP 和 Windows Server 2003 系列操作系统中核心的管理支持技术。基于由 Distributed Management Task Force (DMTF) 所监督的业界标准，WMI 是一种规范和基础结构，通过它可以访问、配置、管理和监视所有的 ― 几乎所有的 Windows 资源。  呵呵，不要对这段文字进行咬文嚼字，通俗的讲，就是WMI是一个用于管理Windows系统的对象，就像ADO对象是用于数据库操作的。利用WMI我们可以管理Windows系统中的磁盘、事件日志、文件、文件夹、文件系统、网络组件、操作系统设置、性能数据、打印机、进程、注册表设置、安全性、服务、共享、用户、组等等。  而WMI适用的运得环境也是有些限制的， WMI 附带在 Windows Me、Windows 2000、Windows XP 和 Windows Server 2003 之中。对于 Windows 98 和 Windows NT 4.0，可以访问http://www.microsoft.com/downloads并搜索“Windows Management Instrumentation (WMI) CORE 1.5 (Windows 95/98/NT 4.0)”。注意：在 Windows NT 4.0 上安装并运行 WMI 之前，需要首先安装 Service Pack 4 或更高版本。WMI 需要的其他软件包括：  1. Microsoft Internet Explorer 5.0 或更高版本。   2. Windows Script Host（WSH）。Windows 2000、Windows XP、Windows Server 2003、和 Windows Me 附带的 WSH，而不是 Windows NT4 或 Windows 98 附带的 WSH。您可以从以下地址下载 WSH http://www.microsoft.com/downloads. WSH 的最新版本―― 包括在 Windows XP 和 Windows Server 2003 之中――是 WSH 5.6。   要使WMI脚本可以正常的运行，Windows里的WMI 服务（winmgmt）保证是运行的，这样才可以实现WMI里的更多功能。好了，关于WMI的一些基本的信息资料就说到这，要想看更多的可以到MicroSoft网站的MSDN找。  大家都喜欢通过例程来学东西，那我们也先编一段程序来看看。不知道大家看到过没有本人在本论坛中曾经写过一篇“自己做进程管理器”的帖子，在那篇帖子里主要是采用API函数罗列出当前系统下正在运行的所有进程，下面我们利用WMI也来做一个进程管理器。首先建立一个新工程具有Form1窗体，在菜单中的【工程】―【部件】下，添加“Microsoft Windows Common Controls 6.0”，在菜单中的【工程】―【引用】下，添加“Microsoft WMI Scripting V1.1 Library”，然后在Form1窗体上添加1个ListView1和Command1、Command2，在代码窗口添加如下代码（例程1）：Option ExplicitDim objSWbemLocator As New SWbemLocatorDim objSWbemServices As SWbemServicesDim objSWbemObjectSet As SWbemObjectSetDim objSWbemObject As SWbemObjectPrivate Sub Form_Load()  Me.Caption = "进程管理器"  Command1.Caption = "刷新"  Command2.Caption = "结束进程"  ListView1.ColumnHeaders.Clear  ListView1.ColumnHeaders.Add , "a", "进程ID", 600  ListView1.ColumnHeaders.Add , "b", "进程名", 2000  ListView1.ColumnHeaders.Add , "c", "路径", 6000  ListView1.View = lvwReport  Command1_Click '刷新进程列表End SubPrivate Sub Command1_Click()Dim i As Long  ListView1.ListItems.Clear '清空ListView  Set objSWbemServices = objSWbemLocator.ConnectServer()'连接到本机的WMI，返回一个对 SWbemServices 对象的引用  Set objSWbemObjectSet = objSWbemServices.InstancesOf("Win32_Process") '返回Win32_Process类名标识的所有实例  i = 0  For Each objSWbemObject In objSWbemObjectSet'枚举每一个Win32_Process的实例  ListView1.ListItems.Add , "a" &amp; i, objSWbemObject.Handle '将进程ID添加到ListView1第一列  ListView1.ListItems("a" &amp; i).SubItems(1) = objSWbemObject.Name '将进程名添加到ListView1第二列  If Not IsNull(objSWbemObject.ExecutablePath) Then _    ListView1.ListItems("a" &amp; i).SubItems(2) = objSWbemObject.ExecutablePath '将进程路径添加到ListView1第三列  i = i + 1  Next  Set objSWbemObjectSet = NothingEnd SubPrivate Sub Command2_Click()Dim TMBack As Long  If ListView1.SelectedItem.Text &lt;&gt; "" Then  If MsgBox("确实要结束进程[" &amp; ListView1.SelectedItem.SubItems(1) &amp; "]吗？", vbYesNo) = vbYes Then    Set objSWbemObjectSet = objSWbemServices.ExecQuery("SELECT * FROM Win32_Process WHERE Handle = '" &amp; ListView1.SelectedItem.Text &amp; "'") '查询Win32_Process类中Handle属性等于指定值的所有实例    For Each objSWbemObject In objSWbemObjectSet      TMBack = objSWbemObject.Terminate '终止指定进程    Next    If TMBack = 0 Then      MsgBox ListView1.SelectedItem.SubItems(1) &amp; "已经被终止！"    Else      MsgBox ListView1.SelectedItem.SubItems(1) &amp; "不能被终止！"    End If    Command1_Click '刷新进程列表  End If  End IfEnd Sub  呵呵，我们没有用任何系统的API函数却千真万确的实现了进程管理这个系统级的应用，而且采用的是标准的面向对象的编程，其实这段代码仅仅实现了我们在前面提到的一篇“自己做进程管理器”的帖子中用API函数也能实现的功能。嗯？？？怎么？还能比这更强？哈哈，当然！！下一讲我们分析该例程时，还会告诉各位，将该例程稍加修改，就可以在你的局域网中对任何一台WIN2000以上的计算机进行进程管理！晕！那不是我就能在我的局域网中为所欲为了吗？别急，那当然是有条件的，微软当然不会允许未经授权就可以随便控制其它的计算机的。  因为本人平时工作还是比较忙的，只有抽空就继续写，打算每星期写一讲，本次算是第一讲，下一讲主要结合本讲的例程，介绍在VB中使用WMI的基本方法。

日志标题：WEB&nbsp;Component&nbsp;之&nbsp;D表篇：完整示例
发表时间：2006-4-18 12:53:00
日志内容：那WMI真的不知道如何搞，需要WMI服盏闹С郑要是ME、2000、XP或更高的WINDOWS版本。不搞了。蔚模用蔚到M碜源！
c粝旅娴拇a，可查看效果：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;object id="objChartSpace" classid="CLSID:0002E556-0000-0000-C000-000000000046"&gt;&lt;/object&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;if(objChartSpace.charts.count==0){objChart=objChartSpace.charts.add();objChart.seriesCollection.add();}
//注意，不是JavaScript里的数组了（JavaScript里是用[ ] 而不是 () ）objChartSpace.charts(0).hasTitle=true;objTitle=objChartSpace.charts(0).Title;//也可写成title，这在JavaScript 里一般是不允许的！objTitle.caption="Ha Ha";objTitle.Font.Bold = true;//不过，true还是要严格按JavaScript的来写objTitle.Font.Name = "Arial";objTitle.Font.Size = 12;
objAxis=objChartSpace.charts(0).axes(0);objAxis.hasTitle=true;objAxis.title.caption="Computer";objAxis.title.font.bold = true;//也可以写成objAxis.Title.Font.BoldobjAxis.title.font.name='Arial'
objAxis=objChartSpace.charts(0).axes(1);objAxis.hasTitle=true;objAxis.title.caption="% Information Test";objAxis.title.font.bold = true;//也可以写成objAxis.Title.Font.BoldobjAxis.title.font.name='Arial'
objScale=objAxis.scaling;objScale.minimum=0;objScale.maximum=100;

var arrTitle=new Array("xling","fairy","snow","werewi");var arrData=new Array(98,67,54,32);
objConstants = objChartSpace.ConstantsobjChartSpace.charts(0).seriesCollection(0).SetData(objConstants.chDimCategories, objConstants.chDataLiteral, arrTitle);objChartSpace.charts(0).seriesCollection(0).SetData(objConstants.chDimValues, objConstants.chDataLiteral, arrData);&lt;/script&gt;

日志标题：FormBuilder里ComboBox，应注意的事项之:index_value
发表时间：2006-4-19 9:08:00
日志内容：#isubb#FormBuildere　ComboBox，注意思的事之index_value：

ADD&#717;LIST_ELEMENT('list_name'),[color=#DC143C]index_value[/color],'label','value');

@e的index_value是1_始的，而非0_始，可自行把下列程序中的 i　的初始值修改，yY果:


DECLARE
	sex student.sex%TYPE;
	sexLabel VARCHAR2(10);
	i	Integer:=1;
	CURSOR selectSex IS
		SELECT DISTINCT DECODE(SEX,'M','Male','F','Female','Other') AS SEXLABEL,SEX FROM STUDENT;
BEGIN
	OPEN selectSex;
	LOOP
		FETCH selectSex INTO sexLabel,sex;
		EXIT WHEN selectSex%NOTFOUND;
		ADD_LIST_ELEMENT('STUDENT.SEX',i,sexLabel,sex);
		i:=i+1;
	END LOOP;
	:SHOW.SEX_NUM:=i;
END;

日志标题：Oracle FormBuilder 里的 ALERT
发表时间：2006-4-19 13:13:00
日志内容：Oracle FormBuilder 里的 ALERT:首先,使用起来不是那么顺心!1,可被动态创建,但是是一项很繁琐的事!
d2faltcr_Create( d2fctx *pd2fctx, d2fob *parent, d2falt **ppd2falt, text *name );This function creates an alert object. You specify a pointer to the context in pd2fctx, a pointer to the parent of the new alert object in parent, a handle for the function to store the newly-created alert object in ppd2falt, and the name of the new object in name. This function returns D2FS_D2FS_SUCCESS if it is able to create the new alert object and store it in ppd2falt.........
一句话,看不懂!所以,还要在每个Form里手动加一个 ALERT 进去,然后在调用。
2,不能动态的调整　ALERT　里按钮的个数（可能是我不会）、显示图标：

PROCEDURE SET_ALERT_BUTTON_PROPERTY(alert_id ALERT, button NUMBER,property VARCHAR2,value VARCHAR2); PROCEDURE SET_ALERT_BUTTON_PROPERTY(alert_name VARCHAR2,button NUMBER,property VARCHAR2,value VARCHAR2); 
Parameters
alert_idSpecifies the unique ID (data type ALERT) that Form Builder assigns to the alert when it is created. Use FIND_ALERT to return the ID to an appropriately typed variable. alert_nameSpecifies the VARCHAR2 name of the alert. 
buttoAconstant that specifies the alert button you want to change, either ALERT_BUTTON1, ALERT_BUTTON2, or ALERT_BUTTON3.
propertyLABEL Specifies the label text for the alert button.valueSpecifies the VARCHAR2 value to be applied to the property you specified. 
Usage NotesIf the label specified is NULL, the button's label reverts to the label specified at design time.
从上面的描述中，可以看出，用set_alert_button_property好像只能设置按钮的label。

SET_ALERT_PROPERTY(alert_id ALERT,property NUMBER,message VARCHAR2); SET_ALERT_PROPERTY(alert_name VARCHAR2,property NUMBER,message VARCHAR2); 
Parameters
alert_idSpecifies the unique ID (data type ALERT) that Form Builder assigns to the alert when it is created. Return the ID to an appropriately typed variable. alert_nameSpecifies the VARCHAR2 name of the alert. propertySpecifies the specific alert property you are setting: 
ALERT_MESSAGE_TEXT Specifies that you are setting the text of the alert message. TITLE Specifies the title of the alert. Overrides the value specified in Form Builder unless the property value is NULL.
messageSpecifies the message that is to replace the current alert message. Pass the message as a string enclosed in single quotes, as a variable, or in a string/variable construction. 
从上面可以看出，set_alert_property好像只能设置title和alert_message_text而已。
3,网上的相关资料少的可怜！更特别是，我现在用的是 FormBuilder 6i的！
下面是我写的一个测试程序：一开始，我把procedure命名为 ALERT，编译的时候，发生了错误，就是找不到错在哪！后来才发现是过程名和类型 ALERT　冲突了！可见FormBuilder 6i的调度环境是多么的不理想！

PROCEDURE ALERT_(MSG IN VARCHAR2,ALERT_NAME IN VARCHAR2 DEFAULT 'ALERT') IS　-- DEFAULT 'ALERT'中的 ALERT是手工添加进Form里的　ALERT 控件。
ALERT_ID ALERT;ALERT_BUTTON INTEGER;BEGIN ALERT_ID:=FIND_ALERT(ALERT_NAME); IF ID_NULL(ALERT_ID) THEN BELL; MESSAGE('Not found Alert: ' || alert_name); RAISE FORM_TRIGGER_FAILURE; END IF; SET_ALERT_PROPERTY(ALERT_ID,ALERT_MESSAGE_TEXT,MSG); SET_ALERT_PROPERTY(ALERT_ID, SET_ALERT_BUTTON_PROPERTY(ALERT_ID,ALERT_BUTTON1,LABEL,'确定');ALERT_BUTTON:=SHOW_ALERT(ALERT_ID);END;

日志标题：If&nbsp;love&nbsp;,translate&nbsp;by&nbsp;Google.
发表时间：2006-4-19 13:39:00
日志内容：Beginning you are wrong, you should not look back in love with me.You chose love and be loved by choice. We weave together a love and be loved happiness. Wrong or wrong, because you pursue romantic, your pursuit of happiness I now have laws to you. But in my efforts. You are right, everyone is looking forward to a beautiful life, and I am no exception. However, my beautiful life to the work step by step through me. I was still young, I still lack the experience, I need is time, you will understand why you constantly inspired me, but please do not use that kind of tone and approach to inspire me, in my view, I agree to my contempt for my fight, if you really love me, please-a way. Without love, but also a way for you. I men, but men love is fragile. Particularly you, and in one in three of the combat-style inspiration. If love, please give me encouragement. If love, please understand me. If love, please join me. If not love, when I did not say that. 
一开始你就错了，你不该回头爱上我。　　你选择了爱，也选择了被爱。我们一起编织着爱和被爱的幸福。　　错还是错的，因为你追求的浪漫、你追求的幸福我现在都法给你。但是我在努力。　　你是对的，每个人都在憧憬美好的人生，我也不例外。只不过，我的美丽人生要通过我一步一步的拼搏。我还年轻，我还缺少经验，我需要的是时间，你也懂，所以你在不断的激励我，但是请你不要用那种口气和方式来激励我，在我看来，那是对我的蔑视，是对我的打击，如果你真的爱我，请你换一种方式。如果不爱，也请你换一种方式。　　我是男人，但是男人的爱情也是脆弱的。经不住你这样的、一而在，在而三的打击式的激励。　　如果爱，请你给我鼓励。　　如果爱，请你理解我。　　如果爱，请和我一起努力。
　　如果不爱，就当我没有说。

日志标题：内部方法/函数 及 得到当前活动(Active)对象
发表时间：2006-4-19 14:59:00
日志内容：学JAVA的时候,接触过 内部类(Inner Class),现在在 FormBuilder(PL/SQL)里又碰到了 内部过程(Procedure)/方法(Function),这些是我以前学其它编程语言的时候,所没有的(或许是我的水平有限).
　　下面的程序段是一段测试程序,其作用是得到当前活动(Active,只有通过Trigger:WHEN_BUTTON_PRESSED调用了该程序的对象)对象的名称,填入ACTION_VALUE内,并设置按钮(EXECUTE_QUERY,ENTER_QUERY,CANCEL_QUERY)是否可用,但是有一个错误(Cannot set ENABLED attribute of current item :***.***),这个错误,我现在的水平还无法解决,继续学习:
PROCEDURE BUTTON_PROC ISaction VARCHAR2(100);
--内部子程序PROCEDURE SET_ENABLED(ITEM_NAME IN VARCHAR2,ENABLEDVALUE BOOLEAN DEFAULT TRUE) ISBEGINIF NOT ID_NULL(FIND_ITEM(ITEM_NAME)) THENIF ENABLEDVALUE THENSET_ITEM_PROPERTY(ITEM_NAME,ENABLED,PROPERTY_TRUE);ELSESET_ITEM_PROPERTY(ITEM_NAME,ENABLED,PROPERTY_FALSE);END IF;END IF;END;BEGIN--得到当前活动的对象,action:=GET_ITEM_PROPERTY(NAME_IN('SYSTEM.TRIGGER_ITEM'),ITEM_NAME);:BLK3.ACTION_VALUE:=action;IF action='ENTER_QUERY' THENSET_ENABLED('EXECUTE_QUERY',FALSE);SET_ENABLED('ENTER_QUERY',FALSE);SET_ENABLED('CANCEL_QUERY',TRUE);END IF;IF action='EXECUTE_QUERY' THENSET_ENABLED('EXECUTE_QUERY',FALSE);SET_ENABLED('ENTER_QUERY',FALSE);SET_ENABLED('CANCEL_QUERY',TRUE);END IF;IF action='CANCEL_QUERY' THENSET_ENABLED('EXECUTE_QUERY',TRUE);SET_ENABLED('ENTER_QUERY',TRUE);SET_ENABLED('CANCEL_QUERY',FALSE);END IF;END;

日志标题：一个汉字三个字节
发表时间：2006-4-19 16:41:00
日志内容：
　　以我原来的编程经验，一个汉字就是两个字节，但是，直到今天（其实以前也看过，不过没有验证过而已），才见识了一个汉字是怎么占用三个字节的。
　　以下是资料：

国际化字符类型
　　被广泛使用的单字节ASCII和EBCDIC字符集适合使用罗马字母来表示，但是对于有些亚洲语言，像汉语包含了数千个字符，并且每一个字符都是用双字节来表示。
　　国际字符集对数据采用统一的字符编码标准，使用UTF8或AL16UTF16编码。　　在AL16UTF16编码中，每个字符有两个字节，这样可以方便的计算字符串的长度，从而避了在不同的编程语言中造成截断字符的错误。但是当我们在存储ASCII字符的时候，就浪费了额外多的存储空间。　　　　在UTF8编码中，每一个字符由一个、两个或三个字节组成。
　　以下是测试，在我所在的这个环境下，中华人民 这四个汉字刚好占用12个字节，也就是说一个汉字占了三个字节。至于为怎么改成一个汉字占用两个字节，我是没有机会弄了（用的是服务器的数据库，本机如果装了ORACLE，跑起来也只不过是刚刚勉强而已:Pentium(R)4 CPU 3.00GHZ 2.99GHZ（双内核）,512MB的RAM,120G硬盘），
以下会报：ORA-06502: PL/SQL: 数字或值错误 : 字符串缓冲区太小 
SET SERVEROUTPUT ONDECLARE aa CHAR(8);BEGIN aa:='中华人民'; DBMS_OUTPUT.PUT_LINE(aa);END;
以下得到的结果为：12SELECT LENGTHB('中国人民') FROM DUAL

日志标题：搞笑：当今世界最牛的图片
发表时间：2006-4-20 13:09:00
日志内容：当今世界最牛的图片，一定要看呀！http://blog.eastmoney.com/hdxiao/56596.html
RSS怎N用啊!
有l教教我!

日志标题：FormBuilder&nbsp;之动态筛选
发表时间：2006-4-20 15:54:00
日志内容：用Data Block Wizard 生成数据块的时候,如果不是基于 Stored Procedure(即Table or View,基于Stored Procedure的数据块我现在也不会用)的,在执行的时候,会把所有数据都选出来(当然是指没有静态设定数据块的WHERE CLAUSE 属性).但是,并不是所有的数据都是有用的,怎样才能对上面所选出的数据进行筛选呢?要用到两个下面所列出来的要点:

l 得到数据块的属性:GET_BLOCK_PROPERTY
l 设置数据块的属性:SET_BLOCK_PROPERTY

l SYSTEM.TRIGGER_BLOCK 当前Active(活动)的数据块.
l DEFAULT_WHERE

l PRE-QUERY
l WHEN-FORM-NEW-INSTANCE

下面是示例:
Type:Trigger object:Form Level Name:Pre-query
即:Form的触发器 pre-query
-----------------------------------------------------------------------------------------
DECLARE
 v_query VARCHAR2(2000);
BEGIN
 v_query:=GET_BLOCK_PROPERTY(:SYSTEM.TRIGGER_BLOCK,DEFAULT_WHERE);
 IF v_query IS NULL THEN
 v_query:=' SEX=''F''';
 SET_BLOCK_PROPERTY(:SYSTEM.TRIGGER_BLOCK,DEFAULT_WHERE,v_query);
 END IF;
END;

上面的动作只不过相当于SQL:
SELECT * FROM STUDENT WHERE SEX=’F’;
而已.
这样,默认选出的记录就只有SEX=’F’的了,也就是相当于静态的给BLOCK的属性 WHERE CLAUSE 赋值:SEX=’F’.

另外,在执行FORM的时候,默认并没有把数据显示出来,要想在FORM显示出来的时候,把数据也显示出来,就要用Trigger:WHEN-NEW-FORM-INSTANCE

Type:Trigger object:Form Level Name:WHEN-NEW-FORM-INSTANCE
即:Form的触发器 WHEN-NEW-FORM-INSTANCE
-----------------------------------------------------------------------------------------
GO_BLOCK('STUDENT'); --跳到数据块 STUDENT
EXECUTE_QUERY; --执行

我是初学者,如果您看到上面的文字之后,感觉到好笑,请见谅.个人水平有限而已.

日志标题：在CSS里写复杂的JavaScript脚本
发表时间：2006-4-20 19:14:00
日志内容：在IE下,CSS里可以写入JavaScript脚本,不过,要用expression套住.　　虽然可以这样,但是由于是在CSS里,这个特殊地方,所以,不能写成如下这样:　　　　
width:expression(if(...){}else{...})
　　因为"{"和"}"和CSS里的 "{"与"}"冲突.　　好像也不能用引号,具体没有测试.　　这样一来,在CSS里写脚本就不具备灵活了,但是如果想写一个复杂的脚本到CSS里,该如何处理呢?是一个问题,经测试,可以先定义一个函数,然后在expression里调用就行了,不过由于在CSS里用了expression,所以,只能在IE里运行.一下是示例,点击代码可运行.

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;script&gt;ex=function(){if(document.getElementById("dg")!=null){return document.getElemntById("dg").offsetWidth;}else{return 500;}}&lt;/script&gt;&lt;style&gt;.aa {height:100px;width:expression(ex());background-color: #00FF00;}&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div class="aa"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：爱到深处,为什么没了理解!
发表时间：2006-4-20 22:22:00
日志内容：我们相爱三年了.　　两天前,她发短信给我,说:我们还是保持点距离的好,直到明年.　　本来是打算明年回家和她订婚的,她如果只这样说,我也不会介意.但是,她又说不想回信阳,我是信阳的(俺是泥脚).信阳很穷,这是个不争的事实.其实,我也理解她的心情,因为爱. 
　　每个人都希望自己有个幸福的家,她也不例外,我也不例外,我答应过她,以后有钱,就到郑州买房,我有这个雄心,只不过,需要付以时日来实现而已.
　　毕业一年半了,出来打工也快两年半了,只是都是在小公司里做而已.做为一个程序员,在那些小公司里我是真的没有学到什么东西.虽然之前是在一个ERP软件公司里供职,但是由于我应聘的是网络程序员,专职做网站之类的程序,所以对ERP我是一壳不通.现在,我在一家工厂里做事,工厂是小了点,但是有我想要的东西:ORACLE,ERP.
　　现在的经理看的很开,不会ORACLE没关系,可以学;不会ERP业务也没有关系,可以学.所以,在这家公司快两个月了,我每天就是看看教学录像,练练PL/SQL,FormBuilder而已,较之以前,我个感觉有很大的进步.
　　可是女友却不这样认为,她认为我不该来这家公司,而应去深圳看看,或是进一家大的公司里,至少要比她所在的公司大(她所在的一家公司有6000多员工).因为这家公司开的工资低,两千多而已,基本上和她的工资一样高.
　　她说要和我分手,我没有理她,短信也没有回一条,就当默认了吧.
　　女友还说：两个人一个月就那么几千块工资,养个小孩都很困难,看到她们公司里两个小职员连个孩子也养不起(夸张).不如现在分手算了.
　　我反勃说:你准备养几个孩子?准备喂他们什么?是不是要把他们当宝贝疙瘩供着?　　　　其实,女人有时只是想撒娇而已,只不有时候选的方法不对.
　　我很爱她,所以不想,也不愿和她分手.
　　两天了,我没有理过她.　　中午给我发短信,有点要和解的意思,我没有理她.　　　　刚才,要我打电话到她宿舍,说清楚.我打了过去,不过说的很不投机.她说,我胆量太小,不敢去闯;刚从一家小公司出来又进了一家小公司,很不值得,而且现在离她还很远(坐车要两个多小时);即使在这家公司里学会了ORACLE,出去也不一定用的上(女人,就是女人).还说,她要去深圳,她的同学,在学校里很烂的同学在深圳工资也比我高.我还能说什么?说深圳消费高吗?
　　不是我不想去,去就要有资本;去就不能把三五千块工资的工作放在眼里;做人是要有追求,但是总不能一口吃个胖子吧!
　　无话可说,我说分就分吧.
　　女友又发来大堆短信,我一条也没有回,心情很烦.
　　为什么爱到深处就没有了理解?

日志标题：Jtree又有更新了!
发表时间：2006-4-21 14:04:00
日志内容：JTree的最新下载地址: UploadFiles/2006-4/421766042.rar
可参考:http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2362559
加入功能:双击返回值 

　　好久之前做的这个东东了,因为换工作(不做网站了),一直没有对它做太大的调整.今天上QQ,以前有个客户请我帮忙,让我给改两个WEB控件,一个树形控件,一个日期控件.
　　一听有个树形控件,我立马向他推荐JTree.因为我以前给他做过一个WEB的销售系统,里面的Tree就是我写的,只不过,那时还不成熟而已.
　　他要求加入双击带出返回值( 这是一种模式,这样做可以改良用户界面,我也是从前一个公司里了解的,大至就是通过点击一个按钮,或双击,弹出一个小窗口,把可选的值以列表或其它的形式展示,在通过双击,把当前点选的值通过window.returnValue返回,并填入原页面的一个OBJECT内,ERP里,这种模式用的很多 )的功能,这个很简单,我只需要双击把当前选中的XML节点返回就行了.于是就扩充了一下JTree的功能.

　　得到的评价是:这个树很漂亮,功能也相当强大,可以在外部自定义事件!

　　在外部自定义事件内容,是我在开发这个东东的时候,就十分关注的,现在感到很有自豪感

　　更新包里新加入一份ASP的代码，用于示例如何生成所需要的xml文件．


日志标题：教程:iframe&nbsp;的用法与注意事项
发表时间：2006-4-22 9:43:00
日志内容：文章下载地址:
UploadFiles/2006-4/422864274.rar
本文主要来讲述一下 iframe 的用法与注意事项:
 好多同志对 iframe 是如何控制的,并不是十分了解,基本上还处于一个模糊的认识状态.
 讨论贴: http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2546760
注意两个事项,ifr 是一个以存在的 iframe 的 ID 和 NAME 值:
l document.getElementById(“ifr”);
l window.frames[“ifr”];

要想使用iframe内的函数,变量就必须通过第二种方法.因为它取的是一个完整的DOM模型(不知道这样说对不对).第一种方法只是取出了一个OBJECT而已.

如果只想改变iframe的 src 或者 border , scrolling 等 attributes(与property不是一个概念,property是不能写在标签内的,比如:scrollHeight,innerHTML等),就需要用到第一种方法.

如果想取得iframe的页面(不是iframe本身),就需要使用第二种方法,因为它取得的是一个完整的DOM模型,比如想得到iframe的document.body的内容,就只能用第二种方法.

还要注意的是,如果在iframe的页面未完全装入的时候,调用iframe的DOM模型,会发生很严重的错误,所以,你要准备一个容错模式.

下面是示例,一个是aa.htm,一个是bb.htm,请先考到本地在运行,原因不用我在说了吧!

文章太长,请下载附档,或进入讨论贴.
UploadFiles/2006-4/422864274.rar
http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2546760

日志标题：无耻的女博MM,可能是我见的最多回复的贴子
发表时间：2006-4-23 8:51:00
日志内容：这样的女人,没了天良!
我不做太评价,大家自己看吧!
目前有140页评价.
http://club.chinaren.com/bbs/detail_msg.jsp?mainmsgid=44353708&amp;boardid=0&amp;top=0&amp;P=0

日志标题：[转]世界上最经典的18句话
发表时间：2006-4-23 11:01:00
日志内容：摘自我的同学录:
1.记住该记住的，忘记该忘记的。改变能改变的，接受不能改变的2.能冲刷一切的除了眼泪，就是时间，以时间来推移感情，时间越长，冲突越淡，仿佛不断稀释的茶3.怨言是上天得至人类最大的供物，也是人类祷告中最真诚的部分4.智慧的代价是矛盾。这是人生对人生观开的玩笑5.世上的姑娘总以为自己是骄傲的公主6.如果敌人让你生气，那说明你还没有胜他的把握7.如果朋友让你生气，那说明你仍然在意他的友情8.令狐冲说“有些事情本身我们无法控制，只好控制自己。”9.我不知道我现在做的哪些是对的，那些是错的，而当我终于老死的时候我才知道这些。所以我现在所能做的就是尽力做好每一件事，然后等待着老死10.也许有些人很可恶，有些人很卑鄙。而当我设身为他想象的时候，我才知道：他比我还可怜。所以请原谅所有你见过的人，好人或者坏人11.鱼对水说你看不到我的眼泪，因为我在水里.水说我能感觉到你的眼泪，因为你在我心里。12.快乐要有悲伤作陪，雨过应该就有天晴。如果雨后还是雨，如果忧伤之后还是忧伤。请让我们从容面对这离别之后的离别。微笑地去寻找一个不可能出现的你！13.你出生的时候，你哭着，周围的人笑着；你逝去的时候，你笑着，而周围的人在哭！一切都是轮回!!!!我们都在轮回中！14.男人在结婚前觉得适合自己的女人很少，结婚后觉得适合自己的女人很多15.于千万人之中，遇见你所遇见的人；于千万年之中，时间的无涯荒野里，没有早一步，也没有晚一步，刚巧赶上了。16.人生短短几十年，不要给自己留下了什么遗憾，想笑就笑，想哭就哭，该爱的时候就去爱，无谓压抑自己17.《和平年代》里的话：当幻想和现实面对时，总是很痛苦的。要么你被痛苦击倒，要么你把痛苦踩在脚下18.真正的爱情是不讲究热闹不讲究排场不讲究繁华更不讲究噱头的

日志标题：原来快速显示桌面是这样的东东
发表时间：2006-4-23 12:51:00
日志内容：在论坛上看有同志把 显示桌面 这个东东给删了,想恢复,却又找不到办法,于是我在自己的电脑上把那个东东拉了出来,用记事本打开,没想是这个东东,很简单:
另存为 显示桌面.scf
[Shell]Command=2IconFile=explorer.exe,3[Taskbar]Command=ToggleDesktop

日志标题：三张图片
发表时间：2006-4-24 12:47:00
日志内容：



日志标题：小事，不足挂齿．
发表时间：2006-4-24 16:14:00
日志内容：估计是刚才服务器有动过，出现了暂时的二级域名无法访问的现象．
现在好了，但是刚才一打开，发现所有日志都成了未分类的了．于是整站更新了一下，现在好了．

日志标题：牛什么牛，解开你的神秘，让你牛！
发表时间：2006-4-24 20:30:00
日志内容：在论坛上遇一牛人，发表了一个给对象添加自定义事件。
一开始，我误以为只是简单的方法而以，于是说他是多此一举，没想那家伙给我来了大堆高傲的，欺负俺不会 .NET。
在细一看，什么东东啊！有那么神秘吗？不过就是按名称把方法存储起来，用的时候，在按名称把方法取出来而已。

于是模拟了一个（他的写的不全 ^_^）,点击代码查看结果


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" &gt;
&lt;head&gt;
 &lt;title&gt;Untitled Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;
&lt;script language="javascript" type="text/javascript"&gt;

function eventObj(){
 this.eventName=null;
 this.method=null; 
}

function JObj(){
 var self=this;
 var eventList=new Array();
 
 this.AUTHOR="xling";
 this. INFO="W如何在ο笸獠慷x事件热";

 this.extractMethod=function(pEventName){
 for(var i=0;i&lt;eventList.length;i++){
 if(eventList[i].eventName==pEventName){
 alert(eventList[i].eventName + " will be run")
 eventList[i].method();
 }
 }
 }
 
 this.method2=function(){
 self.extractMethod("method2");
 }
 
 this.method1=function(){
 self.extractMethod("method1");
 }
 
 this.addEvent=function(pEventName,pMethod){
 var tmpEventObj=new eventObj();
 tmpEventObj.eventName=pEventName;
 tmpEventObj.method=pMethod;
 eventList.push(tmpEventObj);
 }
}

function method1(){
 alert("method1 run");
}

function method2(){
 alert("method2 run");
}

var myJObj=new JObj();
 myJObj.addEvent("method1",method1);//都xoJObj.method1()
 myJObj.addEvent("method1",method2);
 
 myJObj.method1();
 myJObj.method2();//@是空的，因]有o它加热荨
&lt;/script&gt;

日志标题：图片三张
发表时间：2006-4-26 18:46:00
日志内容：



日志标题：很久以前想说的话,河南人怎么了?
发表时间：2006-4-26 19:26:00
日志内容：我是河南人!




日志标题：原来CSS里的 !important 是如此用法
发表时间：2006-4-26 20:39:00
日志内容：点击查看效果:

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;style type="text/css"&gt;
.aa{
 font-family: Verdana, Arial, Helvetica, sans-serif;
 font-size: 12px;
 background-color: #FF0000 !important
}

.bb{
 font-family: Verdana, Arial, Helvetica, sans-serif;
 font-size: 12px;
 background-color: #FF0000;
}
&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
以下两个DIV的样式基本一样,但是第一个的外挂(理解俺的意思就行了)样式:background-color后面加了一个 !important,所以,虽然第一个DIV行内(in line)CSS也定义了background-color,但是却是参照外挂的background-color,其它的没有指定 !important 的,就被行内的STYLE覆盖掉了.
&lt;div class="aa" style="background-color:#cc6600;font-size:16px;"&gt;中Class中包括:!important的样式&lt;/div&gt;
&lt;div class="bb" style="background-color:#cc6600"&gt;不包括的样式&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

日志标题：奇怪的about:blank之body
发表时间：2006-4-27 13:15:00
日志内容：奇怪ing 今天在论坛上看有同志提出怎么用iframe父窗口的滚动条控制iframe的滚动条,做是做出来了,但是因为用了iframe．
　　iframe又不能引用其它网址(会因为浏览器的安全问题发生错误,所以不用),所以用了一个aa.html和bb.html,这样,就必须保存到本地才能看效果.为了方便,我试途让iframe引用about:blank来做,但是about:blank是没有body的(不信可以试,它只包含到document),于是,我给它动态的加了一个body对象,给这个body对象加了innerHTML,用alert可以看到这个body对象是有内容的,但是,梢纵即逝,具体可以点击下面的代码查看效果,郁闷,为什么明明有innerHTML,一开始也显示了,但是会立即消失???要在ＩＥ里看


&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;iframe src="about:blank" width="500" height="500" id="ifr" name="ifr"&gt;&lt;/iframe&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;script language="javascript" type="text/javascript"&gt;
var ifr_id=document.getElementById("ifr");
var ifr_window=window.frames["ifr"];

var sub_height;
var tmp;
var father_height;
var scale;

function getSubHeight(){
 /*测试一
 ifr_window.document.appendChild(ifr_window.document.createElement("BODY"));
 ifr_window.document.body.innerHTML="ADF&lt;br /&gt;ADF&lt;br /&gt;ADF&lt;br /&gt;ADF&lt;br /＞＂
alert(ifr_window.document.body.innerHTML)
 */
 
 /*测试二*/
 with(ifr_window.document){
 _body=createElement("BODY");
 _body.innerHTML="ADF&lt;br /&gt;ADF&lt;br /&gt;ADF&lt;br /&gt;ADF&lt;br /&gt;ADF&lt;br /&gt;ADF&lt;br /&gt;";
 
 appendChild(_body);
 alert(body.innerHTML);
 }
 
 sub_height=ifr_window.window.document.body.scrollHeight;
 father_height=window.document.body.scrollHeight;
 clearInterval(tmp);
 calc();
}
getSubHeight();

function calc(){
 scale=sub_height/(father_height-window.document.body.clientHeight);
}

window.onscroll=function(){
 alert(ifr_window.window.document.body.innerHTML)
 ifr_window.window.document.body.scrollTop=window.document.body.scrollTop*scale;
}

&lt;/script&gt;

日志标题：百度百科正式上线
发表时间：2006-4-27 22:00:00
日志内容：我个人还是比较支持baidu的,所以很少用google,因为我是中国人(可能有人认为这和是哪国人无关),也因为下载D版软件很方便!.
　　百度的贴吧，知道还是比较不错的，刚才进个人中心，看有一条消息，百度百科，还不错，我喜欢！
百度百科正式上线！http://baike.baidu.com大家快去编辑自己所喜欢词条吧，不要让别人抢先哦：）贴吧用户可通过下面的页面到百科编辑词条，不但可以争取到积分，还有机会获得2006年贴吧限量版熊掌靠垫系列http://www.baidu.com/search/post06bk.html

日志标题：图片二张
发表时间：2006-4-28 18:48:00
日志内容：


日志标题：你相信这是画的吗？?
发表时间：2006-4-28 21:40:00
日志内容：









日志标题：超简单的润年计算方法
发表时间：2006-4-29 13:45:00
日志内容：超简单的润年计算方法
用JS算,绝不采用润年公式计算!
原理:
var myDate=new Date(2004,1,0);//月份是从0开始的
这个myDate一定就是2004年2月29日!

下面是例子子:


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;select id="year" onchange="listDay()"&gt;
 &lt;option value="1990"&gt;1990&lt;/option&gt;
 &lt;option value="1991"&gt;1994&lt;/option&gt;
 &lt;option value="1992"&gt;1992&lt;/option&gt;
 &lt;option value="1993"&gt;1993&lt;/option&gt;
 &lt;option value="1994"&gt;1994&lt;/option&gt;
 &lt;option value="1995"&gt;1995&lt;/option&gt;
 &lt;option value="1996"&gt;1996&lt;/option&gt;
 &lt;option value="1997"&gt;1997&lt;/option&gt;
 &lt;option value="1998"&gt;1998&lt;/option&gt;
 &lt;option value="1999"&gt;1999&lt;/option&gt;
 &lt;option value="2000"&gt;2000&lt;/option&gt;
 &lt;option value="2001"&gt;2001&lt;/option&gt;
 &lt;option value="2002"&gt;2002&lt;/option&gt;
 &lt;option value="2003"&gt;2003&lt;/option&gt;
 &lt;option value="2004"&gt;2004&lt;/option&gt;
 &lt;option value="2005"&gt;2005&lt;/option&gt;
 &lt;option value="2006"&gt;2006&lt;/option&gt;
&lt;/select&gt;
&lt;select id="month" onchange="listDay()"&gt;
 &lt;option value="1"&gt;1&lt;/option&gt;
 &lt;option value="2"&gt;2&lt;/option&gt;
 &lt;option value="3"&gt;3&lt;/option&gt;
 &lt;option value="4"&gt;4&lt;/option&gt;
 &lt;option value="5"&gt;5&lt;/option&gt;
 &lt;option value="6"&gt;6&lt;/option&gt;
 &lt;option value="7"&gt;7&lt;/option&gt;
 &lt;option value="8"&gt;8&lt;/option&gt;
 &lt;option value="9"&gt;9&lt;/option&gt;
 &lt;option value="10"&gt;10&lt;/option&gt;
 &lt;option value="11"&gt;11&lt;/option&gt;
 &lt;option value="12"&gt;12&lt;/option&gt;
&lt;/select&gt;
&lt;select id="day"&gt;
&lt;/select&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;script language="javascript" type="text/javascript"&gt;
 var objY=document.getElementById("year");
 var objM=document.getElementById("month");
 var objD=document.getElementById("day");
 function listDay(){
 var vYear =objY.options[objY.selectedIndex].value;
 var vMonth =objM.options[objM.selectedIndex].value-1;
 
 var vEndDate =new Date((vMonth==12 ? vYear +1 : vYear),(vMonth==12 ? 1 : vMonth+1),0);
 
 objD.options.length=0;
 for(var i=1;i&lt;=vEndDate.getDate();i++){
 var opt=document.createElement("OPTION");
 opt.value=i;
 opt.text=i;
 objD.options.add(opt);
 }
 }
 
 listDay();
&lt;/script&gt;

日志标题：让我兴奋:JavaScript的继承!
发表时间：2006-5-3 11:25:00
日志内容：让我兴奋:JavaScript的继承!
　　
 今天偶而在网上看到了call()这个函数,研究了一下,不曾想,JavaScript不但支持继承,面且支持多重继承!爽死了!

不知道这样说对不对,但是它确实实现了继承!
以前由于水平有限,不知道如何用javaScript来实现继承,网上也说的五花八门,不信你可以去查查.大部分人认为:javaScript是不支持继承的!最可笑的是:有用for..in..的,把父类的变量及方法全部copy到子类里的.还有的是在子类里声明一个父类的实例变量,这样做不好,原因显而易见,调用的时候要:
Instance.fatherClass_instance.variable_name
Instance.fatherClass_instance.method_name

这一切,我现在要对它们说:滚蛋吧!

让我们通过下面的代码,让你明白在javaScript里,如何实现继承的!

&lt;script language="javascript" type="text/javascript"&gt;
 function father(){//父类
 var self=this; //私有变量,子类里不会继承!
 var var_private="private variable"; //私有变量
 this.var_public="public variable"; //公有变量
 
 this.author="xling";
 this.test=function(msg){ //公有方法
 alert("该方法位于父类 :" + msg + "\n" + self.author);
 }
 
 var test2=function(){ //私有方法,子类不能调用
 alert("这个方法是父类的私有方法");
 }
 }
 
 function father2(){
 this.email="xlingFairy#hotmail.com";
 }
 
 function suber(){//子类
 father.call(this);//通过这一句来继承父类(father)类的可见变量及方法(this)
 }
 
 function sun(){
 suber.call(this);
 father2.call(this);//和上面的一句放在一起，F多重^承！爽啊！
 }
 
 var mySuber=new suber();
 mySuber.test("参数是从子类的实例里传入的");
 //mySuber.test2(); //这一句会发生错误码,因为test2是父类的私有类
 alert("父类的私有变量,子类不能读取:" + mySuber.var_private);
 alert("父类的公有变量,子类可以读取" + mySuber.var_public);
 
 var mySun=new sun();
 mySun.test("这个是从孙子级的实例里传入的参数");
 alert("父类的私有变量,子类不能读取:" + mySun.var_private);
 alert("父类的公有变量,子类可以读取" + mySun.var_public);
 alert(mySun.email);
&lt;/script&gt;

就这么简单,真的让我很兴奋!

日志标题：奇怪的getElementsByName()
发表时间：2006-5-3 20:01:00
日志内容：奇怪的getElementsByName()
一般很少用getElementsByName()这个函数,因为基本上不用name这个attributes了,刚刚在论坛上看有同志暴出一个问题:id=”aa”,而没有写name这个attribute,用document.getElementsByName(“aa”)也可以取出来!汉!于是做了一下研究,如现如下:

在HTML语法里,有name这个attribute的标签有:
A, APPLET, BUTTON, FORM, IMG, INPUT type=button, INPUT type=checkbox, INPUT type=file, INPUT type=hidden, INPUT type=image, INPUT type=password, INPUT type=radio, INPUT type=reset, INPUT type=submit, INPUT type=text, LINK, MAP, OBJECT, PARAM, RT, RUBY, SELECT, TEXTAREA
其它的标签都没有name这个attribute

而getElementsByName()这个方法,抓name的时候,只能抓上面所列的标签的name,对于没有name的标签,就会抓id,而不去理会你加进去的name.具体请看下面的例子.

在下面的例子中,总共有5个标签,两个&lt;b&gt;,一个&lt;li&gt;,一个&lt;a&gt;,一个&lt;button&gt;,其中,只有&lt;a&gt;和&lt;button&gt;在HTML语法里,是有name这个attribute的,其它的,都没有,但是可以写上。可以看出,在HTML方法里,不具有name这个attribute的,即使是写上了name,也是不会取得的,就像 b2.对于没在HTML方法里没有name这个attribute的标签,如果id是document.getElementsByName(...)的参数相等,也是会被取出的,就像 b1,li3 .还有一点,需要指出,b1的name是写不是 aa,但是getElementsByName("aa")照样能把b1取出来.
&lt;b id="aa" name="bb"&gt;b1&lt;/b&gt;
&lt;b name="aa"&gt;b2&lt;/b&gt;
&lt;li id="aa" name="cc"&gt;li3&lt;/li&gt;
&lt;a id="aa" onclick="alert(this.name)"&gt;a4&lt;/a&gt;
&lt;button name="aa" onclick="alert(this.name)"&gt;button5&lt;/button&gt;

点击代码查看效果


&lt;b id="aa" name="bb"&gt;b1&lt;/b&gt;&lt;!--有name,但是不理会,抓它是因为id=aa--&gt;
&lt;b name="aa"&gt;b2&lt;/b&gt;&lt;!--id不等于aa,所以,没有抓它--&gt;
&lt;li id="aa" name="cc"&gt;li3&lt;/li&gt;&lt;!--有name,但是不理会,抓它是因为id=aa--&gt;
&lt;a id="aa" onclick="alert(this.name)"&gt;a4&lt;/a&gt;
&lt;button name="aa" onclick="alert(this.name)"&gt;button5&lt;/button&gt;
&lt;script&gt;
u=document.getElementsByName("aa");
alert("总共取出:"+u.length+" 个")
for (i=0;i&lt;u.length;i++){
alert("第"+(i+1)+"个的name值是:" + u[i].name + "\n内容是:" +u[i].innerHTML);
}

&lt;/script&gt;

日志标题：js取出URL参数的问题
发表时间：2006-5-5 20:42:00
日志内容：
js取出URL参数的问题

这是讨论贴:无果
http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2561761

UTF-8的编码下,用decodeURI()可以把以get方式传出的值还原,
但是在gb2312(或BIG5)下,却不能还原,比如 经 这个字:
GB2312 : %BE%AD
UTF-8 : %E7%BB%8F
可以看出,编码的方式是不同的.而decodeURI只能识别UTF-8的编码,对于第一种,会提示URI不是正确的编码.
在网上查了查,基本上都没有考虑这个问题.只有一个,不过,要参照对表,(即把gb2312转成unicode格式的,在通过unescape()转成汉字)

'%be%ad' : '%u7ecf'

这样做很不方便
第一:对照表里有7000多条数据
第二:如何对照还是一个问题,总不能写在数组里吧!那多大啊!也不能用循环吧!那多么慢啊!

有没有其它方法可以解Q不同a淼}?

GB2312的示例:
--------------------------------------------------------------------------

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" &gt;
&lt;head&gt;
 &lt;title&gt;Untitled Page&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=gb2312" /&gt;&lt;/head&gt;
&lt;body&gt;
&lt;form id="form1" name="form1" method="get" action=""&gt;
 &lt;input name="q" type="text" id="q" value="经" /&gt;
 &lt;input type="submit" name="Submit" value="Submit" /&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;script language="javascript" type="text/javascript"&gt;
function RQ(pVar,pURL){
 pURL = pURL || window.location.href;
 try{
 pURL=decodeURIComponent(pURL)//即使是用decodeURI也是同样的结果
 }catch(e){
 //
 }
 
 var vars =pURL.split("?");
 if(vars.length==1) return "";
 
 var varsList=vars[1].split("&amp;");
 var equalString;
 for(var i=0;equalString=varsList[i];i++){
 var equalArray=equalString.split("="); 
 if(equalArray[0]==pVar)
 return equalArray[1] || "";
 }
}

alert(RQ("q"));
&lt;/script&gt;

UTF-8的示例:
--------------------------------------------------------------------------

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" &gt;
&lt;head&gt;
 &lt;title&gt;Untitled Page&lt;/title&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;/head&gt;
&lt;body&gt;
&lt;form id="form1" name="form1" method="get" action=""&gt;
 &lt;input name="q" type="text" id="q" value="经" /&gt;
 &lt;input type="submit" name="Submit" value="Submit" /&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;script language="javascript" type="text/javascript"&gt;
function RQ(pVar,pURL){
 pURL = pURL || window.location.href;
 try{
 pURL=decodeURIComponent(pURL)
 }catch(e){
 //
 }
 
 var vars =pURL.split("?");
 if(vars.length==1) return "";
 
 var varsList=vars[1].split("&amp;");
 var equalString;
 for(var i=0;equalString=varsList[i];i++){
 var equalArray=equalString.split("="); 
 if(equalArray[0]==pVar)
 return equalArray[1] || "";
 }
}

alert(RQ("q"));
&lt;/script&gt;

这是baidu.com对 经 的查询 wd=%BE%AD
http://www.baidu.com/s?wd=%BE%AD&amp;cl=3
--------------------------------------------------------------------------

&lt;script&gt;
try{
alert("经 encodeURI()得到的值是:"+encodeURI('wd=经')+"\n而非wd=%BE%AD")
}catch(e){
alert("错了吧!");
}

try{
alert(decodeURI("%BE%AD"))
}catch(e){
alert("错误:\ndecodeURI('%BE%AD')\n"+e.message)
}
&lt;/script&gt;

日志标题：看孔雀开屏了!
发表时间：2006-5-5 21:52:00
日志内容：




日志标题：readonly和disabled的区别
发表时间：2006-5-6 16:43:00
日志内容：要慎用readonly和disabled,指定了disabled的表单,在submit时,不会把它的值传出去,如下所示,有两个text,一个是readonly一个是disabled,submit后,只能发送那个不是disabled的,注意地址栏的值.
要保存到本地,因为submit了,不然,看不到效果.

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;form id="form1" name="form1" method="get" action=""&gt; &lt;input name="q1" type="text" id="q1" value="readonly" readonly="true" /&gt; &lt;input name="q2" type="text" disabled="disabled" id="q2" value="disabled" /&gt; &lt;input type="submit" name="Submit" value="Submit" /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：郁闷:Java的那个三目运算
发表时间：2006-5-7 21:27:00
日志内容：JavaScript里的三目运行算符: ? : 可作为一个语句执行,
比如:

&lt;script&gt;
var flag=false;
!flag ? alert("here") : null ;
&lt;/script&gt;
本以为JAVA和JavaScript的会一样,结果:Syntax error on token "flag", return expected before this token
即是说:它不能做为一个语句来执行,只能作为一个表达示,要赋值给一个变量的.
package first;
import java.applet.Applet;public class ThreadPoint extends Applet implements Runnable {Thread thread1,thread2,thread3;boolean flag=false;public void start(){ //flag? setThread():null;//这样写是错的 flag=(1==2 ? true : false);//这样写是对的}public void setThread(){thread1=new Thread(this,"thread1");thread2=new Thread(this,"thread2");thread3=new Thread(this,"thread3");flag=true;}public void run(){repaint();}}
郁闷,原来如此!

日志标题：自检一下你是不是中招了!
发表时间：2006-5-8 9:30:00
日志内容：自检一下你是不是中招了!
检查你的电脑里有没有如下几个文件:1,dmplayer千橡的垃圾广告,存放在你的系统盘的windows/system32/2.0.0.1下,2,hbhelper.dll一个名为很棒的垃圾.3,还有就是那个臭的要死的9991,上次我也不知道是怎么删除的,也不知道存在哪些文件.
4,在加一个:CHENQXMS.EXE
陈桥五笔的垃圾,解决办法,把注册表里的CHENQXMS键值全删了!
这些垃圾都是做广告的,气的我直冒烟,昨天发了一天的时间去搞它们,结果很不理想.IParmor5.50还可以,但是运行起来巨慢,还特占资源.Windows Defender 简直是垃圾,上面的一个也没有查出来,到是把金山词霸里的一个DLL给查出来了!晕死!
安的有诺顿,也经常更新,但是上面的垃圾一个也检测不出来.
查查你的电脑,说不定,你也中招了很久了!不要以为有防火墙,杀毒软件就太平了,否则你的电脑就永远"太平"了!网络险恶啊!可能我们做了肉鸡,被人放到锅里渚,我们都还不知道!
在佩服一下写这些垃圾的人们!牛B!牛B!

日志标题：用好XMP！
发表时间：2006-5-8 21:52:00
日志内容：XMP标签本来是用于显示XML内容的,但是也可以让它使HTML标签不被浏览器识别.
Renders text used for examples in a fixed-width font.
Use of this element is no longer recommended. Use the PRE or SAMP element instead.
虽然说xmp不在支持使用,但是pre和samp都不能做到这样的效果.

&lt;xmp&gt;&lt;a href=www.blueidea.com&gt;blueidea.com&lt;/a&gt;&lt;script&gt;alert("点我,可以看到我没有被浏览器识别的效果!")&lt;/script&gt;&lt;/xmp&gt;就这么简单!

日志标题：从聊天室模型看细节问题
发表时间：2006-5-9 21:06:00
日志内容：从聊天室模型看细节问题

这次写的并不是一个真正的聊天室,而是聊天室的前台编程,即控制细节.
在看下面的代码的时候,先看看这些:
1,预载图片
var objImg=new Img([width],[height]);
 objImg.src=”….”;

2,滚动条位置
 document.body.scrollHeight 及 document.body.scrollTop
 如果是XHTML的面，就要Q成document.documentElement.scrollHeight和document.documentElement.scrollTop
3,iframe的注意事项 及 不同浏览器下的兼容性.
 可参见: http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2546760
4,键盘事件.
 虽然document和body对象都支持onkeypress,但是还是推荐使用document的,利弊可以自己试着写一下.
5,iframe内容页是否载入判断.
 fireFox的iframe是不支持onreadystatechange的.
 IE直接用ifr_id.readyState可取出载入状态,但是opera必须用ifr_id.document.readyState取出.

以下是代码,点击查看效果,由于BLOG的插入代码功能有误,请大家把这段代码考到本地,然把&lt;iframe&gt;的地址改成about:blank.

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;Untitled Document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;iframe width="100%" scrolling="auto" height="300" src=about:blank id="ifr" name="ifr"&gt;aaa&lt;/iframe&gt;

&lt;p&gt;
 &lt;input name="user" type="text" id="user" value="xling" size="10" /&gt;
 &lt;select name="face" id="face"&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_sleep.gif"&gt;困&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_tong.gif"&gt;唬人&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_sweat.gif"&gt;汗&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_cool.gif"&gt;天使&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_cry.gif"&gt;哭&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_eek.gif"&gt;吃惊&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_smile.gif"&gt;胜利&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_ft.gif"&gt;晕&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_shame.gif"&gt;羞&lt;/option&gt;
 &lt;option value="http://www.hxblog.net/images/smilies/icon_confused.gif" selected="selected"&gt;发呆&lt;/option&gt;
 &lt;/select&gt;

 &lt;input name="msg" type="text" id="msg" size="100" /&gt;
 &lt;input name="send" type="button" id="send" onclick="sendMsg()" value="Button" /&gt;
&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;script language="javascript" type="text/javascript"&gt;
var ifr_id=document.getElementById("ifr");
var ifr_window=window.frames["ifr"];

ifr_id.onreadystatechange=function(){//FireFox的iframe不支持onreadystatechange,
 //alert(ifr_id.readyState)//opera的iframe没有readyState,但是ifr_id.document(注:不是ifr_id.window.document)有
 if(this.readyState=="complete" || ifr_id.document.readyState=="complete"){//后面一个条件为了opera
 ifr_window.document.body.innerHTML="聊天室,和自己聊天!&lt;br /&gt;______________________________________&lt;br /&gt;";
 }
}

function skipToLastMsg(){
 with(ifr_window.document.body){
 scrollTop=scrollHeight;
 }
}

var face=document.getElementById("face");
var faceArray=new Array();
function loadFace(){
 var o;
 for(var i=0;o=face.options[i];i++){
 var faceImg=new Image();
 faceImg.src=o.value;
 faceArray.push(faceImg);
 }
}
loadFace();

function sendMsg(){
 var msg="&lt;br /&gt;" + document.getElementById("user").value + "&lt;img src='"+faceArray[face.selectedIndex].src+"' /&gt;" + " 说: " + document.getElementById("msg").value;
 ifr_window.document.body.innerHTML+=msg;
 skipToLastMsg();
}

document.onkeypress=function(evt){
 evt = window.event || evt;
 if(evt.keyCode==13)
 document.getElementById("send").onclick();
}
&lt;/script&gt;

日志标题：更新了Blog的版面,结果把&nbsp;BXNA&nbsp;的标志搞没了!晕!
发表时间：2006-5-10 21:52:00
日志内容：把这个东东给搞没了!
晕!
如果哪位想要我这个版面,可以留言或到论坛PM我!
虽然不太好看,但是也过的去!

日志标题：Oracle动态SQL及临时表
发表时间：2006-5-11 20:59:00
日志内容：Oracle动态SQL及临时表

郁闷ing…!

CREATE TABLE TMP_STUDENT SELECT * FROM STUDENT;

然后,SELECT * FROM STUDENT; 就可以把原本在STUDENT表里的数据选出来.

可是:
CREATE GLOBAL TEMPORARY TABLE TMP_STUDENT SELECT * FROM STUDENT;

然后在 SELECT * FROM TMP_STUDENT 居然一条记录也没有!

写成:
CREATE GLOBAL TEMPORARY TABLE TMP_STUDENT SELECT * FROM STUDENT ON COMMIT PRESERVE ROWS 居然提示错误!

把它们写在一个匿名过程中的时候,又遇到另外一个问题:就是DDL不能写在过程中,除非用动态SQL,幸好用的是 Oracle 8i 支持动态SQL.

用动态SQL的时候,也有一个问题,就是所有的SQL语句必须写成动态SQL,如下所示,如果把SELECT那句换成 SELECT COUNT(*) INTO N FROM TMP_STUDENT 的话,会提示TMP_STUDENT不存在!

那个把动态SQL里查出的结果返回的,即INTO N,也是仔细看了好大一会书才看出来的!
运行是没有错误了,但是返回的记录数还是 0 ,郁闷ing…

SET SERVEROUTPUT ON
DECLARE
  N NUMBER;
BEGIN
 EXECUTE IMMEDIATE 'CREATE GLOBAL TEMPORARY TABLE TMP_STUDENT AS SELECT * FROM STUDENT ';
 EXECUTE IMMEDIATE 'SELECT COUNT(*) FROM TMP_STUDENT ' INTO N ;
 EXECUTE IMMEDIATE 'DROP TABLE TMP_STUDENT';
 DBMS_OUTPUT.PUT_LINE('Record Count: ' || N);
END;

结果他妈的还是:Record Count:0,造,下班了!

日志标题：SQLServer&nbsp;里用存储过程创建表
发表时间：2006-5-12 13:18:00
日志内容：今天有一老同学问我一个用存储过程创建数据表的问题,这可把我问住了,我不会用SQLServer的存储过程创建数据表!就是ORACLE我也刚刚学会如何用动态SQL创建数据表!我对SQLServer的存储过程本来就是一无所知啊!
　　请教了我的同事，也是不知道如何弄！晕，看我们这些程序员当的！
　　问了一前的一个客户，到现在还没有答复．哎！
　　只好硬着头皮搞了！
以下是错误的：
CREATE PROCEDURE [dbo].[CTable] @TABLE_NAME VARCHAR AS CREATE TABLE [dbo].[@TABLE_NAME] ( [ID] [int] IDENTITY (1, 1) NOT NULL , [Ww_Name] [varchar] (200) COLLATE Chinese_PRC_CI_AS NOT NULL , [Ww_Category] [varchar] (100) COLLATE Chinese_PRC_CI_AS NULL , [Ww_Sum] [int] NULL , [Ww_Price] [money] NULL , [Ww_SumPrice] [money] NULL , [Ww_Operator] [varchar] (50) COLLATE Chinese_PRC_CI_AS NULL , [Ww_Jren] [varchar] (50) COLLATE Chinese_PRC_CI_AS NULL , [Ww_Jdepartment] [varchar] (100) COLLATE Chinese_PRC_CI_AS NULL , [Ww_JMemo] [varchar] (500) COLLATE Chinese_PRC_CI_AS NULL , [Ww_OITime] [datetime] NULL , [Ww_Memo] [text] COLLATE Chinese_PRC_CI_AS NULL ) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY] GO EXEC CTable 'test' 
用上面的建的数据表名字就是　@TABLE_NAME,太错了！
以下是正确的过程
CREATE PROCEDURE [dbo].[CTable] @TABLE_NAME VARCHAR(4)AS BEGINEXEC( 'CREATE TABLE [dbo].['+@TABLE_NAME+'] ( [ID] [int] IDENTITY (1, 1) NOT NULL , [Ww_Name] [varchar] (200) COLLATE Chinese_PRC_CI_AS NOT NULL , [Ww_Category] [varchar] (100) COLLATE Chinese_PRC_CI_AS NULL , [Ww_Sum] [int] NULL , [Ww_Price] [money] NULL , [Ww_SumPrice] [money] NULL , [Ww_Operator] [varchar] (50) COLLATE Chinese_PRC_CI_AS NULL , [Ww_Jren] [varchar] (50) COLLATE Chinese_PRC_CI_AS NULL , [Ww_Jdepartment] [varchar] (100) COLLATE Chinese_PRC_CI_AS NULL , [Ww_JMemo] [varchar] (500) COLLATE Chinese_PRC_CI_AS NULL , [Ww_OITime] [datetime] NULL , [Ww_Memo] [text] COLLATE Chinese_PRC_CI_AS NULL ) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY] ')ENDGO 
原来也是用字符串拼的啊！就像Oracle里的一样（类似于ORACLE里的动态SQL）

日志标题：扁鹊的故事
发表时间：2006-5-12 16:00:00
日志内容：魏文王问名医扁鹊说∶“你们家兄弟三人，都精于医术，到底哪一位最好呢？”
　　扁鹊答说∶“长兄最好，中兄次之，我最差。”
　　文王再问∶ “那么为什么你最出名呢？ ”
　　扁鹊答说∶“我长兄治病，是治病于病情发作之前。由于一般人不知道他事先能铲除病因，所以他的名气无法传出去，只有我们家的人才知道。我中兄治病，是治病于病情初起之时。一般人以为他只能治轻微的小病，所以他的名气只及于本乡里。而我治病，是治病于病情严重之时。一般人都看到我在经脉上穿针管放血、在皮肤上敷药作大手术，所以以为我的医术高明，名气因此响遍全国”

日志标题：[转载]ROBOTS.TXT指南
发表时间：2006-5-12 20:17:00
日志内容：Robots.txt指南
Outhope.com
当搜索引擎访问一个网站时，它首先会检查该网站的根域下是否有一个叫做robots.txt的纯文本文件。Robots.txt文件用于限定搜索引擎对其网站的访问范围，即告诉搜索引擎网站中哪些文件是允许它进行检索(下载)的。这就是大家在网络上常看到的“拒绝Robots访问标准”(Robots Exclusion Standard)。下面我们简称RES。 Robots.txt文件的格式：Robots.txt文件的格式比较特殊，它由记录组成。这些记录通过空行分开。其中每条记录均由两个域组成：　　 1) 一个User-Agent(用户代理)字符串行；　　 2) 若干Disallow字符串行。　　 记录格式为：&lt;Field&gt; ":" &lt;value&gt;　　 下面我们分别对这两个域做进一步说明。User-agent(用户代理)：　　 User-agent行(用户代理行) 用于指定搜索引擎robot的名字，以Google的检索程序Googlebot为例，有：User-agent: Googlebot　　 一个robots.txt中至少要有一条User-agent记录。如果有多条User-agent记录，则说明有多个robot会受到RES标准的限制。当然了，如果要指定所有的robot，只需用一个通配符"*"就搞定了，即：User-agent: *Disallow(拒绝访问声明)：　　 在Robots.txt文件中，每条记录的第二个域是Disallow:指令行。这些Disallow行声明了该网站中不希望被访问的文件和(或)目录。例如"Disallow: email.htm"对文件的访问进行了声明，禁止Spiders下载网站上的email.htm文件。而"Disallow: /cgi-bin/"则对cgi-bin目录的访问进行了声明，拒绝Spiders进入该目录及其子目录。Disallow声明行还具有通配符功能。例如上例中"Disallow: /cgi-bin/"声明了拒绝搜索引擎对cgi-bin目录及其子目录的访问，而"Disallow:/bob"则拒绝搜索引擎对/bob.html和/bob/indes.html的访问(即无论是名为bob的文件还是名为bob的目录下的文件都不允许搜索引擎访问)。Disallow记录如果留空，则说明该网站的所有部分都向搜索引擎开放。空格 &amp; 注释　　 在robots.txt文件中，凡以"#"开头的行，均被视为注解内容，这和UNIX中的惯例是一样的。但大家需要注意两个问题：　　 1) RES标准允许将注解内容放在指示行的末尾，但这种格式并不是所有的Spiders都能够支持。譬如，并不是所有的Spiders都能够正确理解"Disallow: bob #comment"这样一条指令。有的Spiders就会误解为Disallow的是"bob#comment"。最好的办法是使注解自成一行。　　 2) RES标准允许在一个指令行的开头存在空格，象"Disallow: bob #comment"，但我们也并不建议大家这么做。Robots.txt文件的创建：　　 需要注意的是，应当在UNIX命令行终端模式下创建Robots.txt纯文本文件。好的文本编辑器一般都能够提供UNIX模式功能，或者你的FTP客户端软件也“应该”能够替你转换过来。如果你试图用一个没有提供文本编辑模式的HTML编辑器来生成你的robots.txt纯文本文件，那你可就是瞎子打蚊子――白费力气了。对RES标准的扩展：　　 尽管已经提出了一些扩展标准，如Allow行或Robot版本控制(例如应该忽略大小写和版本号)，但尚未得到RES工作组的正式批准认可。附录I. Robots.txt用法举例：　　 使用通配符"*"，可设置对所有robot的访问权限。　　 User-agent: *　　 Disallow:　　 表明：允许所有搜索引擎访问网站下的所有内容。　　 User-agent: *　　 Disallow: /　　 表明：禁止所有搜索引擎对网站下所有网页的访问。　　 User-agent: *　　 Disallow: /cgi-bin/Disallow: /images/　　 表明：禁止所有搜索引擎进入网站的cgi-bin和images目录及其下所有子目录。需要注意的是对每一个目录必须分开声明。　　 User-agent: Roverdog　　 Disallow: /　　 表明：禁止Roverdog访问网站上的任何文件。　　 User-agent: GooglebotDisallow: cheese.htm　　 表明：禁止Google的Googlebot访问其网站下的cheese.htm文件。　　 上面介绍了一些简单的设置，对于比较复杂的设置，可参看一些大型站点如CNN或Looksmart的robots.txt文件(www.cnn.com/robots.txt, www.looksmart.com/robots.txt )附录II. 相关robots.txt文章参考：　　 1. Robots.txt常见问题解析　　 2. Robots Meta Tag的使用　　 3. Robots.txt检测程序

日志标题：[转载]中文搜索引擎技术揭密:网络蜘蛛
发表时间：2006-5-12 20:43:00
日志内容：





中文搜索引擎技术揭密:网络蜘蛛http://FullSearch.Com 中文全文检索网 2004-9-18 23:15:33 winter

关键词：中文搜索引擎技术揭密 


 随着搜索经济的崛起，人们开始越加关注全球各大搜索引擎的性能、技术和日流量。作为企业，会根据搜索引擎的知名度以及日流量来选择是否要投放广告等；作为普通网民，会根据搜索引擎的性能和技术来选择自己喜欢的引擎查找资料；作为学者，会把有代表性的搜索引擎作为研究对象……  而作为一个网站的经营者，其更关心的或许是如何通过网络载体让更多的网民知道自己的网站，进而获得更高的流量和知名度。这其中，搜索引擎已经成了一个重要的且是免费的宣传途径。一方面，搜索引擎会主动出击，寻找网络上的各种网页数据，并在后台按相关条件进行索引；另一方面，各大网站为了能让自己的内容更多的通过搜索引擎向网民展示，都开始对网站结构进行重大调整，其中包括扁平化结构设计、动态（网页）转静态（网页）、Sitemap等。 
 这些看来不经意的举动都让我们切身感受到搜索引擎对我们网络使用方式的改变起到了重要作用。并且，正因为搜索引擎的兴起以及社会各界对其重视程度日渐高涨，还由此创造了一个全新的职位――SEO。实际上，搜索引擎经济的崛起，又一次向人们证明了网络所蕴藏的巨大商机。网络离开了搜索将只剩下空洞杂乱的数据，以及大量等待去费力挖掘的金矿。 
 搜索引擎一直专注于提升用户的体验度，其用户体验度则反映在三个方面： 准、全、快 。用专业术语讲是：查准率、查全率和搜索速度（即搜索耗时）。其中最易达到的是搜索速度，因为对于搜索耗时在1秒以下的系统来说，访问者很难辨别其快慢了，更何况还有网络速度的影响。因此，对搜索引擎的评价就集中在了前两者：准、全。中文搜索引擎的“准”，需要保证搜索的前几十条结果都和搜索词十分相关，这需由“ 分词技术 ”和“ 排序技术 ”来决定；中文搜索引擎的“全”则需保证不遗漏某些重要的结果，而且能找到最新的网页，这需要搜索引擎有一个强大的网页收集器，一般称为“网络蜘蛛”，也有叫“网页机器人”。
 研究搜索引擎技术的文章不少，但大部分讨论的是如何评价网页的重要性，对于网络蜘蛛研究的文章不多。网络蜘蛛技术并不是一项十分高深的技术，但要做一个强大的网络蜘蛛，却非易事。在目前磁盘容量已经不是瓶颈的时候，搜索引擎一直在扩大自己的网页数量。最大的搜索引擎Google（ http://www.google.com ）从2002年的10亿网页增加到现在近40亿网页；最近雅虎搜索引擎（ http://search.yahoo.com/ ）号称收录了45亿个网页；国内的中文搜索引擎百度（ http://www.baidu.com ）的中文页面从两年前的七千万页增加到了现在的两亿多。据估计，整个互联网的网页数达到100多亿，而且每年还在快速增长。因此一个优秀的搜索引擎，需要不断的优化网络蜘蛛的算法，提升其性能。 
 或许有些人有疑问，为何搜索引擎需要用网络蜘蛛抓取网站所有的网页，为什么不在搜索者输入关键词后只把那些需要的结果抓取过来？这实际上是效率问题，搜索引擎不可能在搜索时实时去检查每个网页，而是需要把网页先抓取下来，按照关键词建立好索引，每次搜索的结果都会直接从搜索引擎建立好索引的数据库中查找，然后把结果返回给访问者。 关于搜索引擎系统架构方面的知识， 本文主要介绍网络蜘蛛的相关技术。 
网络蜘蛛基本原理 
 网络蜘蛛即Web Spider，是一个很形象的名字。把互联网比喻成一个蜘蛛网，那么Spider就是在网上爬来爬去的蜘蛛。网络蜘蛛是通过网页的链接地址来寻找网页，从网站某一个页面（通常是首页）开始，读取网页的内容，找到在网页中的其它链接地址，然后通过这些链接地址寻找下一个网页，这样一直循环下去，直到把这个网站所有的网页都抓取完为止。如果把整个互联网当成一个网站，那么网络蜘蛛就可以用这个原理把互联网上所有的网页都抓取下来。 
 对于搜索引擎来说，要抓取互联网上所有的网页几乎是不可能的，从目前公布的数据来看，容量最大的搜索引擎也不过是抓取了整个网页数量的百分之四十左右。这其中的原因一方面是抓取技术的瓶颈，无法遍历所有的网页，有许多网页无法从其它网页的链接中找到；另一个原因是存储技术和处理技术的问题，如果按照每个页面的平均大小为20K计算（包含图片），100亿网页的容量是100×2000G字节，即使能够存储，下载也存在问题（按照一台机器每秒下载20K计算，需要340台机器不停的下载一年时间，才能把所有网页下载完毕）。同时，由于数据量太大，在提供搜索时也会有效率方面的影响。因此，许多搜索引擎的网络蜘蛛只是抓取那些重要的网页，而在抓取的时候评价重要性主要的依据是某个网页的链接深度。 
 在抓取网页的时候，网络蜘蛛一般有两种策略：广度优先和深度优先（如下图所示）。广度优先是指网络蜘蛛会先抓取起始网页中链接的所有网页，然后再选择其中的一个链接网页，继续抓取在此网页中链接的所有网页。这是最常用的方式，因为这个方法可以让网络蜘蛛并行处理，提高其抓取速度。深度优先是指网络蜘蛛会从起始页开始，一个链接一个链接跟踪下去，处理完这条线路之后再转入下一个起始页，继续跟踪链接。这个方法有个优点是网络蜘蛛在设计的时候比较容易。两种策略的区别，下图的说明会更加明确。 

 由于不可能抓取所有的网页，有些网络蜘蛛对一些不太重要的网站，设置了访问的层数。例如，在上图中，A为起始网页，属于0层，B、C、D、E、F属于第1层，G、H属于第2层，I属于第3层。如果网络蜘蛛设置的访问层数为2的话，网页I是不会被访问到的。这也让有些网站上一部分网页能够在搜索引擎上搜索到，另外一部分不能被搜索到。 对于网站设计者来说，扁平化的网站结构设计有助于搜索引擎抓取其更多的网页。 
 网络蜘蛛在访问网站网页的时候，经常会遇到加密数据和网页权限的问题，有些网页是需要会员权限才能访问。当然，网站的所有者可以通过协议让网络蜘蛛不去抓取（下小节会介绍），但对于一些出售报告的网站，他们希望搜索引擎能搜索到他们的报告，但又不能完全免费的让搜索者查看，这样就需要给网络蜘蛛提供相应的用户名和密码。网络蜘蛛可以通过所给的权限对这些网页进行网页抓取，从而提供搜索。而当搜索者点击查看该网页的时候，同样需要搜索者提供相应的权限验证。 
网站与网络蜘蛛 
 网络蜘蛛需要抓取网页，不同于一般的访问，如果控制不好，则会引起网站服务器负担过重。今年4月，淘宝网（ http://www.taobao.com ）就因为雅虎搜索引擎的网络蜘蛛抓取其数据引起淘宝网服务器的不稳定。网站是否就无法和网络蜘蛛交流呢？其实不然，有多种方法可以让网站和网络蜘蛛进行交流。一方面让网站管理员了解网络蜘蛛都来自哪儿，做了些什么，另一方面也告诉网络蜘蛛哪些网页不应该抓取，哪些网页应该更新。 
 每个网络蜘蛛都有自己的名字，在抓取网页的时候，都会向网站标明自己的身份。网络蜘蛛在抓取网页的时候会发送一个请求，这个请求中就有一个字段为User－agent，用于标识此网络蜘蛛的身份。例如Google网络蜘蛛的标识为GoogleBot，Baidu网络蜘蛛的标识为BaiDuSpider，Yahoo网络蜘蛛的标识为Inktomi Slurp。如果在网站上有访问日志记录，网站管理员就能知道，哪些搜索引擎的网络蜘蛛过来过，什么时候过来的，以及读了多少数据等等。如果网站管理员发现某个蜘蛛有问题，就通过其标识来和其所有者联系。下面是博客中国（ http://www.blogchina.com ）2004年5月15日的搜索引擎访问日志： 
 网络蜘蛛进入一个网站，一般会访问一个特殊的文本文件Robots.txt，这个文件一般放在网站服务器的根目录下，如： http://www.blogchina.com/robots.txt 。网站管理员可以通过robots.txt来定义哪些目录网络蜘蛛不能访问，或者哪些目录对于某些特定的网络蜘蛛不能访问。例如有些网站的可执行文件目录和临时文件目录不希望被搜索引擎搜索到，那么网站管理员就可以把这些目录定义为拒绝访问目录。Robots.txt语法很简单，例如如果对目录没有任何限制，可以用以下两行来描述： User-agent: * Disallow: 
 当然，Robots.txt只是一个协议，如果网络蜘蛛的设计者不遵循这个协议，网站管理员也无法阻止网络蜘蛛对于某些页面的访问，但一般的网络蜘蛛都会遵循这些协议，而且网站管理员还可以通过其它方式来拒绝网络蜘蛛对某些网页的抓取。 
 网络蜘蛛在下载网页的时候，会去识别网页的HTML代码，在其代码的部分，会有META标识。通过这些标识，可以告诉网络蜘蛛本网页是否需要被抓取，还可以告诉网络蜘蛛本网页中的链接是否需要被继续跟踪。例如： 表示本网页不需要被抓取，但是网页内的链接需要被跟踪。 
 关于Robots.txt的语法和META Tag语法，有兴趣的读者查看文献[4] 
 现在一般的网站都希望搜索引擎能更全面的抓取自己网站的网页，因为这样可以让更多的访问者能通过搜索引擎找到此网站。为了让本网站的网页更全面被抓取到，网站管理员可以建立一个网站地图，即Site Map。许多网络蜘蛛会把sitemap.htm文件作为一个网站网页爬取的入口，网站管理员可以把网站内部所有网页的链接放在这个文件里面，那么网络蜘蛛可以很方便的把整个网站抓取下来，避免遗漏某些网页，也会减小对网站服务器的负担。 
内容提取 
 搜索引擎建立网页索引，处理的对象是文本文件。对于网络蜘蛛来说，抓取下来网页包括各种格式，包括html、图片、doc、pdf、多媒体、动态网页及其它格式等。这些文件抓取下来后，需要把这些文件中的文本信息提取出来。准确提取这些文档的信息，一方面对搜索引擎的搜索准确性有重要作用，另一方面对于网络蜘蛛正确跟踪其它链接有一定影响。 
 对于doc、pdf等文档，这种由专业厂商提供的软件生成的文档，厂商都会提供相应的文本提取接口。网络蜘蛛只需要调用这些插件的接口，就可以轻松的提取文档中的文本信息和文件其它相关的信息。 
 HTML等文档不一样，HTML有一套自己的语法，通过不同的命令标识符来表示不同的字体、颜色、位置等版式，如：、、 等，提取文本信息时需要把这些标识符都过滤掉。过滤标识符并非难事，因为这些标识符都有一定的规则，只要按照不同的标识符取得相应的信息即可。但在识别这些信息的时候，需要同步记录许多版式信息，例如文字的字体大小、是否是标题、是否是加粗显示、是否是页面的关键词等，这些信息有助于计算单词在网页中的重要程度。同时，对于HTML网页来说，除了标题和正文以外，会有许多广告链接以及公共的频道链接，这些链接和文本正文一点关系也没有，在提取网页内容的时候，也需要过滤这些无用的链接。例如某个网站有“产品介绍”频道，因为导航条在网站内每个网页都有，若不过滤导航条链接，在搜索“产品介绍”的时候，则网站内每个网页都会搜索到，无疑会带来大量垃圾信息。过滤这些无效链接需要统计大量的网页结构规律，抽取一些共性，统一过滤；对于一些重要而结果特殊的网站，还需要个别处理。这就需要网络蜘蛛的设计有一定的扩展性。 
 对于多媒体、图片等文件，一般是通过链接的锚文本（即，链接文本）和相关的文件注释来判断这些文件的内容。例如有一个链接文字为“张曼玉照片”，其链接指向一张bmp格式的图片，那么网络蜘蛛就知道这张图片的内容是“张曼玉的照片”。这样，在搜索“张曼玉”和“照片”的时候都能让搜索引擎找到这张图片。另外，许多多媒体文件中有文件属性，考虑这些属性也可以更好的了解文件的内容。  动态网页一直是网络蜘蛛面临的难题。所谓动态网页，是相对于静态网页而言，是由程序自动生成的页面，这样的好处是可以快速统一更改网页风格，也可以减少网页所占服务器的空间，但同样给网络蜘蛛的抓取带来一些麻烦。由于开发语言不断的增多，动态网页的类型也越来越多，如：asp、jsp、php等。这些类型的网页对于网络蜘蛛来说，可能还稍微容易一些。网络蜘蛛比较难于处理的是一些脚本语言（如VBScript和JavaScript）生成的网页，如果要完善的处理好这些网页，网络蜘蛛需要有自己的脚本解释程序。对于许多数据是放在数据库的网站，需要通过本网站的数据库搜索才能获得信息，这些给网络蜘蛛的抓取带来很大的困难。对于这类网站，如果网站设计者希望这些数据能被搜索引擎搜索，则需要提供一种可以遍历整个数据库内容的方法。 
 对于网页内容的提取，一直是网络蜘蛛中重要的技术。整个系统一般采用插件的形式，通过一个插件管理服务程序，遇到不同格式的网页采用不同的插件处理。这种方式的好处在于扩充性好，以后每发现一种新的类型，就可以把其处理方式做成一个插件补充到插件管理服务程序之中。 
更新周期 
 由于网站的内容经常在变化，因此网络蜘蛛也需不断的更新其抓取网页的内容，这就需要网络蜘蛛按照一定的周期去扫描网站，查看哪些页面是需要更新的页面，哪些页面是新增页面，哪些页面是已经过期的死链接。  搜索引擎的更新周期对搜索引擎搜索的查全率有很大影响。如果更新周期太长，则总会有一部分新生成的网页搜索不到；周期过短，技术实现会有一定难度，而且会对带宽、服务器的资源都有浪费。搜索引擎的网络蜘蛛并不是所有的网站都采用同一个周期进行更新，对于一些重要的更新量大的网站，更新的周期短，如有些新闻网站，几个小时就更新一次；相反对于一些不重要的网站，更新的周期就长，可能一两个月才更新一次。  一般来说，网络蜘蛛在更新网站内容的时候，不用把网站网页重新抓取一遍，对于大部分的网页，只需要判断网页的属性（主要是日期），把得到的属性和上次抓取的属性相比较，如果一样则不用更新。 
结论 
 本文主要讨论了网络蜘蛛相关的技术要点，如果要设计好的网络蜘蛛， 需要了解更多的技术细节，可以参考文献
 网络蜘蛛在搜索引擎中占有重要位置，对搜索引擎的查全、查准都有影响，决定了搜索引擎数据容量的大小，而且网络蜘蛛的好坏直接影响搜索结果页中的死链接（即链接所指向的网页已经不存在）的个数。目前如何发现更多的网页、如何正确提取网页内容、如果下载动态网页、如何提供抓取速度、如何识别网站内内容相同的网页等都是网络蜘蛛需要进一步改进的问题。 

本文地址：http://www.FullSearcher.Com/n2004911142713735.asp

网站地址：http://www.FullSearcher.Com/

文章来源：

日志标题：[转载]中文搜索引擎技术揭密:排序技术
发表时间：2006-5-12 20:47:00
日志内容：





中文搜索引擎技术揭密:排序技术http://FullSearch.Com 中文全文检索网 2004-9-18 23:15:41 winter

关键词：中文搜索引擎技术揭密 


 随着“眼球经济”席卷互联网，成千上万的资金迅速流向最能吸引浏览着眼球的搜索引擎市场。有大量调查显示搜索引擎市场正处在高速发展时期，成为了未来几年内最具发展潜力的产业之一。随着Google、百度、中国搜索等各具特色的搜索引擎逐渐成为人们最常用的网络工具，企业对搜索引擎的注意力也从“观察”升级为“动武”。 
 随着市场容量和使用者人数的不断激增，如何完善搜索功能使之更加公平、公开、标准和人性化也就随之成为了一个备受关注的话题。但是有一个矛盾体在这其中不断的显现出来：收费可以为搜索引擎公司带来利润，但同时会降低访问者的体验满意度。如何权衡金钱和用户需求之间的天平呢？ 
Google成功的秘密 
 到2004年为止，Google（ http://www.google.com ）已经连续两年被评为全球第一品牌，Google成立仅五年时间，最初只是两个斯坦福大学学生的研究项目。这不能不说是一个奇迹，就像比尔?盖茨创制奇迹一样。比尔?盖茨能创造奇迹，是因为他看准了个人计算机软件市场的趋势，所以创建的公司叫Microsoft（微软）：Micro（小）Soft（软件）。那么Google呢？在Google出来之前已经有一些很有成就的搜索引擎公司，其实力也很强，看来不只是Google看见了搜索的趋势。Google究竟成功的秘密在哪儿？ 
 Google的成功有许多因素，最重要的是Google对搜索结果的排序比其它搜索引擎都要好。Google保证让绝大部分用搜索的人，都能在搜索结果的第一页找到他想要的结果。客户得到了满足，下一次还过来，而且会向其他人介绍，这一来一往，使用的人就多了。所以Google在没有做任何广告的前提下，让自己成为了全球最大的品牌。Google究竟采用了哪种排序技术？PageRank，即网页级别。 
 Google有一个创始人叫Larry Page，据说PageRank的专利是他申请的，于是依据他的名字就有了Page Rank。国内也有一家很成功的搜索引擎公司，叫百度（ http://www.baidu.com ）。百度的创始人李彦宏说，早在1996年他就申请了名为超链分析的专利，PageRank的原理和超链分析的原理是一样的，而且PageRank目前还在Paten-pending（专利申请中）。言下之意是这里面存在专利所有权的问题。这里不讨论专利所有权，只是从中可看出，成功搜索引擎的排序技术，就其原理上来说都差不多，那就是链接分析。超链分析和PageRank都属于链接分析。 
 链接分析到底为何物？由于李彦宏的超链分析没有具体的介绍，笔者唯一看过的就是在美国专利局网站上关于李彦宏的专利介绍。PageRank的介绍倒是不少，而且目前Google毕竟是全球最大的搜索引擎，这里以PageRank为代表，详细介绍链接分析的原理。 
　
PageRank揭密 
 PageRank的原理类似于科技论文中的引用机制：谁的论文被引用次数多，谁就是权威。说的更白话一点：张三在谈话中提到了张曼玉，李四在谈话中也提到张曼玉，王五在谈话中还提到张曼玉，这就说明张曼玉一定是很有名的人。在互联网上，链接就相当于“引用”，在B网页中链接了A，相当于B在谈话时提到了A，如果在C、D、E、F中都链接了A，那么说明A网页是最重要的，A网页的PageRank值也就最高。 
 如何计算PageRank值有一个简单的公式 ： 

 其中：系数为一个大于0，小于1的数。一般设置为0.85。网页1、网页2至网页N表示所有链接指向A的网页。 
由以上公式可以看出三点 ： 
1、链接指向A的网页越多，A的级别越高。即A的级别和指向A的网页个数成正比，在公式中表示，N越大， A的级别越高； 
2、链接指向A的网页，其网页级别越高， A的级别也越高。即A的级别和指向A的网页自己的网页级别成正比，在公式中表示，网页N级别越高， A的级别也越高； 
3、链接指向A的网页，其链出的个数越多，A的级别越低。即A的级别和指向A的网页自己的网页链出个数成反比，在公式中现实，网页N链出个数越多，A的级别越低。 
 每个网页有一个PageRank值，这样形成一个巨大的方程组，对这个方程组求解，就能得到每个网页的PageRank值。互联网上有上百亿个网页，那么这个方程组就有上百亿个未知数，这个方程虽然是有解，但计算毕竟太复杂了，不可能把这所有的页面放在一起去求解的。对具体的计算方法有兴趣的朋友可以去参考一些数值计算方面的书。 
 总之，PageRank有效地利用了互联网所拥有的庞大链接构造的特性。 从网页A导向网页B的链接，用Google创始人的话讲，是页面A对页面B的支持投票，Google根据这个投票数来判断页面的重要性，但Google除了看投票数（链接数）以外，对投票者（链接的页面）也进行分析。「重要性」高的页面所投的票的评价会更高，因为接受这个投票页面会被理解为「重要的物品」。从新浪、雅虎、微软的首页都有我网页的三个链接的话，可能比我在其他网站找三十个链接还强。如果还有人不理解这个原理，就去想想有句成语叫：三人成虎。如果有三个人都说北京大街上有老虎，那么许多人会认为有老虎，如果这三个人都是国家领导人的话，那么所有人都会认为北京大街上有老虎。 
 每个网页都会有PageRank值，如果大家想知道自己网站的网页PageRank值是多少，最简单的办法就是下载一个Google的免费工具栏（ http://toolbar.google.com/ ）， 

 每当你打开一个网页，都可以很清楚的看见此网页的PageRank值。当然这个值是一个大概数字。 
 据Google技术负责人介绍，Google除了用PageRank衡量网页的重要程度以外，还有其它上百种因素来参与排序。其它搜索引擎也是如此，不可能按照某一种规则来进行搜索结果的排序。 
其他方法 
HillTop算法： 
 HillTop同样是一项搜索引擎结果排序的专利，是Google的一个工程师Bharat在2001年获得的专利。Google的排序规则经常在变化，但变化最大的一次也就是基于HillTop算法进行了优化。HillTop究竟原理如何，值得Google如此青睐？ 
 其实HillTop算法的指导思想和PageRank的是一致的，都是通过网页被链接的数量和质量来确定搜索结果的排序权重。但HillTop认为只计算来自具有相同主题的相关文档链接对于搜索者的价值会更大：即主题相关网页之间的链接对于权重计算的贡献比主题不相关的链接价值要更高。如果网站是介绍“服装”的，有10个链接都是从“服装”相关的网站链接过来，那这10个链接比另外10个从“电器”相关网站链接过来的贡献要大。Bharat称这种对主题有影响的文档为“专家”文档，从这些专家文档页面到目标文档的链接决定了被链接网页“权重得分”的主要部分。 
 与PageRank结合HillTop算法确定网页与搜索关键词的匹配程度的基本排序过程取代了过份依靠PageRank的值去寻找那些权威页面的方法。这对于两个具有同样主题而且PR相近的网页排序过程中，HillTop算法就显得非常的重要了。HillTop同时也避免了许多想通过增加许多无效链接来提高网页PageRank值的做弊方法。 
锚文本（Anchor Text） 
 锚文本名字听起来难以理解，实际上锚文本就是链接文本。例如，在个人网站上把中央电视台（ www.cctv.com ）做为新闻频道的链接，访问者通过点击网站上的“新闻频道”就能进入 http://www.cctv.com 网站，那么“新闻频道”就是中央电视台网站首页的锚文本。 
 锚文本可以做为锚文本所在的页面的内容的评估。正常来讲，页面中增加的链接都会和页面本身的内容有一定的关系。服装的行业网站上会增加一些同行网站的链接或者一些做服装的知名企业的链接；另一方面，锚文本能做为对所指向页面的评估。锚文本能精确的描述所指向页面的内容，个人网站上增加Google的链接，锚文本为“搜索引擎”。这样通过锚文本本身就能知道，Google是搜索引擎。 
 锚文本对搜索引擎起的作用还表现为可以收集一些搜索引擎不能索引的文件。例如，网站上增加了一张张曼玉的照片，格式为jpg文件，搜索引擎目前很难索引（一般只处理文本）。若这张照片链接的锚文本为“张曼玉的照片”，那么搜索引擎就能识别这张图片是张曼玉的照片，以后访问者搜索“张曼玉”的时候，这张图片就能被搜索到。 
 由此可见，在网页设计中选择合适的锚文本，会让所在网页和所指向网页的重要程度有所提升。 
页面版式 
 每个网页都有版式，包括标题、字体、标签等等。搜索引擎也会利用这些版式来识别搜索词与页面内容的相关程度。以静态的html格式的网页为例，搜索引擎通过网络蜘蛛把网页抓取下来后，需要提取里面的正文内容，过滤其他html代码。在提取内容的时候，搜索引擎就可以记录所有版式信息，包括：哪些词是在标题中出现，哪些词是在正文中出现，哪些词的字体比其他的字体大，哪些词是加粗过，哪些词是用KeyWord标识过的等等。这样在搜索结果中就可以根据这些信息来确定所搜索的结果和搜索词的相关程度。例如搜索“毛泽东”，假如有两个结果，一篇文章标题是《毛泽东的一生》，另一篇文章的标题是《江青的一生》但内容有提到毛泽东，这时搜索引擎会认为前者比较重要，因为“毛泽东”在标题里出现了。 
 因此，合理的利用网页的页面版式，会提升网页在搜索结果页的排序位置。 
收费排名 
 应该说收费排名并不属于排序技术（这里指的收费排名也包括竞价排名），而是一种搜索引擎的赢利模式。但收费排名已经最直接的影响到了搜索引擎的排序，在此也略做说明。 
 用户可以购买某个关键词的排名，只要向搜索引擎公司交纳一定的费用，就可以让用户的网站排在搜索结果的前几位，按照不同关键词、不同位置、时间长短来定义价格。价格从几千元到几十万元不等（像“六合彩”在3721上的排名费用大多是几十万）。 
 收费排名一方面给搜索引擎公司带来收益，一方面给企业带来访问量，另外对访问者也有一定好处。因为访问者想找“西服”，企业想卖“西服”，于是出钱让访问者能找到他，这样，买家和卖家能马上见面。但收费排名给访问者带来更多的却是不真实，结果排序已经失去了公正性，有时候还带来大量垃圾。在百度搜索引擎上搜索“ 星球 ”，排在第一位的是一家做石墨的公司，排在第二位的居然是“想找星球？上易趣吧！”（见下图）。真有些让访问者哭笑不得。 

 当然，对于企业来说，收费排名是提升网站在搜索引擎中排名的最直接和最简单的办法。如今，如何提升网页在搜索引擎中的排序，已经形成了一门职业，叫SEO（Search Engine Optimization），即搜索引擎优化。SEO是针对搜索引擎排序的技术，通过修改网页（或者网站）结构和主动增加网站链接等方法来让搜索引擎认为这些网页是很重要的，从而提升网页在搜索引擎结果中的排序。 
排序技术的发展趋势 
 各种搜索引擎的技术改进和优化，都直接反应到搜索结果的排序上。许多搜索引擎都在进一步研究新的排序方法，来提升客户的满意度。专业人士认为，目前的搜索引擎排序算法上还存在两大不足。 
一、没有真正解决相关性。
 相关性是指搜索词和页面的相关程度。仅仅通过链接、字体、位置等表面特征，不能真正判断搜索词和文章的相关性，更何况许多时候这些特征不会都同时存在。这也是许多对搜索引擎做弊方法能有效的原因。另外，有些文章中没有出现搜索词，但说的就是和搜索词十分相关的内容，例如搜索“恐怖分子”，但有网页是介绍本拉登的一些破坏行动，文中没有出现“恐怖分子”的子眼，搜索引擎就无法搜索到该网页。表面特征只能治标，不能治本。治本的方法应该是增加语意理解，例如主题词和关键词的提取，从语意上分析，得出搜索词和网页的相关程度，分析的越准，效果就会越好。 
二、搜索结果的单一化。
 在搜索引擎上，任何人搜索同一个词的结果都是一样。这样明显不能满足访问者。科学家搜索“星球”，可能是希望了解星球的知识，但普通人可能是想找“星球大战”电影，但搜索引擎所给的都是一样的结果。如何满足这些不同类型的访问者，需要对搜索结果的个性化。国外vivisimo公司（ http://www.vivisimo.com ）就是想解决这个问题，他们采用对搜索结果自动聚类的办法来满足不同类型客户的需要。搜索结果排序如果要实现从单一化到个性化，vivisimo已经迈出了一步，但最理想的结果应该是针对每个访问者，排序结果直接和他们的搜索习惯和意愿有关。搜索“体育”，对喜欢足球的人应该把足球的相关结果排在前面，对喜欢篮球的人应该把篮球的相关结果排在前面。 
 搜索引擎的排序技术应该也会朝着解决这两个不足的方向发展：语意相关性和排序个性化。前者需要完善的自然语言处理技术，后者需要记录庞大访问者信息和复杂的计算，要达到其中任何一个的要求均非易事，如何解决这些难题，任务落在了科学家和工程师们的肩上，哪个搜索引擎解决了这些问题，她可能会称为下一个搜索世界的霸主。 

本文地址：http://www.FullSearcher.Com/n2004911143931735.asp

网站地址：http://www.FullSearcher.Com/

文章来源：

日志标题：[转载]中文搜索引擎技术揭密:系统架构
发表时间：2006-5-12 20:49:00
日志内容：





中文搜索引擎技术揭密:系统架构http://FullSearch.Com 中文全文检索网 2004-9-18 23:15:24 winter

关键词：中文搜索引擎技术揭密 

 互联网发展的今天，一方面离不开其开放、共享的特性带给人们的全新体验，另一方面也离不开数以亿计的为其提供各类丰富内容的网络节点。互联网被普及前，人们查阅资料第一想到的便是拥有大量书籍资料的图书馆，到了今天你怎么想？或许今天的很多人都会选择一种更方便、快捷、全面、准确的方式――互联网。你可以坐在家里轻点几下鼠标就查到想要的各类信息，这在互联网没有被普及之前，还都仅是一个梦而已，但如今这一切已成为了可能。 
　　而帮助你通过整个互联网快速查找到目标信息的就是越来越被重视的搜索引擎。有关搜索引擎的技术资料网络上已经很多，关于搜索引擎经济的多方面报道各大媒体也都已经铺天盖地，因此在这里小编并不想过多的谈论这些方面的感受，只想在本次“中文搜索引擎技术揭密”系列文章全部完成之际来聊一下搜索引擎对小编的深远影响。
　　记得2000年左右网络上开始大量出现免费个人主页空间，当时的小编还只是一个刚刚进入IT圈的小朋友，看着这些空间那叫一个口水横流，于是乎立刻申请了一个。又经过了一个多月的刻苦修炼和先后三次的改版，自己有生以来的第一个个人主页诞生了。可看着每天寥寥无几的访问量，心里那叫一个难受，可一时间也想不到好办法解决问题。突然有天发现一篇介绍如何在搜索引擎注册自己个人网站的文章，于是小编就照着文章所讲的分别在SOHU、网易等搜索引擎的相关分类目录下注册了自己的个人主页。直至今日，小编才确切的知道了当时盛行的搜索引擎都属“目录搜索引擎”。这实际上是小编第一次使用、认识搜索引擎，再后来通过每天个人主页不断上升的数字小编感觉到了搜索引擎的神奇。
　　其实正是由于搜索引擎，才使小编的个人主页被更多的人所熟识，以至于后来有多份工作都是因为这个个人主页所带来的机会。其实这些经历或许很多人都有切身的体会，同样也有很多人因此去全身投入到互联网工作中。这正像那句话讲的“世界真奇妙，不看不知道”，小编在此多加一句“到底怎么看，搜索引擎帮你忙！”
　　互联网在近10年的得到飞速发展，互联网正在逐渐深入人们的生活，改变人们的生活。互联网经济也经历了风风雨雨，从缓慢起步到急速膨胀，从泡沫破灭到逐步回暖；从“网络广告”到“拇指经济”，从“网络游戏”到“搜索力经济”。目前，搜索引擎成为最受人们关注的焦点之一，也成为亿万富翁的制造摇篮。越来越多的公司都希望在搜索引擎这座金矿中挖到筐金子，其中许多人会选择拥有自己的搜索引擎。国内著名搜索引擎公司百度(http://www.baidu.com)总裁李彦宏说：搜索引擎不是人人都能做的领域，进入的门槛比较高。
　　搜索引擎的门槛到底有多高？搜索引擎的门槛主要是技术门槛，包括网页数据的快速采集、海量数据的索引和存储、搜索结果的相关性排序、搜索效率的毫秒级要求、分布式处理和负载均衡、自然语言的理解技术等等，这些都是搜索引擎的门槛。对于一个复杂的系统来说，各方面的技术固然重要，但整个系统的架构设计也同样不可忽视，搜索引擎也不例外。
　
　　搜索引擎技术和分类
　　搜索引擎的技术基础是全文检索技术，从20世纪60年代，国外对全文检索技术就开始有研究。全文检索通常指文本全文检索，包括信息的存储、组织、表现、查询、存取等各个方面，其核心为文本信息的索引和检索，一般用于企事业单位。随着互联网信息的发展，搜索引擎在全文检索技术上逐渐发展起来，并得到广泛的应用，但搜索引擎还是不同于全文检索。搜索引擎和常规意义上的全文检索主要区别有以下几点：
　　1、数据量
　　传统全文检索系统面向的是企业本身的数据或者和企业相关的数据，一般索引库规模多在GB级，数据量大的也只有几百万条；但互联网网页搜索需要处理几十亿的网页，搜索引擎的策略都是采用服务器群集和分布式计算技术。
　　2、内容相关性
　　信息太多，查准和排序就特别重要，Google等搜索引擎采用网页链接分析技术，根据互联网上网页被链接次数作为重要性评判的依据；但全文检索的数据源中相互链接的程度并不高，不能作为判别重要性的依据，只能基于内容的相关性排序。
　　3、安全性
　　互联网搜索引擎的数据来源都是互联网上公开的信息，而且除了文本正文以外，其它信息都不太重要；但企业全文检索的数据源都是企业内部的信息，有等级、权限等限制，对查询方式也有更严格的要求，因此其数据一般会安全和集中地存放在数据仓库中以保证数据安全和管理的要求。
　　4、个性化和智能化
　　搜索引擎面向的是互联网访问者，由于其数据量和客户数量的限制，自然语言处理技术、知识检索、知识挖掘等计算密集的智能计算技术很难应用，这也是目前搜索引擎技术努力的方向；而全文检索数据量小，检索需求明确，客户量少，在智能化和个性可走得更远。
　　搜索引擎与全文检索除了以上的区别外，还结合互联网信息的特点形成了三个不同的类型：
　　全文检索搜索引擎：全文搜索引擎是名副其实的搜索引擎，国外具代表性的有Google (http://www.google.com) 、yahoo(http://search.yahoo.com) 、AllTheWeb (http://www.alltheweb.com ) 等，国内著名的有百度(http://www.Baidu.com)、中搜(http://www.zhongsou.com)。它们都是通过从互联网上提取的各个网站的信息(以网页文字为主)而建立的数据库，检索与用户查询条件匹配的相关记录，然后按一定的排列顺序将结果返回给用户，也是目前常规意义上的搜索引擎。
　　目录搜索引擎：目录索引虽然有搜索功能，但在严格意义上算不上是真正的搜索引擎，仅仅是按目录分类的网站链接列表而已。用户完全可以不用进行关键词查询，仅靠分类目录也可找到需要的信息。国外比较著名的目录索引搜索引擎有yahoo(http://www.yahoo.com)Open Directory Project(DMOZ)(http://www.dmoz.com/)、LookSmart(http://www.looksmart.com)等。国内的搜狐(http://www.sohu.com)、新浪(http://www.sina.com)、网易(http://www.163.com)搜索也都具有这一类功能。
　　元搜索引擎：元搜索引擎在接受用户查询请求时，同时在其它多个引擎上进行搜索，并将结果返回给用户。著名的元搜索引擎有Dogpile(http://www.dogpile.com)、Vivisimo(http://www.vivisimo.com)等，国内元搜索引擎中具代表性的有搜星搜索引擎(http://www.soseen.com/)，优客搜索(http://www.yok.com)。在搜索结果排列方面，有的直接按来源引擎排列搜索结果，如Dogpile，有的则按自定的规则将结果重新排列组合，如Vivisimo。
　　其他的像新浪(http://search.sina.com.cn)、网易(http://search.163.com)、A9(http://www.A9.com)等搜索引擎都是调用其它全文检索搜索引擎，或者在其搜索结果的基础上做了二次开发。
　
 搜索引擎的系统架构
　　这里主要针对全文检索搜索引擎的系统架构进行说明，下文中提到的搜索引擎如果没有特殊说明也是指全文检索搜索引擎。搜索引擎的实现原理，可以看作四步：从互联网上抓取网页→建立索引数据库→在索引数据库中搜索→对搜索结果进行处理和排序。　　
　　1、从互联网上抓取网页
　　利用能够从互联网上自动收集网页的网络蜘蛛程序，自动访问互联网，并沿着任何网页中的所有URL爬到其它网页，重复这过程，并把爬过的所有网页收集到服务器中。
　　2、建立索引数据库
　　由索引系统程序对收集回来的网页进行分析，提取相关网页信息(包括网页所在URL、编码类型、页面内容包含的关键词、关键词位置、生成时间、大小、与其它网页的链接关系等)，根据一定的相关度算法进行大量复杂计算，得到每一个网页针对页面内容中及超链中每一个关键词的相关度(或重要性)，然后用这些相关信息建立网页索引数据库。
　　3、在索引数据库中搜索
　　当用户输入关键词搜索后，分解搜索请求，由搜索系统程序从网页索引数据库中找到符合该关键词的所有相关网页。
　　4、对搜索结果进行处理排序
　　所有相关网页针对该关键词的相关信息在索引库中都有记录，只需综合相关信息和网页级别形成相关度数值，然后进行排序，相关度越高，排名越靠前。最后由页面生成系统将搜索结果的链接地址和页面内容摘要等内容组织起来返回给用户。
　　下图是一个典型的搜索引擎系统架构图，搜索引擎的各部分都会相互交错相互依赖。其处理流程按照如下描述：

　　“网络蜘蛛”从互联网上抓取网页，把网页送入“网页数据库”，从网页中“提取URL”，把URL送入“URL数据库”，“蜘蛛控制”得到网页的URL，控制“网络蜘蛛”抓取其它网页，反复循环直到把所有的网页抓取完成。
　　系统从“网页数据库”中得到文本信息，送入“文本索引”模块建立索引，形成“索引数据库”。同时进行“链接信息提取”，把链接信息(包括锚文本、链接本身等信息)送入“链接数据库”，为“网页评级”提供依据。
　　“用户”通过提交查询请求给“查询服务器”，服务器在“索引数据库”中进行相关网页的查找，同时“网页评级”把查询请求和链接信息结合起来对搜索结果进行相关度的评价，通过“查询服务器”按照相关度进行排序，并提取关键词的内容摘要，组织最后的页面返回给“用户”。
　
　　搜索引擎的索引和搜索
　　对于网络蜘蛛技术和排序技术请参考作者其它文章[1][2]，这里以Google搜索引擎为例主要介绍搜索引擎的数据索引和搜索过程。
　　数据的索引分为三个步骤：网页内容的提取、词的识别、标引库的建立。
　　互联网上大部分信息都是以HTML格式存在，对于索引来说，只处理文本信息。因此需要把网页中文本内容提取出来，过滤掉一些脚本标示符和一些无用的广告信息，同时记录文本的版面格式信息[1]。词的识别是搜索引擎中非常关键的一部分，通过字典文件对网页内的词进行识别。对于西文信息来说，需要识别词的不同形式，例如：单复数、过去式、组合词、词根等，对于一些亚洲语言(中文、日文、韩文等)需要进行分词处理[3]。识别出网页中的每个词，并分配唯一的wordID号，用于为数据索引中的标引模块服务。

　　标引库的建立是数据索引中结构最复杂的一部分。一般需要建立两种标引：文档标引和关键词标引。文档标引分配每个网页一个唯一的docID号，根据docID标引出在这个网页中出现过多少过wordID，每个wordID出现的次数、位置、大小写格式等，形成docID对应wordID的数据列表；关键词标引其实是对文档标引的逆标引，根据wordID标引出这个词出现在那些网页(用wordID表示)，出现在每个网页的次数、位置、大小写格式等，形成wordID对应docID的列表。
　　关于索引数据的详细数据结构，有兴趣的朋友可以参看文献[4]。
　　搜索的处理过程是对用户的搜索请求进行满足的过程，通过用户输入搜索关键字，搜索服务器对应关键词字典，把搜索关键词转化为wordID，然后在标引库中得到docID列表，对docID列表进行扫描和wordID的匹配，提取满足条件的网页，然后计算网页和关键词的相关度，根据相关度的数值返回前K篇结果(不同的搜索引擎每页的搜索结果数不同)返回给用户。如果用户查看的第二页或者第多少页，重新进行搜索，把排序结果中在第K+1到2*K的网页组织返回给用户。其处理流程如下图所示：

　
　　搜索引擎细化趋势
　　随着搜索引擎市场空间越来越大，搜索引擎也分得越来越细。互联网没有国界，百度总裁李彦宏所讲：搜索引擎市场是赢家通吃的市场。如果一个搜索引擎要想在搜索市场上有自己的一席之地，必须拥有自己的特色。而且，数以亿计的网民，搜索需求不可能都一样，不同类型的用户需要不同类型的搜索引擎，网页搜索只是搜索需求中的一种，这就决定了搜索引擎会不断细化，各具特色的搜索引擎也陆续出现。
　　从技术上讲，各种搜索引擎都具有类似的系统架构，其不同在于搜索的数据源的不同。除了上面提到的网页搜索引擎以外，下面列举几个典型的搜索引擎：
　　新闻搜索引擎
　　看新闻是许多网民上网的主要目的，新闻搜索也就成了查看新闻的重要工具。新闻搜索引擎实现的过程比较简单，一般是扫描国内外有名的新闻网站，抓取新闻网页，建立自己的新闻数据库，然后提供搜索，只是对新闻网页抓取的频率要求很高，有的需要做到几分钟扫描一次。现在许多大型的网页搜索引擎都提供相应的新闻搜索功能，如：Google新闻搜索(http://news.google.com)，中搜新闻搜索(http://news.zhongsou.com)，百度新闻搜索(http://news.baidu.com)等。
　　音乐搜索引擎
　　有了互联网以后，音乐得到了广泛的传播，对于喜欢音乐的网民来说，音乐搜索引擎成了最钟爱的工具。音乐搜索引擎需要监控互联网上大型的音乐网站，抓取其音乐数据的描述信息，形成自己的数据库，音乐的下载和试听都会在其原来的音乐网站上进行。目前有：搜刮网(http://www.sougua.com)，百度mp3搜索(http://mp3.baidu.com)，1234567搜索(http://www.1234567.com)等。
　　图像搜索引擎
　　通过图像搜索引擎可以找到自己感兴趣的图片链接，各大搜索引擎也提供了图像搜索功能。图像文件本身不能够被搜索引擎索引，但搜索引擎可以通过链接文本分析和图片注解等得到图片的信息。目前有：Google图像搜索(http://images.google.com/)，VisionNext搜索(http://www.eefind.com)，百度图像搜索(http://images.baidu.com)等。
　　商机搜索引擎
　　电子商务一直是互联网的热点，商机搜索对电子商务的发展也起到了巨大的推动作用，商机搜索让互联网经济和传统经营紧密结合在一起，给传统的企业提供了一个新的销售模式。商机搜索引擎，通过抓取电子商务网站的商品信息和其他商业信息，给访问者提供统一的搜索平台。目前有：soaso价格搜索引擎(http://www.soaso.com)，8848购物搜索(http://www.8848.com)，阿里巴巴商机搜索(http://www.alibaba.com)等。
　　其他特色的搜索引擎还有专利搜索、软件搜索、ftp搜索、游戏搜索、法律搜索等等。　

本文地址：http://www.FullSearcher.Com/n200491114034735.asp

网站地址：http://www.FullSearcher.Com/

文章来源：donews

日志标题：写了段程序,准备换一个网站空间
发表时间：2006-5-13 19:07:00
日志内容：就是这个贴子的楼主,答应用100-150M网站空间给我换一段程序,昨天搞了两个JS版,不过没有解决跨域装载XML的问题,今天以修改了一把,完美的解决了跨域装载XML的问题!
http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2571508
　　就等著交易了！
　　如何解Q的，嘿嘿，r保密


日志标题：ORA-14452e`及解Q方法
发表时间：2006-5-16 11:08:00
日志内容：The information in this article applies to: 

Oracle Server - Enterprise Edition - Version: 8.1.7.4 to 10.1.0.2
This problem can occur on any platform.


本文所列信息应用于 Oracle Server C Enterprise Edition CVersion:8.1.7.4 to 10.1.0.2
这个问题在所有平台上都会出现.


ErrorsORA-14452 attempt to create, alter or drop an index on temporary table already in use.
试图创建,修改或删除正在使用中的临时表的索引.
(Toad的翻译:尝试建立、更新或舍弃正在使用中的索引或暂时表格)



Symptoms(症状)Attempting to drop a global temporary table results in the following error
ORA-14452, "attempt to create, alter or drop an index on temporary table already in use"

For exampleSQL&gt; CREATE GLOBAL TEMPORARY TABLE t1 ON COMMIT PRESERVE ROWS AS SELECT * FROM v$parameter;

Table created.
SQL&gt; DELETE FROM t1;258 rows deleted.
SQL&gt; DROP TABLE t1;drop table t1*ERROR at line 1:ORA-14452: attempt to create, alter or drop an index on temporary table already in use CauseReading the comments about ora-14452:From oerr ora-1445214452, 00000, "attempt to create, alter or drop an index on temporary table already in use"*Cause: An attempt was made to create, alter or drop an index on temporary table which is already in use.
*Action: All the sessions using the session-specific temporary table have to truncate table and all the transactions using transaction specific temporary table have to end their transactions.

Do a truncate table before dropping the table.在drop这个个表之有,执行 truncate table 动作.

The documentation on this situation is not very clear:
This is the expected behaviour with clause "on commit preserve rows".
DDL cannot be performed on these temporary tables which are in use or bound to a session.
这就是:On commit preserve rows 子句的预期目的.
DDL 不能在正在使用中的临时表中或在session有限期里执行.
These tables get bound to the session with the first insert. The binding is removed when the session exits or by truncate. 
Fix
Perform a truncate table before dropping the table. 

CREATE GLOBAL TEMPORARY TABLE TMP_STUDENT ON COMMIT PRESERVE ROWS AS SELECT * FROM STUDENT
TRUNCATE TABLE TMP_STUDENT
DROP TABLE TMP_STUDENT

补充说明：
加ON COMMIT PRESERVE ROWS 子句的作用是在创建表的时候，把SELECT子句所选的结果加入到临时表中．如果不加该子句，创建的临时表里不会有数据。

日志标题：关于IE只能嵌套27层表格的说法证明
发表时间：2006-5-16 13:11:00
日志内容：首先,更正一下,是只显示了28层,而非27.
下面用了递归,可以清楚的看到你所要创建的表格层数都创建了,只是到显示的时候,从第28层之后都不能显示出来而已.
至于为什么显示不来,我也不得而知.
点击下面的代码,查看结果:

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script&gt;var n = 40;function createTable(pI){var oTable = document.createElement("TABLE");oTable.border = 1;oTable.width = 1000 - pI;oTable.height = 1000 - pI;var oTBody = document.createElement("TBODY");var oTr = document.createElement("TR");var oTd = document.createElement("TD");oTd.innerHTML = pI;
if(pI&lt;n) oTd.appendChild(createTable(pI+1));
oTr.appendChild(oTd);oTBody.appendChild(oTr);oTable.appendChild(oTBody);document.body.appendChild(oTable);alert(pI)return oTable;}
createTable(1);&lt;/script&gt;

日志标题：快到10000了，为了纪念,骂一下.
发表时间：2006-5-17 13:45:00
日志内容：
提起9991.com这个垃圾,我就来火.
号称QiangJian了中国几千万的浏览器.
别的就不说了.大家千万要BS这个垃圾站!

哈哈,挂万了!让我给抓住了!

日志标题：[转]日本情报专家在新疆偷测地形被抓获
发表时间：2006-5-18 19:22:00
日志内容：原文:http://news.qq.com/a/20060518/001860.htm
　　本报讯 (驻日本记者 王颖颖 黎萌) 4月6日，新疆自治区测绘局经过历时近5个月的多方调查，依法处理了新疆境内第一起日本人在华非法测绘案件。直到一个月之后，此事才通过新疆测绘局的网站披露出来。这究竟是一起纯属图谋暴利的私人非法测绘行为，还是涉及更为隐秘的活动呢？相关消息中并没有交待。然而，当本报记者采访日方当事人时，此人却为自己的行为极力辩解。 
　　卸载数据时被安全部门当场抓获 
　　2005年9月的一天，新疆和田市一户居民的平房顶上突然出现了一台全球卫星定位(GPS)设备。这引起了新疆安全部门的高度关注。随后，两个神秘人物出现在安全部门监测人员的视线内。正当两人卸载数据时，安全部门的人员将之当场抓获。 
　　一名日本游客在新疆旅游 
　　经新疆测绘局调查发现，其中一人名为大林成行，是日本株式会社国土情报技术研究所所长。另一人名为东俊孝，是大林成行的学生，也在日本株式会社国土情报技术研究所工作。两人携两台手持式GPS接收机入境，将架设于和田机场附近一户居民平房顶上的一台设为固定站，另一台GPS接收机作为流动站，采用GPS动态差分测量技术从事非法测绘活动，采集中国和田境内的地理信息数据。 
　　此前，大林成行曾与新疆大学有过生态环境演变遥感研究方面的学术合作，但批准的合作期已过。此次两人随旅游团入境，是旅游者的身份，可他们却在和田市从事非法测绘活动。 
　　在两人被抓获后，我国国家安全部门根据《国家安全法》的相关规定，对他们做出了“限期离境”的驱逐决定，并将案件移交新疆测绘局执行。新疆测绘局最终依法作出了处理：没收了他们的测绘结果和测绘工具，并处以8万元人民币的行政罚款。 
　　日情报专家辩称是“沟通出了问题” 
　　本月16日，记者就此事拨通了株式会社国土情报技术研究所的电话，当电话由一位女士转到一名男性老者的手中时，意外地出现了当事人的声音：“你好，我就是大林成行。” 
　　意外之余，记者说明了情况，希望大林对此事做出解释。大林成行辩解道，“去年9月，我和我的助手的确去了和田。你们说那是‘测量’，但我不认为那是测量。我觉得就是双方沟通出了问题。是语言上的问题。” 
　　记者问道：“那您是否认为新疆测绘局的处罚不合理呢？”大林成行说：“也不是不合理。当地有当地的情况，国家有国家的立场。总之情况很复杂。现在我们的器材被没收了，我们还在与当地部门协商，希望拿回器材。” 
　　新疆测绘局对两名日本人进行了依法处罚 
　　本报记者17日就此事采访了新疆测绘局负责人。这位负责人强调，两名日本人在和田市从事非法测绘活动证据确凿，测绘局对他们做出的处理是符合中国法律的。 
　　新疆测绘局有关人士还指出，这两名日本人没有办理任何进入中国搞测绘活动的相关手续，违反了《中华人民共和国测绘法》第1章第7条的有关规定；按照此条规定的精神，外国人进入中国从事测绘活动，必须与中方有关部门或单位依法合资、合作，并不得涉及中国国家机密，危害中国国家安全。 
　　非法测绘涉及到多方面的因素。如果纯属外国公民的违法行为，那么其目的很可能是出于诱人的商业利益考虑；如果是国家行为则会成为与国家安全有关的话题；而如果是军事目的的测绘，其后果就更为严重了。 
　　日本测绘中国始于19世纪 
　　早在19世纪明治维新后，日本便积极对中国展开实地测绘。当时的活动带有明显的军事意图。1894年中日甲午战争爆发前，日军大本营密遣大批浪人充当间谍，到中国东北、华北及朝鲜，实地绘制作战地图，后来日军就是按照这些地图提供的路线，顺利攻克九连城、金州、旅顺口和威海等重镇，加速了清军的失败。 
　　此后，日本政府又在上海开设海外间谍机关“东亚同文书院”，该机关先后派出14批“中国通”间谍以“旅行”为掩护，到中国各地实况绘制5万分之一标尺的军用地图。测绘路线包括新疆、内蒙古、西藏等地，这些地图往往精确到地表的一棵树一间房，地图将路径、矿场、水源等相关信息全部涵盖，标注尤其细致入微。这些地图在日军侵华过程中起到向导和线人的作用。1945年日本投降后，国民党政府接收了数以万计的日军作战地图，其内容之繁多，绘制之精细让许多接收大员感到“中华腹腋，几为倭人洞悉”，直到今天，台湾军队也还在使用相当数量的此类地图。 
　　日本还曾多次利用测绘事件故意制造事端。1931年6月，日军上尉中村震太郎化装成中国农民，进入我东北兴安岭索伦山一带绘制10万分之一军用地图，被中国屯垦军抓获正法，该事件成为日本关东军悍然发动“九・一八事变”的借口之一。 
　　私人非法测绘充满诱人的商业利益 
　　随着互联网、汽车电子和无线手持设备对导航需求的剧增，使得电子地图产业在中国乃至世界出现了爆炸式增长的态势。业内不少人士认为，中国电子地图市场规模到2008年将膨胀到100亿元人民币以上。 
　　除了现在的GPS车载导航外，中国各行业对电子地图的应用铺天盖地。如此丰厚的利润诱惑，使得众多海外公司纷纷涉足。另外，与发达国家相比，中国高分辨率空间信息资源短缺，许多外国公司试图抢占这个市场，也刺激了一些人的非分之想。 
　　目前，全世界都积极运用先进的遥感地理信息系统(GIS)和全球定位系统(GPS)，以数字方式获取、处理和分析自然和人文方面的空间数据，建立一个与地球相对应的动态虚拟“数字地球”(The Digital Earth)。虽然网络没有国界，但地理信息却是各国需要保密的，各国都为此制定了严格法律规定。 
　　测绘涉及重大国家安全 
　　长期以来，地理测绘一直被为各国政府视为“国之神器，不可予人”。掌握了一个国家各大关键设施的地理坐标，也就意味着该国的国防与经济命脉都逃不过对手的耳目。 
　　专业地图测绘一般包括语义信息、位置信息和关联信息三方面，即“是什么”、“在哪里”、“周围有什么”。从近几年的科索沃战争、阿富汗战争和伊拉克战争来看，西方国家习惯使用远程精确打击导弹，这种武器对“是什么”、“在哪里”的信息有很高的要求，也是各国需要严格保密的，而对“周围有什么”的关联信息保密要求则要稍微低一些。 
　　2005年10月，google网站公布一些遥感测绘卫星拍摄的印度军事基地照片，印国防部为此大为光火，原因是这些照片能够为潜在对手提供地理参照信息，有助于提高导弹的命中精度。 
　　美国国家图像测绘局(NIMA)每年几十亿美元的预算中，约有24%的资金用于采购商业机构出版发行的图像和地图产品。1999年5月8日美军对中国驻南联盟使馆进行轰炸，B-2轰炸机就是以该局提供的电子地图情报作为根据的。 
　　在2001年阿富汗反恐战争中，美军地面部队在连绵起伏的山区、数以千计的洞穴中搜寻恐怖组织头子本・拉登时，也正是使用由NIMA提供的5万分之一的电子作战地图，作为安全进出复杂地区的可靠保证。

日志标题：钞票不是万能的,有时还需要信用卡
发表时间：2006-5-19 9:51:00
日志内容：Money is not everything. There‘s Mastercard &amp; Visa. 钞票不是万能的,有时还需要信用卡. 
　　来说说我昨天晚上的事.　　这几天不知咋得,老想搞个QQ宠物,以前的同学,认识的人,没有一个愿意把QQ宠物蛋送给一个大男人的(BS这些色狼).于是就想买一个,看你们还气蛋!
　　QQ上没有Money怎么办呢？
　　开始想用手机充值，只不过没有找到方法（到是有一个，却提示我无权播打该号码，狂晕！）。　　　　于是就想到网上银行，以前在这里开了一个户头（建行RMB 3000才给开户，农行RMB 5000可以开户，上次给我妹汇了200块，收了我5块的手续费！那个叫黑，建行的！）。　　　　到建行的网上银行申请开通网银业务，把身份证，账号等输了一通，结果提示证件以被使用，又是狂晕，不会是哪个把我的里面的钱消费了吧！虽然里面仅剩300块了，那也是我的血汉钱啊！　　　　接着又试了N遍，还是无用功。幸好有个注销网银业务的功能，我把账号和账号密码输入了进去，只见有一行不认识我的数字显示在上面。现在想想可能那个号码就是在开户的时候，默认给开的网上支付的账号，可是他们没有告诉我怎么使用啊！！。我把它给注销了，接着在申请网银业务的时候，就成功了。　　　　到QQ上选择充值20 RMB,一路下来，挺顺利的，结果到了网银那边，又提示我的账户没有网上支付的账号或是不支持跨地区支付...
　　浪费了一晚上的时间！汗.......

日志标题：[转]加拿大移民部决定下周五遣返赖昌星(组图)
发表时间：2006-5-19 10:31:00
日志内容：
原文:http://news.qq.com/a/20060519/001081.htm




赖昌星今天通过视频出庭接受被捕后48小时内的拘留聆讯。
点击浏览更多最新图片


　　加拿大边境服务局发言人透露，移民部已于5月16日前完成赖昌星遣返风险评估，决定下周五将其遣返。黄运荣摄
　　中新社温哥华五月十八日电(吕振亚黄运荣)记者从今天上午在此间举行的相关聆讯中获悉，加拿大移民部已完成对中国远华走私案涉赚主犯赖昌星遣返前风险评估，决定下周五(五月二十六日)将赖遣返回中国。 
　　五月十六日，赖昌星被加拿大边境服务局拘捕，并在今天出庭接受被捕后四十八小时内的拘留聆讯。聆讯在下午作出决定，赖昌星将继续在家中接受有条件的软禁。 
　　赖昌星与家人一九九九年八月十三日以旅游身份进入加国。二000年三月旅游签证到期，加拿大发出有条件离境令。同年六月，赖昌星提出难民申请，但一直被拒绝。去年八月，加拿大最高法院拒绝了他提出的准许上诉申请，令其争取最高法院展开上诉聆讯的希望落空。之后，赖昌星和家人进入移民部进行的遣返前风险评估阶段。 
　　今年三月，赖及其前妻曾明娜向加拿大联邦法院要求更换遣返风险评估机构，改由独立第三者取代联邦移民部进行。但四月中旬，位于加拿大曼尼托巴省的温尼伯格联邦法庭驳回了赖的申请。 
　　据悉，赖昌星不服加移民部作出的风险评估，已向联邦法庭提出申请延迟遣返的上诉，法庭将在下周二开庭。如最终被驳回，赖将难逃如期离境的命运。 
　　今天下午，加拿大边境服务局发言人弗格森在法庭裁决后表示，移民部已经完成对赖昌星遣返前风险评估，相关遣返旅行证件也已准备妥当。这位发言人说，如果联邦法庭驳回赖昌星延迟遣返的上诉，赖必须在下周五到机场的加拿大边境服务局报到，接受遣返。 
　　有关赖前妻曾明娜的遣返案件将另案处理，来自加移民部的消息说，本月底将会有相关裁定。(完)

日志标题：视频:用ACCESS操作SQLServer:
发表时间：2006-5-19 19:43:00
日志内容：第一次录制视频教程,希望大家支持.
为了节省大家的宝贵时间,我把图像质量调成低了,以减少大家等待时间.
全屏^看：http://my.opera.com/xlingFairy/homes/swf/aa1.swf




日志标题：蓝色怎么了?另祝周全小朋友生日快乐
发表时间：2006-5-20 9:51:00
日志内容：俺以压抑了好几天了!
Blueidea.com/bbs一直上不去,就刚才匆匆在水区发了一贴,一转出来,又上不了了!
压抑啊!有没有消息灵通人士?做个线人?
另:祝周全小朋友生日快乐
Raymond ――明天就23喽～～～&copy;1983-2006.炼狱中的撒旦又老了一岁，看来必须在内蒙度过这个值得纪念的日子了
Raymond : lemonzq@hotmail.com
大家祝他生日快乐!


日志标题：[英文]JavaScript的Function详细
发表时间：2006-5-20 14:06:00
日志内容：Function (Built-in Object)Function (戎ο)Function is the object from which JavaScript functions are derived. Functions are first-class data types in JavaScript, so they may be assigned to variables and passed to functions as you would any other piece of data. Functions are, of course, reference types.
The Function object provides both static properties like length and properties that convey useful information during the execution of the function, for example, the arguments[] array.
Constructorvar instanceName = new Function([arg1 [, arg2 [, ...]] ,] body); 
The body parameter is a string containing the text that makes up the body of the function. The optional argN’s are the names of the formal parameters the function accepts. For example:
var myAdd = new Function("x", "y", "return x + y");var sum = myAdd(17, 34);
Properties
arguments[] An implicitly filled and implicitly available (directly usable as "arguments" from within the function) array of parameters that were passed to the function. This value is null if the function is not currently executing. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)
arguments.callee Reference to the current function. This property is deprecated. (N4+, MOZ, IE5.5+)
arguments.caller Reference to the function that invoked the current function. This property is deprecated. (N3, IE4+)
arguments.length The number of arguments that were passed to the function. (IE4+ (JScript 2.0+), MOZ, N3+ (JavaScript 1.1+), ECMA Edition 1)
arity Numeric value indicating how many arguments the function expects. This property is deprecated. (N4+, MOZ)
caller Reference to the function that invoked the current function or null if called from the global context. (IE4+ (JScript 2.0+), MOZ, N3+)
constructor Reference to the constructor object that created the object. (IE4+ (JScript 2.0+), N3+ (JavaScript 1.1+), ECMA Edition 1)
length The number of arguments the function expects to be passed. (IE4+ (JScript 2.0+), N3+ (JavaScript 1.1+), ECMA Edition 1)
prototype Reference to the object’s prototype. (IE4+ (JScript 2.0+), N3+ (JavaScript 1.1+), ECMA Edition 1)
Methodsapply(thisArg [, argArray]) Invokes the function with the object referenced by thisArg as its context (so references to this in the function reference thisArg). The optional parameter argArray contains the list of parameters to pass to the function as it is invoked. (IE5.5+ (JScript 5.5+), N4.06+ (JavaScript 1.3+), MOZ, ECMA Edition 3) 
call(thisArg [, arg1 [, arg2 [, ...]]]) Invokes the function with the object referenced by thisArg as its context (so references to this in the function reference thisArg). The optional parameters argN are passed to the function as it is invoked. (IE5.5+ (JScript 5.5+), N4.06+ (JavaScript 1.3+), MOZ, ECMA Edition 3)
toString() Returns the string version of the function source. The body of built-in and browser objects will typically be represented by the value "[native code]". (IE4+ (JScript 2.0+), N3+ (JavaScript 1.1+), MOZ, ECMA Edition 1)
valueOf() Returns the string version of the function source. The body of built-in and browser objects will typically be represented by the value "[native code]". (IE4+ (JScript 2.0+), N3+ (JavaScript 1.1+), MOZ, ECMA Edition 1)
SupportSupported in IE4+ (JScript 2.0+), N3+ (JavaScript 1.1+), MOZ, ECMAScript Edition 1.
NotesGeneral examples of functions are found throughout the book, but see Chapter 5 for examples of the advanced aspects of functions and the Function object.

日志标题：J2ME&nbsp;相关词汇（小部分）
发表时间：2006-5-23 8:11:00
日志内容：

<!--
td {
 font-family: Verdana, Arial, Helvetica, sans-serif;
 font-size: 12px;
}
-->

 
　　这些词汇是我从刚买的J2ME书上摘录下来的,对它们虽然是不太了解,但是我会记住它们的.争取在最短的时间内让它们认识我.



J2SE
Java 2 Standard Edition 


J2EE
Java 2 Enterprise Edition 


J2ME
Java 2 Micro Edition 


GPS
Global Positioning System 
全球定位系统

CDMA
Code Division Multiple Access 
码分多址

SMS
Short Message Service 
短信息服务

BREW
Binary Runtime Environment for Wireless 


Symbian



Windows Mobile Smartphone 



MIDlet

按MIDP规范开发的J2ME应用程序

MIDP
Mobile Information Device Profile 
移动信息设备框架

Profile

框架/简表

CLDC
Connected Limited Device Configuration 
标准配置

CDC
Connected Device Configuration 


KVM
K virtual Machine 


SDK
Software Development Kit 
软件开发工具包

JAR
Java ARchive 


JAD
Java Application Descriptor 
应用程序描述符

GCF
General Connection Framework 


RMS
Record Management System 
记录管理系统

Sprite

精灵



冲突检查



平铺图层

日志标题：给eclipse安装插件:eclipseMe
发表时间：2006-5-24 20:01:00
日志内容：J2ME Wireless Toolkit 是没有代码编辑功能的,用Notepad又没有代码提示,不适合我这样的初学者.eclipse有一个插件,是个很好的J2ME代码编辑工具插件,下面是天极网上的eclipse安装教程：




作者:
中国电子科技集团公司第二十二研究所青岛分所郎锐

时间:
2005-04-07

出处:
天极网
　　EclipseMe插件的获取　　目前EclipseMe的最新版本为0.5.5（eclipseme.feature_0.5.5_site.zip），可以登陆SourceForge网站http://eclipseme.sourceforge.net/免费下载，EclipseMe插件的版本更新速度较快，用户可以通过该网站及时获取最新版本的EclipseMe插件。　　进入SourceForge网站后点击Downloads进入产品下载页面，该页面列有全部版本的EclipseMe插件及部分版本的源程序代码。点击需要下载的eclipseme.feature_0.5.5_site.zip，将弹出一个下载镜像列表页面，可以从中选取一个距离比较近的镜像站点进行下载，不过列表中基本都是欧美地区的站点，速度也都不是很快。下载的插件大小为4240KB。　　EclipseMe插件的安装　　对于EclipseMe 0.5.0版本及更早版本的安装，可以下载后直接将其解压到Eclipse安装目录下的plugin文件夹下即可很方便的完成对插件的安装。但是到了0.5.5版本以后，EclipseMe的安装方式发生了较大变化，再用以前的方法将不能成功安装插件。下面将给出EclipseMe这一最新版本插件的具体安装过程：　　首先进入Eclipse界面并通过其"帮助"菜单下的"软件更新"弹出的"查找并安装……"菜单项弹出如下所示的"安装/更新"对话框：




　　在选中"搜索要安装的新功能部件"后进入下一步安装界面：




　　开始在"要包括在搜索中的站点"列表中只有"Eclipse.org更新站点"一项，为了将下载的插件安装到Eclipse，点击"新建本地站点……"按钮，这将弹出一个浏览窗口，从中指定EclipseMe压缩包的当前解压路径。虽然Eclipse对此并没有作特殊说明，但根据笔者的经验，最好将EclipseMe压缩包解压到一个路径名中不包含汉字的文件夹下，如"E:\EclipsMe\"下，否则可能会在安装过程中出现一些奇怪的小插曲而妨碍安装过程的顺利的进行。在上述操作顺利执行完毕之后，将会在站点列表中出现以当前指定目录为名称的站点项目。选中该项目前面的复选框，展开该树型结构项目，可以看见其子项EclipseME也被同时选中（见上图）。这时可以进入下一步操作：




　　选中"EclipseME"前面的复选按钮，继续下一步：




　　这个界面相信不用多说，点选接受版权协议即可，进入最后一个页面：




　　在这个页面中，将指定Eclipse插件要安装到的路径，可以点击"添加站点"选择其他路径，不过最好还是安装到Eclipse的安装目录下，确定点击完成即可。之后，系统会弹出如下界面以提醒用户目前安装的软件没有经过数字签名。这主要是由于目前EclipseME插件包没有通过数字签名而已（维持该签名需要400美圆/年）因此对于这个提醒不用担心，继续点击安装按钮以完成程序的安装。




　　随后，将随着进度条的前进开始文件安装，在安装完成后将看到如下所示的对话框请求用户重新启动工作台。点击"是"按钮将自动完成重启。








　　对EclipseMe插件的配置　　为查看EclipseMe插件是否成功安装进来，可在重启Eclipse后点击"窗口"菜单下的"首选项"菜单项，将弹出如下所示配置窗口：




　　只要能在左侧窗口看到J2ME项就标明EclipseMe插件已经成功安装。为了使新安装的EclipseMe插件能够正常工作，需要对其进行配置。展开J2ME项目，选中Platform Components子项，在右侧窗体将同步显示其详细配置。在Wireless Toolkits项目上单击鼠标右键，通过弹出的Add Wireless Toolkit菜单启动如下窗口：




　　在该窗口点击"浏览"按钮，在弹出的浏览对话框中指定先前安装的Wireless Toolkit路径。如果路径指定正确且Wireless Toolkit也安装正确的话，此时EclipseMe将自动检测出该目录所安装的Wireless Toolkit的版本，并显示在编辑框的下方（对于本例，显示的版本为"J2ME Wireless Toolkit 2.1"），否则，说明此前安装的Wireless Toolkit有问题，需要重新安装。在点击完成按钮后，右侧的配置窗体中将显示该Wireless Toolkit所支持的一些特性，如下图所示。如果用户是针对某一机型的手机进行开发，可以重复上面的步骤将其他厂商的无线开发工具包如sonyErisson J2ME SDK添加其中。




　　小结　　到此为止，对EclipseME插件的配置算是大功告成了，虽然EclipseME 0.5.5的安装比早期版本要复杂一些，但用户仍可深刻体会到Eclipse最富有魅力的插件体系结构所带来的几乎无限的扩展能力。随着EclipseME的成功安装与配置，开发手机应用程序的所有前期准备工作也都准备就绪了。接下来的文章将开始对J2ME应用程序的开发进行介绍。

日志标题：Eclipse&nbsp;3.1和EclipseMe&nbsp;1.5的环境配置
发表时间：2006-5-24 20:18:00
日志内容：
Eclipse 3.1和EclipseMe 1.5的环境配置qliang | 2006-04-18, 12:16 (95 Reads) 
 安装了Eclipse、WTK2.2和EclipseMe之后,好不容易踏上了我的J2ME之旅，可是新建的工程不能调试，郁闷，在网上找了一大堆的资料，好像没有什么人遇到这样的问题，问题终于还是在EclipseMe自己的网上找到了，不过是E文的，现在将它翻译成中文，希望能给开始J2ME开发的同志们一点帮助！
 1、导入驱动定义

 为了能正常地使用EclipseMe，我们必须至少配置一种驱动定义供它使用。主要步骤如下： 1.1 选择Eclipse的Window-&gt;Preferences 菜单； 1.2 在树型功能结构中，展开J2ME节点，并选择Device Management项。如图： 

 1.3 选择Import... 按钮 1.4  在打开的界面中，选择可以查询到设备定义文件存放的根目录下（即选择WTK安装的位置） 当你离开search directory输入框或者选择界面中的Refresh按钮后，EclipseME将开始自动的在指定的目录及其子目录中查找合法的驱动。在EclipseME 1.5版本中，不再需要完整的指定驱动的正确目录路径，EclipseME将会自行的查找到你指定的目录中所有的驱动。如果你想停止查找驱动，则可以点击Cancel按钮来停止。 在查找完之后，通过复选框来选择一种驱动定义来导入。只有被选中导入在你的配置中的驱动，才能被你的工程所定义和使用。最后选择Finish按钮来完成导入的整个过程。 如果你的EclipseME没有你所期望的设备驱动定义，也许说明目前的EclipseME版本不能支持它。万一你遇到了这样的情况，你可以咨询WTK的技术支持去将其加入。 1.5 在完成驱动加载之后，你可以在驱动管理界面中看到你导入的驱动。 通过OK按钮来完成所有的定义过程。 2、改变Eclipse的调试环境设置


 由于无线开发包的一些问题和Sun的特殊性，如果你想要Eclipse环境中调试你的MIDlet程序，你必须修改Eclipse中调试的几个默认参数。步骤如下： 2.1 选择Eclipse的Window-&gt;Preferences 菜单； 2.2 在打开的界面中，展开Java节点，并选择Debug项目。 2.3 确保在对话框顶部的Suspend execution on uncaught exceptions 和Suspend execution on compilation errors 两项均没有被选中。 2.4 在对话框中底部的调试超时时间增大，最少要操作15000毫秒。 2.5 设置的结果，请参考如下界面：

日志标题：哈哈！看俺的第一个手机程序！
发表时间：2006-5-25 15:40:00
日志内容：我的第一个手机应用程序！
虽然简单了点，但是费了我好...长时间去弄它！
小有成功感！
感命常未成功，同志们（我自己）仍需努力！
进军手机游戏新领域！
那两个菜单（Exit 和 Play）还没有搞定，继续努力！



日志标题：我的第二个机程序,一只不可爱的小狗
发表时间：2006-5-25 21:57:00
日志内容：我的第二个手机程序一只不可爱的小狗.
点击 play 播放
本程序里用到的词汇:
精料动画 Sprite双缓冲画布 GameCanvas
........try{dog = new Sprite(Image.createImage("/dog.gif"));dog.setPosition(getWidth()/2,getHeight()/2);}catch(IOException e){System.err.println("File loaded failed!");}
　　所谓双缓冲,就是指在内存里开辟一区域,把绘制的过程放到这个区域,绘制完成之后,通过 flushGraphics() 把绘制的内容更新到可见屏幕内.这样做是为防止单缓冲画布(Canvas)在绘制的过程中出现的闪屏.
　　里面用到了线程,一个月前学线程的时候,没有看完那部分,现在用起来很不理解.
http://my.opera.com/xlingFairy/homes/swf/J2ME2.swf



日志标题：[转]小P孩的搞笑语录
发表时间：2006-5-26 13:14:00
日志内容：幼儿园 老师问她的学生："谁能用"肯定"一词造句？" 第一个小女孩说："天空肯定是蓝色的。" 老师说："可是天空有时是灰色或橘黄色的呀！" 第二个小男孩说："树肯定是绿色的。" 老师说："可到了秋天，树会变成褐色呀" 这时，后排的楚阳向站起来问道："老师，屁有颜色吗？" 老师惊愕道："当然没有！" "那么，我肯定我拉裤子了！" 　 算术测验 楚阳向：今天的算术测验没及格。 爸爸：为什么？ 楚阳向：老师问我2x3等于几，我说6。 爸爸：没错啊！ 楚阳向：老师又问我3x2等于几。 爸爸：这他妈有什么区别！ 楚阳向：我也是这样说的。 
童言无忌 5岁儿子：（指着妈妈红色的迷你裙）妈妈，你今天真性感！ 妈妈：小崽子，怎么这么跟妈妈说话？跟谁学的！ 10岁儿子：（冲着弟弟）我跟你说过多少遍啦，不要招惹有夫之妇！ 　 口渴 爸爸把儿子哄上床后，回到自己的卧室准备睡觉。 "爸爸！"儿子叫道。 "什么事儿？" "我口渴，给我拿杯水好吗？" "你刚才不是喝过了嘛！快睡觉，我已经关灯啦！" 5分钟后…… "爸爸！我口渴，你就不能给我拿杯水吗？" "我刚才不是说过了嘛！你再叫我揍你！" 又过了五分钟…… "爸爸！" "又怎么啦？" "你过来揍我的时候一定要带杯水！" 
理由 儿子：爸爸，今天我不想上学。 爸爸：怎么啦？ 儿子：上周农场死了只鸡，第二天中午饭就吃"红烧鸡块"，三天前农场死了头猪， 第二天中午就吃"红烧猪肉"。 爸爸：那又怎么啦？ 儿子：昨天我们的英语老师去世了。 爸爸：。。。。。。 
性早熟 父亲发现10岁的儿子过早地成熟，便决定对他进行早期性教育。不过，跟孩子谈这种事情总是很难为情的，但出于对孩子的关心，父亲还是鼓起了勇气。 "儿子，爸爸想跟你聊聊。" "什么事儿，爸爸。" "也没什么，是关于"性"的问题。"父亲满脸憋得通红，话语有些吞吞吐吐。 儿子注视着爸爸异样的面孔，关切地问道："没关系，您想知道哪方面的问题？" -_-!! 
祈祷 教堂里，一个小男孩在祈祷："上帝呀！我只有一个小小的心愿，请把首都移到纽约吧！" 一个牧师在旁边听到后，问小男孩："小朋友，你为什么祈祷要把首都移到纽约？" 小男孩答道："有一个考试题问的是首都在哪，我答的是纽约。" 
广告的效应 小男孩：我想买那个卫生巾。 服务员：是你妈妈叫你来买的吗？ 小男孩：不是。 服务员：那是你姐姐？ 小男孩：也不是，我想买。 服务员：你买卫生巾干什么？ 小男孩：我看电视上说：有了它又能游泳，又能滑冰，还能打网球 
club.chinaren.com/48216998.html

日志标题：召集顶尖黑客灭了这个垃圾网站!
发表时间：2006-5-26 17:16:00
日志内容：召集顶尖黑客灭了这个垃圾网站!
他妈的,这些人简直不是他妈生的!
我的邮箱里每个月都要收到几封这个垃圾网站发的邮件!
http://www.dajiyuan.com/
我举报过,只不过这个垃圾网站是国外的!没有撤啊!
号召有爱国感情的黑客们去灭了这些王巴蛋!

日志标题：小熊,我的第三个手机程序!
发表时间：2006-5-27 20:08:00
日志内容：小熊,我的第三个手机程序!　　精灵动画 Sprite 对动画支持的很好。　　说是动画，其实并不是传统意义上的GIF逐帧播放的动画，如下面的那排小熊，其实是一张图片。在如演示动画里的那只小熊（由于每秒只录制了10帧，所以看起来动画不连贯），响应不同键盘会有不同的动画效果，就是因为Sprite，它把这9只小熊按相同的大小等分了，每次显示9分之1，动起来，就像是动画，这样做，可以让我们随时调整个动画要怎么动。
private int[] sequence1 = {0,1,2,1};private int[] sequence2 = {3,4,5,4};private int[] sequence3 = {6,7,8,7};
　　这里有三个序列，第一个序列是模拟小熊向右走，第二个序列模拟小熊向左走，第三个序列是向下走的（不像），没有做向上走的。
　　仔细看，会发现有12个数字，而不是9个！这点是普通动画所不能比的，因为它实际上是在重播某一帧（某一个小熊）。
if(direction != direction2){if(direction == "LEFT"){bearSprite.setFrameSequence(sequence2);}else if(direction == "RIGHT"){bearSprite.setFrameSequence(sequence1);}else if(direction == "DOWN"){bearSprite.setFrameSequence(sequence3);}direction2 = direction;}else if(keyState !=0){bearSprite.nextFrame();}
　　上面的代码就是把某一个方向上的动画同相应的序列结合起来。即，向左的时候，你只能看到向左走的小熊，而不会看到向下或向右走的小熊。
　　http://my.opera.com/xlingFairy/homes/Java/bear.rar　　这是源程序，有兴趣的朋友可以下载来看看，代码在 src文件夹里。









日志标题：一个电脑白痴和黑客的对话
发表时间：2006-5-27 20:40:00
日志内容：黑客：我控制了你的电脑 小白：怎么控制的？ 黑客：用木马 小白：。。。。。。在哪里？我没看不见 黑客：打开你的任务管理器 小白：。。。。。。。任务管理器在哪？ 黑客：。。。。。你的电脑下面！！ 小白：“我的电脑”里面没有啊 黑客：算了，当我什么也没做过 黑客：我已经控制了你的电脑 小白：哦 黑客：害怕了吧？！嘿嘿 小白：来的正好，帮我杀杀毒吧，最近我的机子毛病很多耶 黑客：。。。。。。 小白：你怎么总是在我电脑里随便进进出出 黑客：你可以装防火墙 小白：装防火墙，你就不能进入了吗？ 黑客：不啊，我只是想增加点趣味性，这样控制你的电脑让我觉得很白痴耶 小白：听说你会制造“病毒”？！ 黑客：嗯 小白：你可以控制别人的电脑？！ 黑客：一般是的 小白：那你可以黑掉那些网站吗？ 黑客：当然，没听到人家叫我“黑客”吗？ 小白：。。。。哦~~~`我还以为那是因为你长得很黑。。。。。 “咣~~” 黑客：我又来了！！ 小白：你天天进来，不觉得很烦吗？ 黑客：是很烦，你的机子是我见过的最烂的一台了 小白：不是吧，这可是名牌 黑客：我是说你的机子里除了弱智游戏就只有病毒了 小白：哦~~那你看到我的“连连看”了吗，不记得装在哪，找了好久了耶 黑客：。。。。。再见 黑客：嗨~~~我来了！ 小白：好几天不见你，被我的防火墙挡住啦？ 黑客：哈哈，笑话，上你的机子比我自己的还容易，不是想我了吧 小白：我是想请你帮一个忙 黑客：什么事？ 小白：你能不能进入电力系统修改一点数据 黑客：。。。。。。你想干嘛！！ 小白：求求你，帮我把我家这个月的电费消了吧。。。。。。 黑客：去死！！ 黑客：你死哪去了？！！！ 小白：。。。。出去玩了几天啊，找我干嘛 黑客：我要找点东西 小白：在我这儿找什么东西？ 黑客：病毒，找一条前几年的老病毒，只有你的机子上病毒保存的最全啦 黑客：我来了！！ 。。。。。。 黑客：怎么不说话？ 小白：心情不好 黑客：谁欺负你了？ 小白：我的一个Q号搞丢了，里面有我的网上初恋 黑客：这个简单，我帮你拿回来 小白：拿不回来了 黑客：不可能，告诉我，多少号？ 小白：呜~~~~就是不记得了 小白：你给我出来！！！！ 黑客：怎么啦？！ 小白：你是不是用我的ID去论坛玩了？！！ 黑客：。。。。不好意思，忘了告诉你了，不过，我没干坏事，就瞎编了个贴子，我保证下次再也不玩了 小白：那不行！！！ 黑客：你还要怎么样？ 小白：你发的贴子得红脸了耶，我第一次得红脸，好开心哦，你必须再给我编一个 黑客：倒！ 黑客：嘿嘿，刚才我做了一件很有趣的事 小白：什么事 黑客：我到论坛上去顶贴了 小白：这很平常啊 黑客：我见贴就顶，尽情的骂楼主是猪，好解气 小白：哇塞，太过瘾了，我可从来不敢，会被封杀的！ 黑客：没错，已经被封杀了。 小白：这还有趣？！ 黑客：是啊，因为我用的是你的ID 小白：你是高手吗？ 黑客：可以说是吧。 小白：高到什么程度？ 黑客：嗯，我无聊的时候就自己黑自己 小白：哈，这个我也会！ 黑客：#￥%！你也可以？！ 小白：是啊，一关机它就黑了。。。。。 黑客：滚！ 
转自:club.chinaren.com/48365228.html

日志标题：我的小熊,让它更像一个手机游戏
发表时间：2006-5-28 11:27:00
日志内容：在这里,你所能看见的基本上都是PNG24格式的图片.　　PNG24的透明图片,可以达到最佳,没有白边,但是体积太大了,如果做成真正的手机游戏,可能会成为一个庞然大物.　　我要把这个Flash游戏,做成手机版！
http://www.ferryhalim.com/orisinal/g3/bear.htm



日志标题：我的小熊,游戏框架以经大致完成了!
发表时间：2006-5-29 9:50:00
日志内容：昨天上午加入了背景,桥,树等东东,看起来和一个真正的游戏没有什么区别了.　　下午又加了一个小东西,扮演一个"强捍"的敌人,游戏情节是要完全按那个FLASH游戏走的,所以,小熊只有躲的份.
　　可以加分的小东东还没有加进来,所以,分数一直是0,
　　游戏里用的图片都是我自己处理的,PNG24的格式,所以体积很大,我把它编译成JAR文件之后,居然有150K!太大了,寻求一位美工高手,帮我处理一下,作为报酬,我会在游戏里加入你的大名的!
　　希望有高手和和我联系!




日志标题：都来猜猜计算结果,保不准,你也晕了!
发表时间：2006-5-30 7:49:00
日志内容：可以想向System.out.println(i)，打印的是什么东东吗？

　　保不准,你也要答是0,1,2你也许会说,确实是0,1,2啊！

　　可是它确实显示的是 3 !


 …
 punyFoeNum = 3;
 …
 public void update() {
 int i;
…
…
…

 for(i=0;i&lt;punyFoeNum;i++){}{
 System.out.println(i);
…
…
 } 
 }
　　晕啊!我昨天就晕了很长时间,多亏了 红色黑客,告诉我,原来我多写了一对大括号!
　　汗…………………..

日志标题：一个少校老军人在街头要饭
发表时间：2006-5-30 10:12:00
日志内容：




请大家多多转载!指责这个社会的不负责任!
街边无意中发现了这个老人。起初我只以为他是老人，没想到他还是个英雄。 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 
我们让这样的老英雄有这样的困难！这是理由吗？ 
620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 　　
这是他抗美援朝所走的路线。老兵说他的战友在柳洲和南宁他要要饭到那里，找他们让他们证明他当年的情况以此来办理离休手续。 
老兵引起了很多人停留。 
620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 
　　老人的战争经历， 路人路过的时候很多人问他当年打仗的情况，老兵依旧说的绘声绘色。我问他身上有伤吗？他随即给我看了他的手，说：“这是细菌战蚂蜂咬的，左手上的已经手术过了，右手的还留着，首长说将来到联合国这是证据。”是啊，这个当年少校要是不说谁会留意美国也曾使用过细菌武器呢？ 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 
当年战功赫赫，现在却是一脸无奈。。。。。。。 
620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 　
　　原作者的话: 这是今天上午的事情，我也是用借来的相机，而且，第一次发帖子，费了不少劲，晚饭也没吃呢，没别的想法，只是希望哪位有良知的记者，能够如实报道这件事，因为我曾给报社打电话，但他们说需要调查！（鬼才信呢）就是不敢发罢了。中国煤体的透明度，公开度，太低了，连最起码的实话实说恐怕都很难做到，我相信只有私人控股的媒体恐怕才有胆量说真话。可惜这里没有。只能再等十几、二十几年了。 　　而现在我只能相信和寄希望于网络了！ 　　
　　我的最终而且最重要的目的是我希望这个老人能够得到帮助，不管他的目的是什么，不管他以前做过什么，我只是觉着从战争中能活着走过来的人今天能这样的在世人面前行乞，对于那些地下的先烈是一种亵渎。 对于活着的老兵是让他们遗憾和愤恨，遗憾没有同那些战友一同死去！ 　　
　　对于后人，我们更以何面目去述说呢？ 　　看看苏联看看法国、英国、美国等等，看看他们怎样对待他们的老兵，朋友们，帮帮我，帮帮这个老兵好吗？ 　　
　　下次如果你遇到他，多捐点钱吧！ 
620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 620)this.style.width=620" vspace=5 border=0 orig_onmouseout="null" orig_onmouseover="null"> 

本文地址： http://bbs.qq.com/cgi-bin/bbs/show/content?club=3&amp;groupid=10717&amp;messageid=36635

日志标题：我的小熊,开始用真实手机测试了!
发表时间：2006-5-31 10:43:00
日志内容：有兴趣的话,可以把下面这个文件下载,解压,把里面的三个文件上传到你的WAP空间,或QQ硬盘里.如果是上传到你的QQ硬盘的话,你可以用手机登陆3g.qq.com,然后在里登陆你的QQ,在移动硬盘里,就会看到这些文件,下载那个JAR文件,它就自动安装到你的手机上了!
　　文件不大,102K
　　绝对没有病毒!但不能保证别人把病毒加进去,如果下载的话,最好杀下毒!
　　http://my.opera.com/xlingFairy/homes/Java/1bear.rar
　　目前还有些逻辑上的BUG没有排除,但是不影响你试玩.
　　如果对这个游戏(其实还算不上一个真正的游戏,还在完善中)很感兴趣,可以联系我,如果诚心的话,我可以发源码给你.
　　不得本人同意,严禁该该程序用于商业用途.

日志标题：视频:J2ME代码编辑器EclipseMe的安装及配置过程
发表时间：2006-5-31 20:09:00
日志内容：在我的鼓动下,很多朋友都在考虑以后的发展方向,哈哈!
手机游戏,一个很前景的行业!
我也是刚开始学,做了一个其实并算不上是游戏的游戏.
好的想法,要付以实际行动.
首先,你需要安装:J2ME Wireless Toolkit ,这个可以到sun公司的网站上下载.
代码编辑我选择了eclipse,这个好用,开源.但是纯eclipse是不能完成J2ME程序开发的,这就需要eclipseMe了,也是免费的.大家可以自己去找找.
这个视频就是围着如何安装和配置eclipseMe而录制的.
SWF格式,2.57M,请耐心等待.
http://my.opera.com/xlingFairy/homes/swf/aaa.html
谢谢观看.

日志标题：女友给我发的文章,大家也来看看
发表时间：2006-6-1 8:50:00
日志内容：1：女人洞房那天（男同胞要学学了） 
　　女人入洞房那天，早早收起了自己的鞋，等男人脱鞋上炕，女人却双脚踩在男人的鞋上。男人见了，"嘿嘿"笑着说，还挺迷信。女人却认真地说，俺娘说了，踩了男人的鞋，一辈子不受男人的气。男人说，俺娘也说了，女人踩了男人的鞋，那是一辈子要跟男人吃苦受罪的。 　　女人开始试探着管男人，先从生活小事儿开始，支使男人拿尿盆倒尿罐，男人全干了。地里的庄稼女人说种啥，男人就种啥。左邻右舍女人说跟谁走近点跟谁走远点，男人全听女人的。男人正跟人闲侃，女人一声喊，男人像被牵了鼻子的牛，乖乖就回去了。男人正跟人喝酒，女人上前只扯一下耳朵，就被拽进家。有人激男人，这女人三天不打，她就上房揭瓦。你也算个男人，怎能让女人管得没有一点男人的气概？若是我的女人，非扇她两鞋底不可。男人不急不慌地说：把你的女人叫来，我也舍得扇她两鞋底子。那人急了，你懂个好赖话不？上辈子老和尚托生的没见过女人！真不像你爹的种，怕老婆！　　　 　　村里人再有大事商量，男人一出场，人们就说，这商量大事你也做不了主，还是把你家女人请来吧。男人还真把女人叫来了。　　 　　女人能管住男人觉着很得意，直到有一天女人在男人耳边说起了婆婆的不是。男人红了眼，一声吼，想知道我为啥不打你吗？就因为我老娘。我娘一辈子不容易，我爹脾性暴躁，稍有不顺心，张口就骂举手就打，我爹打断过胳膊粗的棍子，打散过椅子。我娘为了我们几个孩子，竟熬了一辈子。每次见娘挨打，我都发誓，我娶了女人决不捅他一指头。不是我怕你，是我忘不了我老娘说的话，她说女人是被男人疼的，不是被男人打的。　　　　 　　女人惊呆了，她没想到男人的胸怀竟这样宽广。　　　　 　　男人在外再同人神吹海喝，女人不喊也不再拽耳朵，有时会端碗水递给男人。有人问男人，咋调教的？男人却一本正经地说：打出来的女人嘴服，疼出来的女人心服。 　　看完了,你从中领悟到了那个朴实的道理了吗? 　　祝天下所有的母亲 和被爱着的女人...幸福. 快乐 
2：男人、该怎样呵护你所爱的女人（未婚男士学着点） 
　喜欢上了男人，对他很好，是很好的那种。她给他洗衣服，收拾房间，早晨买早点给他，小鸟依人的靠在男人身边。男人觉得有人这样无微不至的照顾是件很惬意的事情，于是他们顺理成章地在一起。男人习惯有女孩在身边的日子，可后来，女孩就离开了，在男在睡梦中的时候。 　 　　男人讲完之后一脸茫然的问我，你说，我哪里做错了？我给她钱买化妆品，有人欺负她，我把那人揍了个半死，我这么爱她，她为什么就走了呢？我安静的听完，没办法给这个疑惑的男人一个满意的答案。我们从咖啡店走出来，过马路时男人瞅一个空挡便快步跑到对面向车流这边的我招手说快啊。我有些无奈的笑了。 　 　　我问男人是不是不愿意牵女孩的手，他说在家抱抱可以，在外面多不好意思啊。我说他过马路时一定比女孩快，他点头说你怎么知道。我说女孩在刷碗扫地的时候，他一定是悠闲的看着电视。男人摸着头说自己似乎明白了。我说，如果明白了就去挽回吧。希望男人是真的明白了。 　 　　其实很多女人外表很坚强，内心却还是柔弱，需要男人呵护的。她不在乎你给了她多少钱，却会永远记得你调皮的从路边花坛偷回的那朵放到她手中的月季花。她在厨房忙碌的时候，你从身后送来的一个吻会让她觉得幸福甜蜜。你们过马路时候，站在左边的你紧紧握住她的手，不论是什么年纪，都会让她觉得安全。 　 　　世界上女人很多，美丽的，温柔的，聪明的，可爱的……可无论什么类型的女人，期待幸福的心情都是一样的。所以她们等待着一个男人的出现，等着这个男人对她们好。 　 　　其实女人期待的对自己好，是件很简单的事情。 　 　　她只希望自己的男人不要因为忙碌而忘记她的生日。想听他在耳边轻声说句，快乐吧，我的宝贝。这时玫瑰也可以省略。她只希望做家务累的时候，他轻轻抚摩自己的额头说声，宝贝，喝了牛奶再睡吧。即使对于家务，男人一窍不通。她只希望害怕或者孤单的时候，男人在身边搂着她的肩膀坚定的对她说，别怕，有我。 　 　　是的，有的时候，爱意是在不经意间流露的。可能男人你自己没感觉，可是女人却一字一句的记在了心底。她们会用更多的爱恋回报你。 　 　　尝试着在出门之前吻一下你的女人。常常温存的告诉她，你有多么的爱她。休息的时候抢过她手里要洗的衣物。天气好的时候带她到公园散步。睡觉前给她讲讲公司里，回家路上看到的有趣的事情。偶尔耐心倾听女人讲的事情，即使你对白菜5角或是4角一斤不感兴趣。在她穿了新裙子的时候，认真的看2分钟，然后诚心夸奖一下她。如果裙子大了，就说你又苗条了，如果裙子小了，就说如果大一点会更漂亮。逛街的时候可以拉着女人的手或者揽着她的肩膀，因为这样，她会觉得幸福。 　 　　女人都希望在平凡中被呵护，被爱着。你温存的点点滴滴一定能让她闻到幸福的芳香。其实女人要的幸福很简单。你要耐心的对你的女人好，不需要如火山火热，也不需要如海浪汹涌，细水长流就足够让她幸福一辈子。 　 　　一个黄昏，我接到那个男人的电话。他很兴奋的告诉我，说女孩又回到了他身边。我问他是怎么做的，他说费了很大力气才约到女孩散步，还专挑路口走。过马路时候站在女孩左边，紧紧握住她的手。我笑了，说你现在再明白了吧。男人嘿嘿的说，明白了，明白了，她跟着我，是需要我疼的。 　　 　　是啊，当上帝用亚当的肋骨造了一个夏娃时，就预示着男人该认真照顾身边那个是自己身上肋骨变的女子，好好爱她吧，否则你自己的胸口也是会疼痛的。 　　跟着你，就是要你疼的...... ！！！

日志标题：闷骚型的老男人
发表时间：2006-6-2 9:11:00
日志内容：我爱上厕所,不是因为身体上的原因,而是不愿折磨自己.有垃圾赶紧释放,有利于身体健康!
　　次数多了,发现一个现象:　　一个老男人,差不多四十左右吧,老是对着洗手间那快大镜子抽烟,为了不伤他的自卑心,我尽量不看他的表情.　　洗手间外面有个到车间的天桥,如果在那吸烟,空气也好,风景也好,也不会有太多人　看,是个吸烟的好去处,大部分烟民都会选择在那里抽烟.　　我就不明白,他为什么喜欢对着洗手间的那快镜子抽烟!虽然说是洗手间,但多多少少也有些尿骚,屎自臭之类的异味啊!可能是萝卜白菜各有所爱吧!可这个爱好也太那个了吧!
　　切不说这个,从他的衣着上来看,整日是白衣白裤白袜,有时还有一双白色运动鞋,头发理的顺顺的,看起来像个小伙子一样的打扮.　　都有家有室的人了,这个打扮给谁看呢?
　　我认为这是典型的闷骚!
　　自检一下,看看你自己是不是这种类型的男人噢!　　哈哈,个人观点.

日志标题：Oracle Form 如何新建一个基于Procedure的 DataBlock
发表时间：2006-6-2 10:55:00
日志内容：学习备忘录,
http://my.opera.com/xlingFairy/homes/oracle/DATA_BLOCKFROM_QUEWRY.html

日志标题：计划弄个手机版的泡泡堂出来!
发表时间：2006-6-2 16:38:00
日志内容：准备把这个泡泡堂游戏做成手机版:
http://my.opera.com/xlingFairy/homes/swf/popotang.swf
虽然最后不能确定能完成,但是还是要试着写下去.
要写这个东东,就我现有的水平来说,很验难,难啊!难也要尝试着写下去!



只要努力,没有办不到的事情!

日志标题：同志们,是时候反省了!
发表时间：2006-6-6 12:22:00
日志内容：同志们,是时候反省了!
　　很不幸,我也被卷进那两个贴子中.
　　有人骂我,我可没有那么傻,让你们骂.　　问一句,你有资格骂我吗?
　　一,我不跟你们学技术,　　二,我不和你们共事,　　三,我不认识你们.　　四,你没有资格让我服你.我只服那些让我信服的人.
　　某些高手(注:是某些,可能是高手),你们有扪心自问过吗?　　那些初学者用QQ或MSN向你提问,你有用平等的眼光去对待吗?具我的亲身体验,好多高手都是爱理不理的!有时说话还很难听.就因为你会?你是高手?有什么了不起,不就是多学两年吗!称你是高手,是抬举你,别真以为自己就是高手了!
　　还有一些同志,千万不要在把自己当菜鸟了,不要老是不停的提问,那样会助长那些所谓高手的气焰.能自己解决的,就不是拿出来,稍难一点的,用BaiDu,查书.真不行在问,但是不要低声下气,要直起腰来!
　　我甚至还算不上是 菜鸟,顶多也就是 鸟菜 罢了.　　请同志们认真思考思考,你的脖子能承受那么大,那么多的帽子吗?
　　还有,是针对经典认坛的头像制度的:　　能通过自己的努力得到一个个性头像,是每个会员都心仪的事.　　但是,请不要盲目的去崇拜那些有头像的人,说不定比你还笨蛋!
　　做人要有礼貌,不要出口就是脏话,特别是那些有头像的人,有损你们的光辉形象!
　　就写这些,同志可以发表自己的观点,但是请慎用 脏字,不要让我看不起你,不要给你的形象上抹上污点!

日志标题：伪列:ROWNUM
发表时间：2006-6-6 15:04:00
日志内容：伪列:ROWNUM
由于rownum是一个总是从1开始的伪列,所以,不能用：&gt;,&gt;=,=,between...and。如:SELECT * FROM TABNAME WHERE ROWNUM&gt;2 AND ROWNUM&lt;10是选不出任何记录的.
在如:SELECT * FROM TABNAME WHERE ROWNUM !=10只能选出前9条记录.
如果想选出前十条,可以如下:SELECT * FROM TABNAME WHERE ROWNUM&lt;=10
如果想选出 5 至 10 条,可以如下:SELECT * FROM TABNAME WHERE ROWNUM&lt;=10MINUSSELECT * FROM TABNAME WHERE ROWNUM&lt;=5也可用子查询
如果想排序的话,要遵守下面的原则:要先排序再选则须用select嵌套：内层排序外层选(子查询)。 
还要注意一点:ROWNUM是连续的,不能断开.如:SELECT * FROM ASP_FA_MAST WHERE ROWNUM IN (4,2,1)就只能选出前两条,而不会选出第4条.

日志标题：tile,TiledLayer,LayerManager
发表时间：2006-6-7 17:16:00
日志内容：图层是游戏中的一个图形化的部分,精灵是一种特定类型的图层.它使用图像或动画图像的序列来作为可视化的表示.
　　平铺图层不是每次显示一个单个的图像,而是显示多个依次排列的图像,平铺图层要求所有的贴砖大小必须相同.
　　标准的Sprite类支持对平铺图层进行冲突检测.
　　贴砖索引总是从 1 开始,索引 0 是一个特殊的贴砖索引,表示贴砖空缺,即透明的.
　　LayerManager类提供了一种简单,有效的方式来绘制,布置和管理多个图层上的视图.
　　LayerManager类能够计算图层的一个剪辑区域,并根据此绘制在图层管理器视图窗口中可见部分.
　　append(),insert(),remove(),getSize(),getLayerAt(),paint(),setViewWindow()
　　每个添加到图层管理器的图层都分配一个唯一的图层索引.索引 0 最接近屏幕.
　　图层索引,贴砖索引
　　贴砖 -&gt; 图层 -&gt; 图层管理器
　　在一个贴砖地图中,把动画的贴砖用一个特定的负值标出来,这些值代表一个特定的动画贴砖,这些值可以设置给贴砖组中的任何贴砖.
　　可以为平铺图层地图中的部分贴砖分配一个负值,在update()方法中不断轮换所有的索引为负的动画贴砖.
　　静态贴砖的贴砖索引大于 1　　0 是透明的.　　小于 0 的是动画贴砖.　　必须从一个效的静态贴砖开始,为地图创建的第一个动画贴砖自动是 -1 ,依次递减.
waterLayer.createAnimatedTile(1)//为静态的,索引为1的贴砖创建一个动态贴砖,第一次调用返回的是-1..waterLayer.setAnimatedTile(-1,2)//把所有的索引值为-1的动画贴砖都从静态贴砖变为静态贴砖 2

日志标题：暴强的艳遇
发表时间：2006-6-8 9:21:00
日志内容：两个文件将近3M,请耐心等待.如果无法观看,请点击下面的链接,在新窗口里观看.


http://my.opera.com/xlingFairy/homes/swf/yanyu1.swf



http://my.opera.com/xlingFairy/homes/swf/yanyu2.swf

日志标题：备份:好看的桌面主题
发表时间：2006-6-8 9:39:00
日志内容：
下载地址:http://my.opera.com/xlingFairy/homes/desktop/royale/royale-good.rar
效果预览：



日志标题：[转]坚决不招应届毕业生
发表时间：2006-6-8 11:17:00
日志内容：虽然我以毕业两年多了,但是看到这篇文章,深有感触.我妹还没有正式毕业,准备传给她看.
我怕了 坚决不招应届毕业生---私营老总自述　　很多大学毕业生找不到工作，觉得社会骗了他，书本骗了他，每天怨天怨地的。 但在我看来，这样的大学生被社会抛弃是有原因的，而且我的公司坚决不用应届毕业生的，为什么呢？因为我怕了。 大事做不来，小事办不好 。
　　我公司招聘过许多大学生，这其中的经历和公司所受的苦只有自己才知道。实话实说，你这帮才毕业的小孩懂什么？一踏进社会开价就要三千五千的。请你想想你会做什么，制作个表格都不成，上网打游戏倒是高手。 
　　有一次，我让一个大学生去买箱复印纸，结果给我搬回来是25块钱一包的，好像还很有功劳似的，说，今天搬得幸苦，累得要命，想早点回家去了。没等我同意，他下午找个理由就溜了。 
　　我是一肚子气，买个复印纸用得着你去搬吗？人家会送上门来的，而且只要16块一包，还给我称功劳，溜了，而我还要付你一天一百元的工资。我想买纸这种事绝对不用我教吧，他自己完全可以向公司里的其他人打听价格是多少，哪里有卖，然后打开报纸和黄页，打个电话问问同样质量有没有更便宜的，最后叫别人送来不就得了吗？ 
　　当然我知道他也是想做好事，但一个自以为是的人，认为自己一个堂堂大学生竟然要去办这点小事，那一定是老板看不起他，同时认为自己能力一流，不屑于问别人，结果，纸张买得贵，而且把人也累坏了，的士费也报销了，人也溜了。好吧，你想玩就玩，想溜回家就溜回家吧(溜回家是这帮人最喜欢的)，我在一边冷眼看着呢，两三个月后还不能改正这些习惯，你就彻底回家去吧。 

　　素质比不上中专生和大专生 
　　说起开除，我已经很有经验了，对这帮大学生，我是一开除就当场请他清理办公桌。为什么要这样绝情呢？因为我怕了，我以前开除员工都要提前一段时间告诉他们：“最近公司人员比较紧，你如果有好工作就自己找吧，我这里再呆一两个月是没问题的。”结果呢，他们不是找工作，而是四处煽动人，到处骂娘，然后再把公司的信息全告诉客户，告诉他们我公司有多少利润等等。 
　　所以，我最后决定了，如果一个人能力实在不行，我情愿多给他一个月工资，会议上一宣布开除，立即给钱，立即清点东西，立即走人。 
　　受了几次教训后，我也就不再招大学刚毕业的人了，不敬业，素质很差，完全比不上中专生和大专生，为什么？因为中专生觉得有个工作很不易，他们会尽心尽力地工作。 
　　找到好工作就溜 
　　大学生心理不稳定，什么都不懂，但是对于找工作到是很热情的，当然我从不反对他们寻找更好的工作，只是比如有几次，一个大学生刚来两个星期，上了几天班，人就不见了。后来才知道，原来他们是找到别的工作走了。你要走就走吧，我还不是客客气气地请你吃一顿饭，然后祝贺你一下，该给的工资给你。但不通告一声就走人，搞得我四处联络他家人和朋友，因为我招人时都是打过他家电话的，告诉他家人，这孩子在我公司工作，人不见了我怎么交待？不过后来我明白了，不见就不见吧，十成是到别的公司去了，我也习惯了。
　　许多大学生到我公司来工作，刚开始，我是非常看好他们的，尽心尽力地教他们怎么处人为世，让他们看老三篇(《围炉夜话》、《菜根谭》、《曾国藩家书》等等)，把实际例子和上面说的话结合起来告诉他们，可惜他们好象觉得社会是他们的，我给他们3000元工资还不够，动辄就说某个人现在有百万年薪。 
　　往往是二三个月后，我想让他们担任某个重要岗位的职位锻炼一下时，他们就跑来对我说，干这个岗位可以，但是现在他们要交女朋友、要买房、要买手提电脑、要穿名牌西装……我听得不耐烦了，就问：“你是不是要求加工资？”这时他才很不好意思地说，不是他想加，是社会逼得他想加，最后还对我说：“公司利润这么好，能不能加到8000一个月？不行，6000也可以，如果工作能力行的 话，希望3个月后加到8000。”我一听晕了：你什么都不懂，这两三个月我白白在养你，到现在，想培养你一下，你却给我来这一套。你懂什么？制作表格，你比不上中专生文员；谈判，你不给我砸客户就是谢天谢地了；操作，你把操作成本抬得太高，客户一样会失去很多；人际交往，你不如街上的大妈。 
　　最后的处理结果是，让他到最基层去锻炼，既不给他升职，也不和他聊工资，让他自动辞职，如果到下面还乱叫立即开除。 
编后语： 
　　在当前就业形势普遍紧张的情况下，编这组文章的目的不是为了打击我们的大学生，而且我也认为《中国大学生缺乏三大能力》一文的出发点不错，但是言辞太激烈，观点太偏激。而我最后还是把这组文章编发出来，不过是为了敲打一下那些还在校园充电或者正准备就业的大学生，希望你们优秀些，更优秀一些，以免将来面临“毕业即失业”的可怕局面。 
转自:
http://ywidea.com/article.asp?id=127

日志标题：J2ME如何实现地图
发表时间：2006-6-9 11:11:00
日志内容：在Act游戏中的地图是根据主角的移动而反方向移动的，其实主角始终都处于当前的屏幕内，只是作为背景的地图反方向的作了移动，从视觉上来看主角向前移动了。
　　一般都将组成地图背景的各个小方块图片的索引放在一个二维数组中，如果数据过大可以考虑将地图索引数据保存在文件中，游戏初始化的时候再读入地图数据。地图数据文件以后缀名为.map存储。
　　具体的方法如下：　　注：本文的例子是在NOKIA的平台下面的代码，所以屏幕的大小为128*128，整张地图是由16*37个小方格组成
//导入地图数据 public void levelMapGenerate() { int x, y; byte data[]=new byte[16]; try { DataInputStream dis = new DataInputStream(getClass().getResourceAsStream("/maps/gamemap.map"));  //dis.read(data); x = 16; y = 37; System.gc(); this.mapArray = null; this.mapArray = new byte[y][x]; for (int i = 0; i &lt; y; i++) { dis.read(); //  dis.read();//读取换行符 dis.read(data1); for (int j = 0; j &lt; x; j++) { this.mapArray[i][j] = (byte) (data[j] - 48);//将ASCII码值转换位数据的实际值 System.out.print("mapArray["+i); System.out.print("]["+j); System.out.println("]=="+mapArray[i][j]); } } } catch (Exception ex) { ex.printStackTrace(); } System.gc(); }　　地图数据是以字符串方式直接存到了.map文件中，没有进行任何编码的处理。可以直接用文本编辑工具打开进行修改。这里有两点需要注意，第一，读入的数据是ASCII码值，所以读进来以后需要进行编码的转换，即减去48。第二，地图数据是按行列进行排列的，在每一行的末尾都有换行符，所以在读取数据的时候也将每行的换行符读了进来。这也是为什么有两个read（）的原因。
　　另外还有另外一种方式举行存储地图数据，就是将地图数据转换为二进制文件，然后读取这个二进制文件，这样做的好处在于可以减小地图数据的大小，同时也在一定程度上对数据进行了加密。具体的实现方法见其他例子。当然地图数据也可以直接在代码中写出，不需要从文件中读取。　　回到主提，将读入的数据放在二维数组mapArray后，就是如何处理主角的移动了。　　在定义Map这个类的时候，定义两个成员变量x,y分别表示当前的屏幕在整张地图中的坐标（左上角） static Image[] mapImage = new Image[6]; //组成地图的小方格图片 static byte[][] mapArray; //地图数组 static int x, y, startX, startY; //x,y是当前屏幕的坐标  public void Map(){  x = 0; y = 0; startX = x; startY = y; try { for (int i = 0; i &lt; mapImage.length; i++) { mapImage[i] = Image.createImage("/images/" + "mapt" + i + ".png"); } } catch (Exception ex) { ex.printStackTrace(); } levelMapGenerate();  } 　　在进行画图的时候需要判断当前屏幕坐标在这个地图中的位置，即处于二位数组的位置。　　以下是Map类的paint函数：public void paint(Graphics g) { int starti, startj; starti = (x - startX) / 32; startj = (y - startY) / 16; for (int i = starti; i &lt; starti + 5 &amp;&amp; i &lt; this.mapArray.length; i++) { for (int j = startj; j &lt; startj + 9 &amp;&amp; j &lt; this.mapArray[0].length; j++) { g.drawImage(mapImage[this.mapArray[i][j] % 6], i * 32-x, j * 16-y, Graphics.LEFT | Graphics.TOP); } } } 　　每次只画出128*128大小的屏幕，即4*8个32*16大小的方格。　　整个Map类的设计就写好了，下面就是如何去响应主角的移动了，这个例子中主角是可以四个方向移动的。 public void MoveX(int dx) { if (dx != 0) { if ( (map.x + dx &lt;= 37*32-128 ) &amp;&amp; (map.x + dx &gt;=0)) { ChangeMapXY(dx, 0); } } }
 public void MoveY(int dy) { if (dy != 0) { if ( (map.y + dy &lt; 128) &amp;&amp; (map.y + dy &gt;= 0)) { ChangeMapXY(0, dy); } } } 　　主要的难点是在边界时进行越界的判断，根据情况的不同，条件也会不同。然后再Keypress()和KeyReleased()里面根据实际的情况改变dx,dy的值就可以实现主角在地图中的移动问题了。
转自:
http://community.csdn.net/Expert/topic/4696/4696389.xml?temp=.2156641

日志标题：中华人民共和国法定硬币欣赏
发表时间：2006-6-9 20:19:00
日志内容：如果看不到,请点击下面的链接,在新窗口里查看.
http://my.opera.com/xlingFairy/homes/swf/money.swf



日志标题：身证验号码核对的小程序
发表时间：2006-6-11 16:57:00
日志内容：由于需要,做了一个身份号核对的小程序.主要是用了一个ACCESS数据库.在网上查了一下,有一个网站提供这身份证号码查询服务,不过,这种没有技术的查询居然要 5 RMB一次!靠,比抢劫来的还快!
点击下载
　　啵（Q）：7 9 10 5 8 4 2 1 6 3 7 9 10 5 8 4 2，共17底郑序不能e。
　　Ca（Y）：1 0 X 9 8 7 6 5 4 3 2　共11位底郑序不能e。

　　比如我的身份C（S）：413022198307145014
　　
　　TOTAL = S(1)*Q(1)+S(2)*Q(2) + S(3)*Q(3) + ... +S(17)*Q(17) INDEX = TOTAL MOD 11

　　身份C的Ca就是（第18位底郑：Y (INDEX)
一，关于 本软件用于核对 中华人民共和国居身份证号码是否属实。
可自由使用于商业，非商业用途。 
一切由软件使用者产生的法律问题，与本软件无关。
请保留本软件版权信息。

二，软件功能1，可以通过输入的身份证号码，快速检索出：居民身份证所在省，市 ，县信息。
2, 可以判断该身份证号码持有人性别。
3，可跟据15位身份证号码得出18位的相对应的身份证号码。
4，可快速判断18位居民身份证号码是否属实。

三，如何使用

如图：在 1 处，输入身份证号码。2处显示该身份证所在省份代码，3处显示相对省份名称。4处显示该身份证所在市的代码，5处显示相对市的名称。6处显示身份证所在县的代码，7处显示相对的县的名称。8处显示身份证持有人性别。
另:本人技术,精力有限.为了支援简繁种操作系统,特设定了 10 和 11 两处单选按钮.如果你是简体操作系统,请点选 Simplified (10处).如果你是繁体操作系统,请点选 Traditional (11处). 
如果身份证为18位，将在9处显示正确的身份证号码，用以核对身份证号码的真伪，一般只用核对最后一位。
四，如何从15位升到18位1,在1处输入15位的身份证号码。2,并在第6个数字后输入19.3,在最后一位数字后随便输入一个数字。4，在9处显示的即为从15位升为18位后的号码。

日志标题：COL能很好的控制表格的列
发表时间：2006-6-11 20:51:00
日志内容：由于没有用循环,所以,速度要相对快些.但是IE下,明显示不如FF下好用. 

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.color1 {background-color: #CCFF99;}td {border-top-width: 1px;border-right-width: 1px;border-top-style: solid;border-right-style: solid;border-top-color: #CCFF33;border-right-color: #CCFF33;}table {border-bottom-style: solid;border-left-style: solid;border-bottom-color: #CCFF33;border-left-color: #CCFF33;border-bottom-width: 1px;border-left-width: 1px;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;table width="300" cellpadding="0" cellspacing="0" id="tab1"&gt;&lt;colgroup&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;col /&gt;&lt;/colgroup&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;var $ = function(pId){return document.getElementById(pId);}
var oCols =document.getElementsByTagName("COL");
var oTab = $("tab1");oTab.onmouseover = function(evt){evt = evt || window.event;var o = evt.target || evt.srcElement;if(o.tagName == "TD"){oCols[o.cellIndex].className = "color1";o.parentNode.className = "color1";}}oTab.onmouseout = function(evt){evt = evt || window.event;var o = evt.target || evt.srcElement;if(o.tagName == "TD"){oCols[o.cellIndex].className = "";o.parentNode.className = "";}} &lt;/script&gt;

日志标题：JS用&nbsp;或&nbsp;||&nbsp;来兼容FireFox!
发表时间：2006-6-12 15:07:00
日志内容：JS用 或 || 来兼容FireFox!
论坛讨论贴:
http://www.blueidea.com/bbs/NewsDetail.asp?lp=1&amp;id=2613330
先看例子:[html]

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;li&gt;&lt;a href="http://www.blueidea.com/articleimg/bbsimg/smile.gif"/&gt;&lt;/a&gt;&lt;a href="图片地址"&gt;打开&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.blueidea.com/articleimg/bbsimg/biggrin.gif"/&gt;&lt;/a&gt;&lt;a href="图片地址"&gt;打开&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.blueidea.com/articleimg/bbsimg/confused.gif"/&gt;&lt;/a&gt;&lt;a href="图片地址"&gt;打开&lt;/a&gt;&lt;/li&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;document.body.onclick = function(evt){evt = evt || window.event;var o = evt.target || evt.srcElement;window.open(o.previousSibling.href || o.previousSibling.previousSibling.href);return false;}&lt;/script&gt;
[/html]
找到 document.body.onclick = function(evt),在IE下,这个evt是不会有的,但是在fireFox下(opera下好像也是)会默认传这个参数.在IE下,这个参数是 null ,想兼容,就这样写.
继续向下,evt = evt || window.event;在IE下,evt 就会指向:window.event,在fireFox下,就会指向那个默认参数.因为在IE下 evt || window.event 相当于: null || window.event,结果还是window.event而在fireFox下,就相当于 evt || null ,结果就是evt
相下看:o.previousSibling.href || o.previousSibling.previousSibling.href前面一个表达式用于IE下,后面一个用于FireFox下.因为在IE下,XMLDom没有preserveWhiteSpace这个属性,即:把空白也当作一个节点,而IE则默认为false,即把空白不看成一个节点.
这里说到了XMLDom,似乎和上面所说的不相关,但是在FireFox下 previousSibling就是空白,除非两个HTML标签之间没有任何形式的空格.
&lt;a href="http://www.blueidea.com/articleimg/bbsimg/smile.gif"/&gt;&lt;/a&gt;&lt;a href="图片地址"&gt;打开&lt;/a&gt;两个&lt;a&gt;之间有换行(属于空格的一种),所以在FireFox下,取下面一个&lt;a&gt;的前一个节点的话,就必须用:o.previousSibling.previousSibling.href
可能你还是没有看明白,没关系,在举个简单的:[html]

&lt;script&gt;function test(p1,p2,p3){p1 = p1 || 100;p2 = p2 || "xlingFairy";
return "p1 = " + p1 + " p2 = " + p2 + " p3 = " + p3;}
alert(test());alert(test(null,null,"blueidea.com"))&lt;/script&gt;
[/html]
好,点道为止,就讲这些!

日志标题：TiledLayer总结
发表时间：2006-6-14 9:33:00
日志内容：TiledLayer到我这里,居然了老大难的问题,直到现在,我才明白!
TiledLayer总结
1,TiledLayer的方法createAnimatedTile()必须放在setCell()方法之前执行.2,createAnimatedTile(n)方法的参数是贴砖的索引.3,createAnimatedTile(n)方法返回的是一个负整数,一定是先有-1,然后才有-2,依次递减的.4,在地图数组里,如果没有-1,而有-2,那么一定会报错,因为动画贴砖的索引一定是从-1开始.5,在aniIndex = TiledLayer.createAnimatedTile(n) 的时候,地图数组中的值为aniIndex的贴砖就以经替换为贴砖 n 了.6,当然,还可以用setAnimatedTile(aniIndex,n)来替换成其它的贴砖.7,backGroundLayer.setCell(column,row,map0[row][column]);注意:是column,row而不是row,column

这里有一些关于TiledLayer的教程(PDF)下载:http://my.opera.com/xlingFairy/homes/Java/TiledLayer.rar

日志标题：暴强的签名!
发表时间：2006-6-15 10:34:00
日志内容：大学从我身上下来，拉了拉裤带，对我说"你走，青春留下！"这时我才发现，原来不是我上了大学，而是大学上了我
"转告王子，老娘还在披荆斩棘路上，还有雪山未翻，大河未过，巨龙未杀，帅哥未泡……叫他继续睡死没关系！"
本人已死,如遇上线,纯属见鬼~鸡长大了，就变成鹅，鹅长大了，就变成羊，羊长大了，就变成牛，牛以后啊，我考研就成功了
我在春天种下一个女朋友，秋天，我收获了一堆老婆。
骑白马的不一定是王子，他可能是唐僧；带翅膀的也不一定是天使，妈妈说，那是鸟人
客官请你自重~本姑娘卖身不卖艺~
穿别人的鞋，走自己的路，让他们找去吧
打台湾我捐一个月的生活费，打美国我捐一年的生活费， 打日本 我捐他妈的一条命!
我不是随便的人。我随便起来不是人
女人无所谓正派，正派是因为受到的引诱不够；男人无所谓忠诚，忠诚是因为背叛的筹码太低……
我以为隐身别人就找不到我，没有用的，象我这么拉风的女人，无论在哪里，都象黑夜中的萤火虫一样耀眼．
不要以为把JJ插入泥土你就强 J了地球
台湾一日不收复，老子一日不过四级
一大学生 最低奋斗目标：农妇，山泉，有点田水至清则无鱼,人至贱则无敌!
再过几十年，我们来相会，送到火葬场，全部烧成灰，你一堆，我一堆，谁也不认识谁，全部送到农村做化肥
桂花飘香的夏夜，月，似银盘；树，若舞娘；风，如轻裳。我，站在水房。皓齿清波，膏白胜雪，刷牙
女人谨记：一定要吃好玩好睡好喝好，一但累死了，就别的女人花咱的钱，住咱的房，睡咱的老公，泡咱的男朋友，还打咱的娃.
自从我变成了狗屎，就再也没有人踩在我头上了
骏马啊~你四条腿~~~大海啊~你全是水~~~
我能想到最浪漫的事， 　　就是和你去抢劫， 　　在我们携款潜逃中， 　　你不幸被捕， 　　宁死不招， 　　锒铛入狱， 　　留我孤独黯然神伤， 　　挥金如土度过余生。Anne.Kwan 说:长大了娶唐僧做老公，能玩就玩一玩，不能玩就把他吃掉Anne.Kwan 说:宇春啊,我们分手吧,我爱上韩红了.

日志标题：最新版JGrid效果预览
发表时间：2006-6-16 13:00:00
日志内容：JGrid : JavaScript Data Grid
功能还在完善中,最新加入编辑单元格的功能.
前几版可参考:
http://www.blueidea.com/bbs/NewsDetail.asp?id=2470903
计划把这版做成商业版和免费版,现在还不能发布免费版的源码.




日志标题：JGrid最新版,源码提供下载!
发表时间：2006-6-17 16:19:00
日志内容：JGrid最新版,源码提供下载!http://my.opera.com/xlingFairy/homes/soft/JGrid.rar在你不能搞定的时候,最好好看看这个说明档:http://xling.blueidea.com/archives/2006/2172.shtml
可以在本程序的基础上进行修改,但是请务必保留原作者的信息!否则,后果自负!
一,适用平台:IE6+由于一些机制上的原因,打算放弃对FireFox和Opera的支持.因为它的适用对象,一般只会在IE下运行!
二,适用对象:本程序是针对诸如:WEB ERP,CMS等有大量的数据需要用表格显示的程序而做的.第一版用在了一个家仫城的销售管理系统里.第二版在多个网站的后台管理里使用.
三,功能:1,可自由拖动栏位宽度.　　本功能使用了COL标签来完成,较之前几版,感觉爽歪了!!
2,可自定义各列的对齐方式.　　本功能也发挥了COL标签长处!又爽歪了!
3,排序功能.　　这个功能还没有完美,数字的排序也是按ASCII排了!还需要修改.
4,查找,并高亮显示!　　没什么好说的,CTRL+SHIFT+F,可调出查找窗口.　　至于为什么没有做查找上一个,下一个,个人感觉没有做这个的必要,因为浏览器就提供这个功能,在做就是浪费!
5,点行标题,可高亮显示对应的行.　　这点和前几版不同.
6,双击可修改单元格内容.　　这个是为后续功能打基础,
7,固定的行头和列头　　这个功能只有用在它的适用对象上才能体现它的好处来!　　一般的ERP或CMS系统,动辙十几个栏位一起上,数百,数千行数据一起显示,滚动条拉的老长老长,固定的行头和列头,就是针对这个而来的!
7,超级简单的调用!　　爽挂了!以前做程序的时候,即要隔行变色,又要排序,还要响应鼠标,一个两表格还有耐心去处理,要是你有几百个表格要做同一件事,气也气挂了!　　使用本程序,只需要简单的几行控制语句,所有的动作全部自动加进去!　　所以,爽挂了!
8,假如你对本程序有兴趣,可以出MONEY,我给你定制功能!
9,不吹了,在吹,牛皮就要破了!自已下载去看了!
四,计划加入功能,只作为商业版提供,不好意思:1,导出XML,导出XSL文档.2,更换皮肤....
五:注意:1,只适用于IE6+2,由于机制的原因，HTML的头部不能有&lt;!DOCTYPE&gt;标签，这是被逼无奈的选择！
TO外行:demo.htm可直接双击运行,demo.asp需要IIS的支持!

日志标题：JGrid调用方法说明
发表时间：2006-6-19 9:04:00
日志内容：看了同志们的留言,我很生气,因为你们根本就没有看说明,就妄加评论!我都写明了,目前只对IE6+有很好的支持,居然还有人说移植性不好!又说什么调式失败了什么的,我想问一句,你弄清楚它是怎么工作了没有?如果没有,请看下面的描述:
JGrid{用方法f明：
1，要引用这个核心文件：JGrid.js&lt;script language="javascript" src="includes/JGrid.js" type="text/javascript"&gt;&lt;/script&gt;
2,要引用另外一个重要文件：JGrid.css&lt;link href="css/JGrid.css" rel="stylesheet" type="text/css" /&gt;
3，要有一个表格,并且一定要有ID属性,其它属性完全可以不要:&lt;table width="100%" cellpadding="0" cellspacing="0" id="dataLayer"&gt;
4,JS部分最好不要写在&lt;table&gt;的前面,因为很可能会因为&lt;table&gt;未载入,引发错误.
5,看这个程序的入口参数:function JGrid(pWidth,pHeight,pParentNode)pWidth:int or String. JGrid的长度,可以为为百分数,(如:"60%",注意:要用引号括起来!);可以为一个具体的数值(如:500,注意,不用加引号);可以为null,(为null就是说宽度为100%).pHeight:int or String. 和pWidth一样.pParentNode:String. 值可为null,当然,可以省略不写,因为它是最后一个参数,这种情况下,这个JGrid会自动加到document.body里的,具体位置和这部分的JS执行顺序有关.如果不为null,这个值一定是一个存在的Object的ID值,(如:&lt;div id="aa"&gt;),这种情况下,这个JGrid会在这个Object内部显示!
6,执行create()方法:做这一步,是另有用意,只不过,该版本没有体现出来而已.
7,设置列标题:var fldsList=new Array(['bag',120,"right"],['name',200],['type',100]);grid1.createTitle(fldsList);
fldList是个多维数组,如果你对数组不了解,建议先恶补一下在来看本程,或是照搬格式.来看['bag',120,'right']bag:就是要显示的标题.120:是这列的宽度.right:是这列如何对齐,有三种选择:left,center,right,注意,要用引号括起来.这个参数可不写,就像['name',200]一样.
接着,一定要执行:grid1.createTitle(fldsList);
8,绑定表格:grid1.tackData("dataLayer")参数:dataLayer就是那个&lt;table&gt;的ID值.

日志标题：拍马大赛
发表时间：2006-6-19 14:27:00
日志内容：我在经典里都快成了人人得而逐之的对象了!
原因就是经典里有大堆拍马的人!
在郑重的说一句:我是河南人!
我现在不消用BS来形容那些对河南人有看法的,只会点头哈腰的人!
TO:那些对河南人有不正常看法的人,对河南有什么看法之前,先看看你是个什么完意!

日志标题：ASP通用分页程序效果及使用说明
发表时间：2006-6-20 15:29:00
日志内容：ASP通用分页程序:

昨天在网上查了查,有人修改过这个程序,虽然修改的不是太多,但是梢梢有点离谱.
本程序是自动解析所有的,不属于本程序的URL参数的,但是这个修改的同志显然没有了解到这个功能!画蛇添足的加了一个东东!

下载:
http://my.opera.com/xlingFairy/homes/soft/1JGrid.rar

文件结构:
/demo.asp 运行该文件可以查看效果
--------------------------------
/pagination.inc.asp 该文件完全是为了方便使用而写.不要和下面那个文件弄混了.
/includes/pagination.inc.asp 核心文件
/css/page.css 样式文件,可自行修改.
--------------------------------
附带演示的是最新版的JGrid程序,和本分页程序完全无关,可参考:
http://xling.blueidea.com/archives/2006/2165.shtml

效果预览:
每次显示十个页签的效果:

每次显示五个页签的效果:

一,功能说明:

1,超简单化的分页方法,让你省掉臃肿的控制语句.
本分页程序,封装在一个ASP类里,你只需要提供几个参数给这个类的实例就行了.其它的工作,会自动完成!

2,可自定每页显示多少笔数据.

3,可自定每页显示多少页签!

4,最新加入跳转到某页的功能!

5,自动判断页数是不是有效!

6,自动解析URL参数,所以,本程序,你可以放心的使用!

二,调用说明:

1,如何调用:
只需在需要分页的ASP程序里引用
includes/pagination.inc.asp
css/page.css
两个文件就行了!

2,如何打开游标:
dim sql,rst
 sql="select * from dict"
 set rst=server.CreateObject("ADODB.RecordSet")
 '注：必须用open方法打开，conn.execute的不行
 rst.open sql,conn,1,1

3,实例化,及设置参数:
dim myPagination 
 set myPagination =new pagination '实例化
  myPagination.pageSize =50 '每页要显示多少笔数据
  mypagination.pageListCount =5 '每次显示多少个页签!
  myPagination.setValue(rst) '这一步很重要,把第二步里的rst送进这个实例里进行加工!

4,返回加工后的rst:
set rst =myPagination.rst

5,注意如何循环:
&lt;%
for i=1 to rst.pagesize '注意噢!是这样写的噢!
if rst.eof then exit for
%&gt;
 &lt;tr&gt;
 &lt;td&gt;&lt;%=rst("id")%&gt;&amp;nbsp;&lt;/td&gt;
 &lt;td&gt;&lt;%=rst("english")%&gt;&amp;nbsp;&lt;/td&gt;
 &lt;td&gt;&lt;%=rst("chinese")%&gt;&amp;nbsp;&lt;/td&gt;
 &lt;/tr&gt;
&lt;%
rst.movenext
next
%&gt;

6,可选部分:
&lt;!--#include file="pagination.inc.asp"--&gt;

三,注意:

1,本程序会自动成一个名为page的URL参数,请保证你的参数不会和这个参数冲突!
2,你可以无限制的使用本程序,或在此基础上进行修改,但是请保留原者的信息.
3,谢谢使用.

日志标题：晕啊!死了一个座骑!
发表时间：2006-6-20 21:26:00
日志内容：晕啊!
跟了我快四个月的座骑,在我刚才往后一仰的时候,挂了!牺牲了!完蛋了!
四个着地的轮子断了一个!俩扶手断了一个!
晕啊!一百多块啊!
还摔了我一下！还好，没有伤着屁股！
上次报废了一个键盘,私下里就解决了！因为它个头小，没人注意！
这下是个大家伙啊！不靠在柜子旁边，还站不住！
晕啊！
假如我不来加班，悲剧就不会发生．
但是它妈的郁闷的是，加班还没有加班费！
来的时候，打开邮件，显示是７封，处理了两封，它妈的，又变成了８封了！
晕啊！
我的座骑啊！你挂的好不壮烈啊！

日志标题：今日Oracle&nbsp;学习与总结
发表时间：2006-6-23 16:34:00
日志内容：
-----------------------------------------------------------------------------Oracle 选出所有的 NO ,注意: NO BETWEEN '!' AND '~'
SELECT  * FROM  ASP_FA_MASTWHERE COMP_NO = '＊＊＊' AND NO BETWEEN '!' AND '~'
-----------------------------------------------------------------------------Oracle 选出 NO 从 21230001 开始,直到结束的记录
SELECT  * FROM  ASP_FA_MASTWHERE COMP_NO = '＊＊＊' AND NO BETWEEN '21230001' AND '~'

-----------------------------------------------------------------------------
以下是 ~ 用法的解释:
If a positive value is extremely large and a numeric overflow occurs when rounding a number, then the infinity sign (~) replaces the value. Likewise, if a negative value is extremely small and a numeric overflow occurs when rounding a number, then the negative infinity sign replaces the value (-~).
_________________________________________________
Oracle 8i 不支持 LEFT/RIGHT/INNER/CROSS JOIN @N法，只能通^(+)F左或右。如果谋碛l件泶_定，那N，用(+)就不行了，如@SQLZ句，它x不出恚@N情r下，只能用子查了！

SQLServere，如果谋碛兴限定，l件也只能在：on 的後面，如果把l件在where的下面，也是x不出的。



日志标题：用PS把切片导出为DIV+CSS 的录像
发表时间：2006-6-23 16:46:00
日志内容：今天录制了一个如何把PS的切片导出为DIV+CSS的录像,给学飞的小鸟看
my.opera.com/xlingFairy/homes/swf/slice.swf

日志标题：恶梦!
发表时间：2006-6-26 8:00:00
日志内容：一家老字号的"烤"饼店,古色古色,有大家的风范!没有看清是什么名号.　　一老道一边敲门,一边嚷嚷:"我要吃月饼,我要吃饼!".　　"死老道,大清早的就不让人安宁,什么时候啊!吃什么月饼?"开门的是一位老者,大家风范!　　没有看清那个老道是怎么进门的,总之门还没有开,那个老道就以经进烤房里了!　　　　进了烤房,靠!那个叫大家风范啊!烤架都一人多宽!没有烤箱,因为这间房子好像就是一个烤箱.
　　那个老道,就是那个嚷着要吃月饼的那个,托起一个东东,注意是托起!直接就吞下去了!那个东东,在被托起之后,是有一层绿光的!妈的,仔细一看,居然是一俱尸体!
　　那个老道吃了两个,就顺势躺在烤架上,睡着了!
　　本来,在这之前,是没什么好怕的,可是!!!
　　妈的!居然有一俱尸体坐起来了!尸变了!
　　我立马就醒了!一身冷汗!~　　　　过了几分钟,我看看了时间,才四点刚过几分!
　　心里还是有些害怕啊!于是开了灯,打了会手机游戏,又看了会书,四点半才有了睡意!
　　看来,还是心素质不够硬啊!以后在也不看有关于尸变的故事了!

日志标题：J2ME高级UI
发表时间：2006-6-29 11:18:00
日志内容：前几天又买了本J2ME的书,花了七十多块!!
和之前买的那本书相比,内容多了好多.不过,仍感谢那本书,如果没有它,我就不会对J2ME产生兴趣,并入门.
这本书中用了几页纸讲了高级UI,稍微看了一下,很简单.如果做游戏的话,使用高级UI的机率会很小,如果做软件的话,机率可能会大一些.
不管怎样,看看还是有好处的.

以下是源码:

import java.io.*;import javax.microedition.midlet.*;import javax.microedition.lcdui.*;
public class UITest extends MIDlet implements CommandListener {protected Form form;protected TextBox tb;protected List list;protected TextField tf;private Command goCommand;private Command exitCommand;private Command backCommand;private Command[] commandList;private Image img;public UITest(){String[] element = {"TextBox","TextFiled"};list = new List("Select Item",List.IMPLICIT,element,null);goCommand = new Command("Go",Command.OK,1);exitCommand = new Command("Exit",Command.EXIT,1);backCommand = new Command("Back",Command.BACK,1);commandList = new Command[2];commandList[0] = goCommand;commandList[1] = exitCommand;this.setCommand(list,commandList);try{img = Image.createImage("/res/tone.png");}catch(IOException e){System.out.println("Load img file faild!");}}public void startApp(){this.changeScreen(list);}public void changeScreen(Displayable d){Display.getDisplay(this).setCurrent(d);}public void setCommand(Displayable d,Command[] commandList){for (int i=0;i&lt;2;i++){d.addCommand(commandList[i]);}d.setCommandListener(this);}public void pauseApp(){}public void destroyApp(boolean b){notifyDestroyed();}public void commandAction(Command c,Displayable d){Alert alert;switch(c.getCommandType()){case Command.EXIT:alert = new Alert("Bye!","Thank you !",img,AlertType.CONFIRMATION);alert.setTimeout(3000);System.out.println("Exit");this.changeScreen(alert);destroyApp(true);break;case Command.BACK:this.changeScreen(list);commandList[0] = goCommand;commandList[1] = exitCommand;this.setCommand(list,commandList);break;case Command.OK:if(d == list){commandList[0] = backCommand;commandList[1] = goCommand;if(list.getSelectedIndex() == 0){tb = new TextBox("Please input some words!","",20,TextField.ANY);this.changeScreen(tb);this.setCommand(tb,commandList);}if(list.getSelectedIndex() == 1){form = new Form("User Interface:");tf = new TextField("Enter you name:","",10,TextField.ANY);form.append(tf);this.changeScreen(form);this.setCommand(form,commandList);}}if(d == form){alert = new Alert("Hi!","Thank you " + tf.getString(),img,AlertType.INFO);this.changeScreen(alert);}if(d == tb){alert = new Alert("HoHo~!",tb.getString(),img,AlertType.INFO);this.changeScreen(alert);}}}}




日志标题：UNION 与 UNION ALL
发表时间：2006-7-1 8:34:00
日志内容：
Programmers of complex query statements that include a UNION clause should always ask whether a UNION ALL will suffice. The UNION clause forces all rows returned by each portion of the UNION to be sorted and merged and duplicates to be filtered before the first row is returned to the calling module. A UNION ALL simply returns all rows including duplicates and does not have to perform any sort, merge, or filter.
Most statements that do include a UNION clause can in fact replace it with a UNION ALL. These statements are written in a fashion whereby duplicates cannot be generated (sourced from different tables), so why sort and test for them?
Consider the following example:
SELECT acct_num, balance_amtFROM debit_transactionsWHERE tran_date = '31-DEC-95'UNIONSELECT acct_num, balance_amtFROM credit_transactionsWHERE tran_date = '31-DEC-95'Execution Plan---------------------------------------------------SELECT STATEMENT OPTIMIZER HINT: CHOOSEPROJECTIONSORT (UNIQUE)UNION-ALLTABLE ACCESS (BY ROWID) OF 'DEBIT_TRANSACTIONS'INDEX (RANGE SCAN) OF 'DEBIT_TRAN_IDX' (NON-UNIQUE)TABLE ACCESS (BY ROWID) OF 'CREDIT_TRANSACTIONS'INDEX (RANGE SCAN) OF 'CREDIT_TRAN_IDX' (NON-UNIQUE)To improve performance, replace this code with:
SELECT acct_num, balance_amtFROM debit_transactionsWHERE tran_date = '31-DEC-95'UNION ALLSELECT acct_num, balance_amtFROM credit_transactionsWHERE tran_date = '31-DEC-95'Execution Plan---------------------------------------------------SELECT STATEMENT OPTIMIZER HINT: CHOOSEPROJECTIONUNION-ALLTABLE ACCESS (BY ROWID) OF 'DEBIT_TRANSACTIONS'INDEX (RANGE SCAN) OF 'DEBIT_TRAN_IDX' (NON-UNIQUE)TABLE ACCESS (BY ROWID) OF 'CREDIT_TRANSACTIONS'INDEX (RANGE SCAN) OF 'CREDIT_TRAN_IDX' (NON-UNIQUE)
用 UNION 选数据,5万多条数据需要26秒,而且还有数据丢失的现象,不明白.


用 UNION ALL 选出 5 万多条数据,只需要 16毫秒.



日志标题：游标变量不能打开带子查询的查询
发表时间：2006-7-9 9:48:00
日志内容：测试环境:Oracel 8i
问题描述:游标变量不能打开带子查询的SQL语句.
这是包头,这个没有问题:

CREATE OR REPLACE PACKAGE XLING_TESTISTYPE ACCTS_RECORD_TYPE IS RECORD( NO ASP_ACCTS.NO%TYPE, NAME ASP_ACCTS.NAME%TYPE, EXP_TYPE ASP_ACCTS.EXP_TYPE%TYPE, DC ASP_ACCTS.DC%TYPE, COMP_NO ASP_ACCTS.COMP_NO%TYPE, COMP_NAME VARCHAR2(50));TYPE ACCTS_REF IS REF CURSOR RETURN ACCTS_RECORD_TYPE;FUNCTION ACCTS_VIEW(I_COMP_NO IN VARCHAR2) RETURN ACCTS_REF;END;/
这个是包体,函数:ACCTS_VIEW,打开了一个游标变量,并且是带子查询的:

CREATE OR REPLACE PACKAGE BODY XLING_TESTIS FUNCTION ACCTS_VIEW(I_COMP_NO IN VARCHAR2) RETURN ACCTS_REF AS  RETURN_VIEW ACCTS_REF; BEGIN OPEN RETURN_VIEW FORSELECT ASP_ACCTS.NO, ASP_ACCTS.NAME, ASP_ACCTS.EXP_TYPE, ASP_ACCTS.DC, ASP_ACCTS.COMP_NO, (SELECT NAME FROM ASP_COM_DATA WHERE COMP_NO = ASP_ACCTS.COMP_NO) AS COMP_NAMEFROM  ASP_ACCTS  RETURN RETURN_VIEW; END;END;/
F9后,会得到下面这个错误:

PLS-00103 found 'string' but expected one of the following: 'string'"},
Cause: This error message is from the parser. It found a token (language element) that is inappropriate in this context.
Action: Check previous tokens as well as the one given in the error message. The line and column numbers given in the error message refer to the end of the faulty language construct.
但是从这个提示里,并看不出来到底是错在哪里.
以下是正确的包体,函数ACCTS_VIEW用了联接查询.
CREATE OR REPLACE PACKAGE BODY XLING_TESTIS FUNCTION ACCTS_VIEW(I_COMP_NO IN VARCHAR2) RETURN ACCTS_REF AS  RETURN_VIEW ACCTS_REF; BEGIN OPEN RETURN_VIEW FORSELECT  ASP_ACCTS.NO, ASP_ACCTS.NAME, ASP_ACCTS.EXP_TYPE, ASP_ACCTS.DC, ASP_ACCTS.COMP_NO, ASP_COM_DATA.NAME AS COMP_NAME FROM  ASP_ACCTS, ASP_COM_DATAWHERE  ASP_ACCTS.COMP_NO = ASP_COM_DATA.COMP_NO(+); RETURN RETURN_VIEW; END;END;/


日志标题：伟大的我,隆重的发行一枚金质纪念币
发表时间：2006-7-13 10:42:00
日志内容：伟大的我,隆重的发行一枚金质纪念币
http://www.onlinewahn.de/generator/muenze.php


日志标题：要如何继承Layer类?
发表时间：2006-7-14 14:38:00
日志内容：对我来说,下面这个是个难题,如果你能解决,请指教.谢谢.
环境:MIDP2.0 Eclipse如题.
....public class GameMenu extends Layer { ......public GameMenu(int pWidth,int pHeight){super(pWidth,pHeight);//提示说这个constructor是不可见的.}public void paint(Graphics g){}}
......public class GameMenu extends Layer { ......public GameMenu(int pWidth,int pHeight){super();//提示说没有这个constructor.}public void paint(Graphics g){}}
......public class GameMenu extends Layer { ...... //又提示必须定义一个外在的构造函数public void paint(Graphics g){}}

日志标题：第一次用JBuilder2006写J2ME遇到的问题及解决方法:
发表时间：2006-7-20 14:36:00
日志内容：第一次用JBuilder2006写J2ME遇到的问题及解决方法:
原来学J2ME的时候,一直用的是Eclipse + EclipseMe,周一上午没有上班,在书店买了本书,J2ME的(这以经是第三本了,可见我学它的决心).随书光盘里有视频讲解.看了一下,用的都是JBuilder,于是就下了一个JBuilder2006.
不曾想,调试第一个程序就遇到了困难.
环境:JBuilder2006 + WTK2.2(WTK2.3)错误提示:java/lang/ClassFormatError: Bad version information
解释:这是JBuilder2006的一个错误:http://web.mit.edu/jbuilder_v2006/distrib/sun4x_510/JBuilder2006/readme.html
[227771] If you use WTK 2.2 and earlier, and you get the message "ALERT: java/lang/ClassFormatError: Bad version information" when you launch the MIDlet, you may need to set the target VM in JBuilder to any targets other than Java 2 SDK, v 5.0 (generics enabled). This option is on the Build|Java page of the Project Properties dialog box.
大意是:如果你用的是WTK2.2或更高的版本,得到这个错误的时候,你应把JBuilder2006的目标VM设置为非:Java 2 SDK, v 5.0(这个是默认选项).这个选项在:工程的属性-&gt;Build-&gt;Java项里.
做完这个操作后,Rebuild下这个工程之后,就不会有这个错误了.

日志标题：GameCanvas,Canvas 与 keyPressed(int key)
发表时间：2006-7-21 8:35:00
日志内容：GameCanvas,Canvas 与 keyPressed(int key)
　　本来是要用Canvas做个菜单的,想想还要加一些其它的效果,于是就选择了继承GameCanvas. GameCanvas支持双缓冲屏幕,可实现无闪屏刷新.
　　但是在取键盘状态的时候,遇到了麻烦:
　　一开始的时候,是在线程执里,用getKeyStates()得到键盘的状态值(详见update()函数),我设的刷新频率是:daly = 33,也就是说一秒钟要检查33次,这样一来,update()里的内容在一秒里要执行 N 次!这就不对了,按一下左键或右键就会窜好几个菜单项!
　　Canvas 类有一个保护方法:keyPressed(int key),GameCanvas是它的子类,所以,GameCanvas也可以用这个方法.我试着加了一个keyPressed(int key)方法,奇怪的事发生了!编译运行后,按那四个方向键,居然得不到任何值!测试了一下,只有2,4,6,8,5这几个键才能得到值!
　　我改成了继承Canvas类,这下在keyPressed(int key)里,方向键才能得到值!
　　晕啊!
以下是继承 Canvas 类的代码:

import javax.microedition.lcdui.*;import javax.microedition.lcdui.game.*;import java.io.*;
public class MenuCanvas extends Canvas { private final int WIDTH = getWidth(),HEIGHT = getHeight(); private final int MIDDLECENTER = Graphics.HCENTER | Graphics.VCENTER; private Image dirImg,splashImg; private Sprite leftSprite,rightSprite; private boolean stoped = false; private int delay = 33;
 private int dirY,dirX1,dirX2;
 private String[] menuArray = {"Start 1","Sound On 2","Help 3","Heigh Score 4","Quit 5"}; private int menuIndex = 0,keyPressTime = 2,keyPressDelay = 0;
 public MenuCanvas(){ super(); }  public void paint(Graphics g){ g.setColor(255,255,255); g.fillRect(0,0,WIDTH,HEIGHT); g.drawImage(splashImg,WIDTH/2,HEIGHT/2,MIDDLECENTER); leftSprite.paint(g); rightSprite.paint(g); g.setColor(0x000000); Font f = Font.getFont(Font.FACE_SYSTEM,Font.STYLE_BOLD,Font.SIZE_MEDIUM); f = Font.getFont(Font.FACE_SYSTEM,Font.STYLE_BOLD,Font.SIZE_MEDIUM); g.setFont(f); String menuString = menuArray[menuIndex]; g.drawString(menuString,WIDTH/2,(dirY - 5),Graphics.HCENTER | Graphics.TOP);  }  public void start(){ try{ dirImg = Image.createImage("/res/dir.png"); splashImg = Image.createImage("/res/splash.png"); }catch(IOException e){ System.out.println("Image loaded error!"); } leftSprite = new Sprite(dirImg,6,10); rightSprite = new Sprite(leftSprite); rightSprite.setTransform(Sprite.TRANS_MIRROR);
 dirY = HEIGHT/2 + splashImg.getHeight()/2 + 5; dirX1 = WIDTH/2 - splashImg.getWidth()/2; dirX2 = dirX1 + splashImg.getWidth() - rightSprite.getWidth();
 leftSprite.setPosition(dirX1,dirY); rightSprite.setPosition(dirX2,dirY);  repaint();  //Thread t = new Thread(this); //t.start(); }
 public void run(){ while(!stoped){ draw(); update(); try{ Thread.sleep(delay); }catch(InterruptedException e){ // } } }
 public void keyPressed(int key){ System.out.println(getGameAction(key)); if(getGameAction(key) == Canvas.LEFT) menuIndex --; if(getGameAction(key) == Canvas.RIGHT) menuIndex ++; if(menuIndex&lt;0) menuIndex = menuArray.length - 1; if(menuIndex &gt; menuArray.length - 1) menuIndex = 0; System.out.println(getGameAction(key)); repaint(); }
 public void update(){/* keyPressDelay++; int keyState = getKeyStates(); if((keyState &amp; LEFT_PRESSED)!=0){ if(keyPressDelay &gt;= keyPressTime) menuIndex--; } if((keyState &amp; RIGHT_PRESSED)!=0){ if(keyPressDelay &gt;= keyPressTime) menuIndex++; }
 if(keyPressDelay &gt;= keyPressTime) keyPressDelay = 0;
 if(menuIndex&lt;0) menuIndex = menuArray.length - 1; if(menuIndex &gt; menuArray.length - 1) menuIndex = 0;*/ }
 public void draw(){/* Graphics g = getGraphics(); g.setColor(255,255,255); g.fillRect(0,0,WIDTH,HEIGHT); g.drawImage(splashImg,WIDTH/2,HEIGHT/2,MIDDLECENTER); leftSprite.paint(g); rightSprite.paint(g); g.setColor(0x000000); Font f = Font.getFont(Font.FACE_SYSTEM,Font.STYLE_BOLD,Font.SIZE_MEDIUM);f = Font.getFont(Font.FACE_SYSTEM,Font.STYLE_BOLD,Font.SIZE_MEDIUM); g.setFont(f); String menuString = menuArray[menuIndex]; g.drawString(menuString,WIDTH/2,(dirY - 5),Graphics.HCENTER | Graphics.TOP); //g.drawString(menuString,WIDTH/2,(dirY - 5),MIDDLECENTER); flushGraphics();*/ }}
以下是继承 GameCanvas 类的代码:

import javax.microedition.lcdui.*;import javax.microedition.lcdui.game.*;import java.io.*;
public class MenuCanvas extends GameCanvas implements Runnable { private final int WIDTH = getWidth(),HEIGHT = getHeight(); private final int MIDDLECENTER = Graphics.HCENTER | Graphics.VCENTER; private Image dirImg,splashImg; private Sprite leftSprite,rightSprite; private boolean stoped = false; private int delay = 33;
 private int dirY,dirX1,dirX2;
 private String[] menuArray = {"Start 1","Sound On 2","Help 3","Heigh Score 4","Quit 5"}; private int menuIndex = 0,keyPressTime = 2,keyPressDelay = 0;
 public MenuCanvas(){ super(true); }  public void start(){ try{ dirImg = Image.createImage("/res/dir.png"); splashImg = Image.createImage("/res/splash.png"); }catch(IOException e){ System.out.println("Image loaded error!"); } leftSprite = new Sprite(dirImg,6,10); rightSprite = new Sprite(leftSprite); rightSprite.setTransform(Sprite.TRANS_MIRROR);
 dirY = HEIGHT/2 + splashImg.getHeight()/2 + 5; dirX1 = WIDTH/2 - splashImg.getWidth()/2; dirX2 = dirX1 + splashImg.getWidth() - rightSprite.getWidth();
 leftSprite.setPosition(dirX1,dirY); rightSprite.setPosition(dirX2,dirY);  Thread t = new Thread(this); t.start(); }
 public void run(){ while(!stoped){ draw(); update(); try{ Thread.sleep(delay); }catch(InterruptedException e){ // } } }
 public void keyPressed(int key){ System.out.println(getGameAction(key)); if(getGameAction(key) == Canvas.LEFT) menuIndex --; if(getGameAction(key) == Canvas.RIGHT) menuIndex ++; if(menuIndex&lt;0) menuIndex = menuArray.length - 1; if(menuIndex &gt; menuArray.length - 1) menuIndex = 0; System.out.println(getGameAction(key)); repaint(); }
 public void update(){/* keyPressDelay++; int keyState = getKeyStates(); if((keyState &amp; LEFT_PRESSED)!=0){ if(keyPressDelay &gt;= keyPressTime) menuIndex--; } if((keyState &amp; RIGHT_PRESSED)!=0){ if(keyPressDelay &gt;= keyPressTime) menuIndex++; }
 if(keyPressDelay &gt;= keyPressTime) keyPressDelay = 0;
 if(menuIndex&lt;0) menuIndex = menuArray.length - 1; if(menuIndex &gt; menuArray.length - 1) menuIndex = 0;*/ }
 public void draw(){ Graphics g = getGraphics(); g.setColor(255,255,255); g.fillRect(0,0,WIDTH,HEIGHT); g.drawImage(splashImg,WIDTH/2,HEIGHT/2,MIDDLECENTER); leftSprite.paint(g); rightSprite.paint(g); g.setColor(0x000000); Font f = Font.getFont(Font.FACE_SYSTEM,Font.STYLE_BOLD,Font.SIZE_MEDIUM);f = Font.getFont(Font.FACE_SYSTEM,Font.STYLE_BOLD,Font.SIZE_MEDIUM); g.setFont(f); String menuString = menuArray[menuIndex]; g.drawString(menuString,WIDTH/2,(dirY - 5),Graphics.HCENTER | Graphics.TOP); //g.drawString(menuString,WIDTH/2,(dirY - 5),MIDDLECENTER); flushGraphics(); }}

日志标题：一些关于synchronized的文字
发表时间：2006-7-23 9:22:00
日志内容：Java同步机制浅谈DDsynchronized对代码作何影响？ 
 Java对多线程的支持与同步机制深受大家的喜爱，似乎看起来使用了synchronized关键字就可以轻松地解决多线程共享数据同步问题。到底如何？DD还得对synchronized关键字的作用进行深入了解才可定论。总的说来，synchronized关键字可以作为函数的修饰符，也可作为函数内的语句，也就是平时说的同步方法和同步语句块。如果再细的分类，synchronized可作用于instance变量、object reference（对象引用）、static函数和class literals(类名称字面常量)身上。在进一步阐述之前，我们需要明确几点：A．无论synchronized关键字加在方法上还是对象上，它取得的锁都是对象，而不是把一段代码或函数当作锁DD而且同步方法很可能还会被其他线程的对象访问。B．每个对象只有一个锁（lock）与之相关联。C．实现同步是要很大的系统开销作为代价的，甚至可能造成死锁，所以尽量避免无谓的同步控制。接着来讨论synchronized用到不同地方对代码产生的影响： 假设P1、P2是同一个类的不同对象，这个类中定义了以下几种情况的同步块或同步方法，P1、P2就都可以调用它们。 1． 把synchronized当作函数修饰符时，示例代码如下：Public synchronized void methodAAA(){//….}这也就是同步方法，那这时synchronized锁定的是哪个对象呢？它锁定的是调用这个同步方法对象。也就是说，当一个对象P1在不同的线程中执行这个同步方法时，它们之间会形成互斥，达到同步的效果。但是这个对象所属的Class所产生的另一对象P2却可以任意调用这个被加了synchronized关键字的方法。上边的示例代码等同于如下代码：public void methodAAA(){synchronized (this) // (1){ //…..}}(1)处的this指的是什么呢？它指的就是调用这个方法的对象，如P1。可见同步方法实质是将synchronized作用于object reference。DD那个拿到了P1对象锁的线程，才可以调用P1的同步方法，而对P2而言，P1这个锁与它毫不相干，程序也可能在这种情形下摆脱同步机制的控制，造成数据混乱：（2．同步块，示例代码如下： public void method3(SomeObject so) { synchronized(so){ //…..}}这时，锁就是so这个对象，谁拿到这个锁谁就可以运行它所控制的那段代码。当有一个明确的对象作为锁时，就可以这样写程序，但当没有明确的对象作为锁，只是想让一段代码同步时，可以创建一个特殊的instance变量（它得是一个对象）来充当锁：class Foo implements Runnable{ private byte[] lock = new byte[0]; // 特殊的instance变量 Public void methodA(){ synchronized(lock) { //… }}//…..}注：零长度的byte数组对象创建起来将比任何对象都经济DD查看编译后的字节码：生成零长度的byte[]对象只需3条操作码，而Object lock = new Object()则需要7行操作码。3．将synchronized作用于static 函数，示例代码如下： Class Foo {public synchronized static void methodAAA() // 同步的static 函数{//….}public void methodBBB(){ synchronized(Foo.class) // class literal(类名称字面常量)} } 代码中的methodBBB()方法是把class literal作为锁的情况，它和同步的static函数产生的效果是一样的，取得的锁很特别，是当前调用这个方法的对象所属的类（Class，而不再是由这个Class产生的某个具体对象了）。记得在《Effective Java》一书中看到过将 Foo.class和 P1.getClass()用于作同步锁还不一样，不能用P1.getClass()来达到锁这个Class的目的。P1指的是由Foo类产生的对象。可以推断：如果一个类中定义了一个synchronized的static函数A，也定义了一个synchronized 的instance函数B，那么这个类的同一对象Obj在多线程中分别访问A和B两个方法时，不会构成同步，因为它们的锁都不一样。A方法的锁是Obj这个对象，而B的锁是Obj所属的那个Class。 小结如下：搞清楚synchronized锁定的是哪个对象，就能帮助我们设计更安全的多线程程序。还有一些技巧可以让我们对共享资源的同步访问更加安全：1． 定义private 的instance变量+它的 get方法，而不要定义public/protected的instance变量。如果将变量定义为public，对象在外界可以绕过同步方法的控制而直接取得它，并改动它。这也是JavaBean的标准实现方式之一。2． 如果instance变量是一个对象，如数组或ArrayList什么的，那上述方法仍然不安全，因为当外界对象通过get方法拿到这个instance对象的引用后，又将其指向另一个对象，那么这个private变量也就变了，岂不是很危险。 这个时候就需要将get方法也加上synchronized同步，并且，只返回这个private对象的clone()DD这样，调用端得到的就是对象副本的引用了。
对synchronized(this)的一些理解 一、当两个并发线程访问同一个对象object中的这个synchronized(this)同步代码块时，一个时间内只能有一个线程得到执行。另一个线程必须等待当前线程执行完这个代码块以后才能执行该代码块。 二、然而，当一个线程访问object的一个synchronized(this)同步代码块时，另一个线程仍然可以访问该object中的非synchronized(this)同步代码块。 三、尤其关键的是，当一个线程访问object的一个synchronized(this)同步代码块时，其他线程对object中所有其它synchronized(this)同步代码块的访问将被阻塞。 四、第三个例子同样适用其它同步代码块。也就是说，当一个线程访问object的一个synchronized(this)同步代码块时，它就获得了这个object的对象锁。结果，其它线程对该object对象所有同步代码部分的访问都被暂时阻塞。 五、以上规则对其它对象锁同样适用.

日志标题：手机版:拼图高手,效果预览
发表时间：2006-7-25 13:02:00
日志内容：我花了一个星期天的时间,外加昨天晚上的3个小时,完成了我的第一个完整的手机游戏.
以在我的手机上正常运行了N回了. 用的是JAVA WTK2,2,只要是MIDP2.0的手机,应该都可以运行.
JAR文件下载: http://my.opera.com/xlingFairy/homes/soft/pinTu/pinTu.rar
大小:34K
可以先在本地解压,然后传到你的QQ空间上(我没有WAP网站,所以,不能发布,如果哪位合作的话,可以替我发布在你的WAP网站上,谢谢).
然后,用手机登陆http://3g.qq.com,在登陆到人的QQ上,即可下载到你的手机.
当然可以用数据线直接下载.




日志标题：手机版拼图游戏V1.0开发心得
发表时间：2006-7-25 16:12:00
日志内容：手机版拼图游戏V1.0开发心得效果演示:http://my.opera.com/xlingFairy/homes/soft/pinTu/pinTu.swfJBuilder源码下载:http://my.opera.com/xlingFairy/homes/soft/pinTu/pinTuJbuilderSourceCode.rar
一,灵感,为什么要写这个东东.　　之前,我买了三本J2ME的书籍.第一本书，是MIDP2.0的,它让我产生兴趣.第二本书是讲MIDP1.0的.第三本书也是讲
MIDP2.0的,但比第一本书要详细.　　　　前几日,我在看Sprite这一节的时候,把MIDP1.0和MIDP2.0对比了一下,MIDP1.0没有Sprite类,也没有GameCanvas这
个类.但是那本MIDP1.0的书有讲如何写Sprite类,和具有双缓冲屏幕的GameCanvas.　　那本书里有写如何实现Sprite类,用到了可改变的Image!
　　Image image = Image.create(int width,int height);
　　用这种方法得到的Image对象就是可变的image.　　这只是创建了一个可变的Image对象,还没有向它里画东西.要向它里画东西,要用到:
　　image.getGraphics().drawImage(Image source,int x,int y,int anchor);
　　　　用这个功能可以把一张大图切分成N个小图,要验证这点,最好的例子,就是拼图游戏.　　所以,我就写了这个东东.
二,核心
1,看下面这个方法:
 public void extractImg(Image source,int width,int height){ Image result; int x = 0,y = 0; for(int i=1;i&lt;=rowCol;i++){ for(int j=1;j&lt;=rowCol;j++){ x = (j-1) * width; y = (i-1) * height; result = Image.createImage(width,height);///////////////////////////////////////// result.getGraphics().drawImage(source,-x,-y,Graphics.TOP | Graphics.LEFT); spriteArray[(i-1)*rowCol + j-1] = new Sprite(result,width,height); } } }
　　spriteArray是一个Sprite[]型的数组,存放的是从大图切出来的小图.在下面的讲述里,我把它的元素称为:小图块
.　　这个函数的功能就是把一张图片等分成rowCol行,rowCol列个Sprite.x,y指的是小图result在大图source上的位置
.　　　　注意,这里用的是 -x,-y而不是x,y.这一点我一开始也不明白,可是仔细一想,原来是:　　在source上,以(x,y)点为新原点(0,0),那么老原点自然就是(-x,-y)了!而drawImage(source,x,y)只会画出x,y大
于0的象素点.而且,在声明可变Image对象的时候,就指定了width,height,所以,这个函数就把一张大图source等分成N
个小图result了!
　　这就是实现拼图的关键.
2,如何移动小图块　　从表面来看,这个问题很简单,但是事实却不是如此.　　我是这样做的,首先定义一个有rowCol*(rowCol+1)个元素的一维int数组.　　它的前rowCol * rowCol个元素映射的是spriteArray里各个小图块(Sprite 实例 元素)要显示的顺序.　　它们的初始值如下,假设rowCol = 3:
012345678-2-2-1
　　对这个数组的前 7 个元素的值进行随机交换值,做到打乱顺序.注意:第8个是不动的.　　在下面的讲述里,我会把这个数组的元素说成是单元格,因为我把它们想像成具有行和列的格子,而且你还要区分格
子的索引和格子的值,它们是不同的.
　　如下方法所示:
 public void randomSequence(){ Random r = new Random(); int rValue,t; for(int i=0;i&lt;rowCol * rowCol - 1;i++){//////////////////////// //rValue = r.nextInt(rowCol * rowCol);///////////////////// rValue = Math.abs(r.nextInt()%(rowCol*rowCol - 1));//////// t = sequenceArray[i]; sequenceArray[i] = sequenceArray[rValue]; sequenceArray[rValue] = t; } }
　　注意:取随机数时候,在JBuilder和Eclipse里调试,用r.nextInt(rowCol * rowCol)不会出错,但是在WTK2.2里调试
就会出错.要改成:Math.abs(r.nextInt()%(rowCol*rowCol - 1)),这是取0-7之间的随机整数.
　　你可能会注意到:-2,-2,-1这几个数,这几个数是标志,-1所在的单元格(数组元素)是可用的空白单元格,可以把小
图块移到这个位置上,-2所在的单元格是不能用的,即,不能把图块移到这个位置上.
　　初始是把int数组的最后一个单元格当作可用的空白单元格,即-1所在的数组元素.　　紧接着是算出空白单元格四周可以被移动的单元格.这里我定义了index(空白单元格的索
引),upIndex,downIndex,leftIndex,rightIndex和leftSprite,rightSprite,upSprite,downSprite用来映射可移动的
小图块(Sprite的实例)　　首先是算出index所在的行和列(我采用的是一维数组,当然要转换成行和列了)
..index = rowCol*(rowCol+1)-1;..... int row,col; row = (int)(index/rowCol); col = index % rowCol; upIndex = index - rowCol; downIndex = index + rowCol; leftIndex = index -1; rightIndex = index +1;
　　这些没有什么难理解的吧.　　接着是把upSprite,downSprite,leftSprite,rightSprite 都置为null.　　　　要检查索引为:downIndex,leftIndex的数组元素的值是不是 -2,如果是-2,downSprite,leftSprite保持为空.　　要检查索引为:upIndex,downIdex的数元素的值是不是越了spriteArray的界,而不是int数组的界.　　要检查:leftIndex,rightIndex是不是和index同一行.　　还要做一些其它的检查.下面是代码:

 private void checkIndex(){ int row,col; row = (int)(index/rowCol); col = index % rowCol; upIndex = index - rowCol; downIndex = index + rowCol; leftIndex = index -1; rightIndex = index +1;
 downSprite = upSprite = leftSprite = rightSprite = null;
 if(downIndex &lt; sequenceArray.length &amp;&amp; sequenceArray[downIndex] != -2 &amp;&amp; sequenceArray
[downIndex]!= -1) downSprite = spriteArray[sequenceArray[downIndex]]; if(upIndex &gt;=0) upSprite = spriteArray[sequenceArray[upIndex]]; if(leftIndex &gt;=0 &amp;&amp; sequenceArray[leftIndex] != -2 &amp;&amp; sequenceArray[leftIndex]!=-1 &amp;&amp; ((int)
(leftIndex/rowCol)==row))/////////////////// leftSprite = spriteArray[sequenceArray[leftIndex]]; if((int)(rightIndex/rowCol)==row)//////////////////////// rightSprite = spriteArray[sequenceArray[rightIndex]]; }
　　这上面仅仅是为了得到:leftSprite,rightSprite,upSprite和downSprite,在检查按键的时候,要注意一点:向下按
,说明upSprite要移到空白的单元格所在的位置,向左按说明rightSprite要移动到空白单元格所在的位置,依此类推.当
然,不要忘了交换leftIndex或rightIndex,upIndex及downIndex单元格同index单元格的值,即把 -1 移动到其它单元格
,把其它单元的值移动到原来 -1 所在的单元格.当然,如果rightSprite为null的话,说明向左按,是不会移动任何小图
块的,依此类推.

 private void resetPosition(String dir){ int posX,posY,row,col,t; row = (int)(index/rowCol); col = index % rowCol; posX = STARTX + col*BLOCKWH;//////////////////////////////////// posY = STARTY + row*BLOCKWH;///////////////////////////////////
 if(dir.toString()=="LEFT" &amp;&amp; rightSprite!=null){ t = sequenceArray[rightIndex]; sequenceArray[rightIndex] = -1; sequenceArray[index] = t; index = rightIndex; rightSprite.setPosition(posX,posY); }.... }
　　注意:两个String类型的变量(String a,b)(String实例)是不能直接用 if(a==b)..来判断是否相等的!这一点不
多作解释,只是提一下而以.　　
3,GameCanvas里的 protected keyPressed(int code)只会检测如下几个值:
按键code2 504 52553654856*42048#35back-7ok-6 (忘了是哪个OK了,好像是左上角的那个键)绿色的接电话键是:-10其它的键都得不到.
4,线程的结束主要的几个Canvas我都是用线程来执行的.每个Canvas对应一个线程.要特别提醒一下:退出一个Canvas,一定要把它里面的线程结束掉.在J2ME里,线程没有stop()方法(J2EE里好像有).要停
止一个线程,就需要特别的方法:

 public void run(){ while(!stoped){ checkIndex(); update(); draw(); try{ t.sleep(delay); }catch(InterruptedException e){ // } } }
 protected void keyPressed(int key){ if(key == 42){// press * midlet.showMenuCanvas(); stoped = true; } }
　　如程序所示,就是把stoped置为true,看书上介绍的,要加一个interrupt()方法在stoped=true后,但是产生了一个
未捕获的异常,我暂时也找不到解决的办法(汗,水平有限...)
5,统一资源:　　在JBuilder里,要想调用一张图片,不是简单把一个图片放到工程所在的文件夹里的一个子文件夹就了事的.要给工
程添加一个package,而且还要在工程上执行add File操作(对着工程名右键)。Eclipse里,要先把图片文件考到工程文
件夹下,然后对着工程名右键,选择refresh,这样才能添加进来.　　　　在写图片路径的时候,一定要把文件夹也写出来,比如:/res/splash.png　　WTK的文件夹结构是:src存放代码,res存放图片资源.且写图片路径的时候,不需要加上:/res,而是直接
写:/splash.png
　　在这个游戏里,我写了多个GameCanvas的子类,用以现实不同的画面,而且基本上都调用了图片.为了统一资源,我在
MIDlet的子类(也就是主程序)里加上了一个imgPath变量,GameCanvas子类通过调用这个变量来作为资源的路径.这一样
来,我在JBuilder或Eclipse里,只需要把imgPath修改成 "/res/" ,在WTK里,写成 "/"就行了.
6,其它的说明:
　　这里是SplashCanvas(闪屏)类的run方法(Runnable接口的方法) public void run(){ synchronized(this){ try { wait(2000L); } catch (InterruptedException e) { // } } midlet.showMenuCanvas(); }
　　它的目的就让让程序在运行之前,显示一个闪屏2秒种.然后,在进入程序.　　这里用到了Thread类的 wait(long)方法,开始我没有加synchroized, rebuild的时候,没有错误,但是一运行就会
产生一个InterruptedException型的异常.我不知道是为什么,对着书上,我加了一个synchorized进来,如上面的代码所
示,说实话,我也不是很理解.
　　有一些关于锚点的问题,没有整理出来,总之,要先确定对象要在屏幕上哪个位置显示,然后在确定是使
用:Graphics.LEFT | Graphics.TOP ,Graphics.HCENTER | Graphics.VCENTER 等.对图片,这个好像限制的不是太死,
但是对String,限制的就会很死.如果要在靠上的部分显示文字,而用了Graphics.HCENTER | Graphics.VCENTER就会产
生一个错误. 　　还有,Graphics.drawString(String string,int width,int height,int anchor)里的anchor好像不能用常量或变
量代替.
　　这些都是我自己一点一点摸索出来的,JAVA我也就是刚看了一两个月,而且基本上全部是J2ME的部分,J2EE的,不了
解,也没有看.JBuilder我也是几天才摸索怎么用,Eclipse大概用了不到两个月时间.所以,上面的文字如果有纰漏,请见
谅,并请指教,谢谢.

日志标题：用JS进行不同进制转换及位操作
发表时间：2006-7-27 11:15:00
日志内容：工作很快就搞定了,没有事,老大又说上班的时候,不能做其它的事,本来是要把昨晚看的RMS(J2ME)这一节练练的,但是想想,还是算了,又闲着没事,于是就偷偷的把高中时学的如何快速的笔算算出一个数的二进制回想了一下:
　　比如: 35 = 25 + 21 + 20,于是就得: 100011,你看出来了吗？
　　下面是用JavaScript的方法直接得出不同的进制:点击可运行.

&lt;input type = "input" id="original" /&gt;&lt;input type = "button" onclick = change10() value = "从10进制转换" /&gt;&lt;input type = "button" onclick = change2() value = "从2进制转换" /&gt;&lt;input type = "button" onclick = change8() value = "从8进制转换" /&gt;&lt;input type = "button" onclick = change16() value = "从16进制转换" /&gt;&lt;script&gt;var oOriginal = document.getElementById("original");function change10(){var num = parseInt(oOriginal.value);alert("2: " + num.toString(2) + "\n" + "8: " + num.toString(8) + "\n" + "10: " + num.toString(10) + "\n" + "16: " + num.toString(16));}
function change2(){var num = parseInt(oOriginal.value,2);alert("2: " + num.toString(2) + "\n" + "8: " + num.toString(8) + "\n" + "10: " + num.toString(10) + "\n" + "16: " + num.toString(16));}
function change8(){var num = parseInt(oOriginal.value,8);alert("2: " + num.toString(2) + "\n" + "8: " + num.toString(8) + "\n" + "10: " + num.toString(10) + "\n" + "16: " + num.toString(16));}
function change16(){var num = parseInt(oOriginal.value,16);alert("2: " + num.toString(2) + "\n" + "8: " + num.toString(8) + "\n" + "10: " + num.toString(10) + "\n" + "16: " + num.toString(16));}&lt;/script&gt;
按位与 &amp; :
&amp; 运算符查看两个表达式的二进制表示法的值，并执行按位“与”操作。 
0101 (expression1)
1100 (expression2)
----
0100 (result)
任何时候，只要两个表达式的某位都为 1，则结果的该位为 1。否则，结果的该位为 0。

按位左移 &lt;&lt; :
&lt;&lt; 运算符把 expression1 的所有位向左移 expression2 指定的位数。例如： 
var temp
temp = 14 &lt;&lt; 2
变量 temp 的值为 56，因为 14 （即二进制的 00001110）向左移两位等于 56 （即二进制的 00111000）。

按位取反 ~ :
所有一元运算符，如 ~ 运算符，以如下规则来求表达式的值： 
如果将它用于未定义或 null 表达式，则产生一个运行时错误。 
对象被转换成字符串。 
如果可能，字符串被转换为数字。如果不能，则产生一个运行时错误。 
Boolean 值被当作数字（如果是 false 则为 0，如果是 true 则为 1）。 
用该运算符来生成数字。
~ 运算符查看表达式的二进制表示法的值，并执行按位非操作。该操作的结果如下所示： 
0101 (expression)
----
1010 (result)
表达式中的任何一位为 1，则在结果中相应位变为 0。表达式中的任何一位为 0，则在结果中相应位变为 1。

按位或 | :
| 运算符查看两个表达式的二进制表示法的值，并执行按位“或”操作。该操作的结果如下所示： 
0101 (expression1)
1100 (expression2)
----
1101 (result)
任何时候，只要任一表达式的一位为 1，则结果的该位为 1。否则，结果的该位为 0。


按位右移 &gt;&gt; :
&gt;&gt; 运算符把 expression1 的所有位向右移 expression2 指定的位数。expression1 的符号位被用来填充右移后左边空出来的位。向右移出的位被丢弃。例如，下面的代码被求值后，temp 的值是 -4：-14 （即二进制的 11110010）右移两位等于 -4 （即二进制的 11111100）。
var temp
temp = -14 &gt;&gt; 2

按位异或 ^ :
^ 运算符查看两个表达式的二进制表示法的值，并执行按位异或。该操作的结果如下所示： 
0101 (expression1)
1100 (expression2)
----
1001 (result)
当且仅当只有一个表达式的某位上为 1 时，结果的该位才为 1。否则结果的该位为 0。

无符号右移 &gt;&gt;&gt; :
&gt;&gt;&gt; 运算符把 expression1 的各个位向右移 expression2 指定的位数。右移后左边空出的位用零来填充。移出右边的位被丢弃。例如： 
var temp
temp = -14 &gt;&gt;&gt; 2
变量 temp 的值为 -14 （即二进制的 11111111 11111111 11111111 11110010），向右移两位后等于 1073741820 （即二进制的 00111111 11111111 11111111 11111100）。

日志标题：在FormBuilder里,实现全选
发表时间：2006-7-31 9:31:00
日志内容：学习备忘录,如何在FormBuilder里,实现全选 http://files.myopera.com/xlingFairy/swf/checkBox.swf 反选只不过是改改程序而以. 







观看录像

function showVideo(){
 oWin = window.open("");
 oWin.document.body.innerHTML = document.getElementById("xmp0001").innerHTML;
}



日志标题：用FormBuilder做只保存选中的记录
发表时间：2006-7-31 13:16:00
日志内容：学习备忘录:
如何只保存选中的记录
http://files.myopera.com/xlingFairy/oracle/CheckSAVE.swf




日志标题：MIDP2.0的图形缩放类
发表时间：2006-8-2 21:58:00
日志内容：刚调试通过.
是基于网上的一个NOKIA的图片缩放方法,我把它改成了适用于MIDP2.0的类了.
原来的程序里面有一个隐藏的错误,隐藏的好深啊!找了好几个小时才找到.
先把源码贴上来,用于备份,明天在写注解.

import javax.microedition.lcdui.*;public class ZoomImage { int[] srcBuffer,desBuffer;//Must be int[] public ZoomImage() {
 } public static Image getImage(Image srcImg,int desWidth,int desHeight){ ZoomImage instance = new ZoomImage();
 int srcWidth,srcHeight; srcWidth = srcImg.getWidth(); srcHeight = srcImg.getHeight(); instance.srcBuffer = new int[srcWidth * srcHeight]; srcImg.getRGB(instance.srcBuffer,0,srcWidth,0,0,srcWidth,srcHeight);
 short[] tabX = new short[desWidth]; short[] tabY = new short[desHeight];
 /////////////////////////////////////////////////////////////////////// short srcIndex = 0,desIndex = 0; short srcTemp = 0,desTemp = 0; int destince = srcHeight &gt; desHeight ? srcHeight : desHeight; for(int i=0;i&lt;destince;i++){ tabY[desIndex] = srcIndex; srcTemp += srcHeight; desTemp += desHeight;
 if(srcTemp &gt;destince){ srcTemp -=destince; srcIndex++; } if(desTemp &gt; destince){ desTemp -=destince; desIndex++; } }
 //////////////////////////////////////////////////////////////////////// srcIndex = 0;desIndex =0; srcTemp =0;desTemp =0; destince = srcWidth &gt; desWidth ? srcWidth : desWidth; for(int i=0;i&lt;destince;i++){ tabX[desIndex] = srcIndex; srcTemp += srcWidth; desTemp += desWidth;
 if(srcTemp &gt; destince){ srcTemp -= destince; srcIndex ++; } if(desTemp &gt; destince){ desTemp -= destince; desIndex ++; } }
 /////////////////////////////////////////////////////////////////////// instance.desBuffer = new int[desWidth * desHeight]; int desX = 0,desY = 0,srcX = 0,srcY = 0; int oldY = -1; for(int i=0;i&lt;desHeight;i++){ if(oldY == tabY[i]) System.arraycopy(instance.desBuffer, desY - desWidth, instance.desBuffer, desY, desWidth); else{ desX = 0; for (int j = 0; j &lt; desWidth; j++) { try{ instance.desBuffer[desY + desX] = instance.srcBuffer[srcY + tabX[j]]; }catch(ArrayIndexOutOfBoundsException e){ instance.desBuffer[desY + desX] = instance.srcBuffer[instance.srcBuffer.length - 1]; } desX++; } srcY += (tabY[i] - oldY) * srcWidth;/////////////////////////// } oldY = tabY[i]; desY += desWidth; }
 Image desImg; desImg = Image.createRGBImage(instance.desBuffer,desWidth,desHeight,true);
 return desImg; }}
以下是调用示例:

import javax.microedition.lcdui.*;
public class RGBCanvas extends Canvas implements CommandListener { private int[] pixelArray; private Image smallImg; public RGBCanvas() { try { jbInit(); } catch(Exception e) { e.printStackTrace(); } }
 private void jbInit() throws Exception { Image testImg = Image.createImage("/res/2.gif"); smallImg = ZoomImage.getImage(testImg,getWidth(),26); setCommandListener(this); addCommand(new Command("Exit", Command.EXIT, 1)); }
 public void commandAction(Command command, Displayable displayable) { if (command.getCommandType() == Command.EXIT) { DrawRGBMIDlet.quitApp(); } }
 protected void paint(Graphics g) { g.setColor(0xffffff); g.fillRect(0,0,getWidth(),getHeight());
 g.drawImage(smallImg,0,0,Graphics.TOP | Graphics.LEFT); }
}


日志标题：经典Flash动画,有趣
发表时间：2006-8-4 20:56:00
日志内容：在ChinaRen上看到的,可能又要有人说火星了.
管他的呢,反正我是地球人!




日志标题：装了一个Oracle 10g
发表时间：2006-8-15 20:38:00
日志内容：说来惭愧，做了这么长时间的Oracle程序员了（虽然只是做做报表，修改修改Form程序），居然没有见过Oracle主程序长什么样！不过，也怨不得我，台湾人是小气出了名的，对大陆的员工总是存在一种戒备心理的。
　　老大回去一个多星期了，总算自由了。工作做完了，在也不用对着屏幕发呆了！
　　以前总以为像我这样的机子，不能装Oracle，其实装了，如果只有一个数据库的话，速度还是蛮快的！（当然，只能用来学习）
　　下面是配置：　　Pentium(R) 4 CPU 3.00GHz　　2.99GHz,512MB内存　　120G硬盘
　　在E（30G）盘装了个XP，装上Oracle Developer Suite ，和DataBase 之后，可用空间只有16G了，看来，Oracle还是相当大的。
　　一开始什么也不知道，在网上找了几篇如何安装Oracle的文章，在同事（以离职，机子空闲）的机子上找了个Oracle Developer Suite，很顺利的就装上去了。开始还在纳闷，咋就这么顺利呢？什么也没有设置，就装上去了！结果找了好长时间，看如何新增数库，愣是没有找到，还卸掉重装了一次。细看了一下开始菜单，才发现：Oracle Developer Suite ,原来是Oracle 开发者套件！汗...
　　到Oracle的官方网站上下了一个Oracle 10g,这下才算是大开眼界。其实，在安装的时候，如果不明白，跟本就不用到网上看如何安装，在安装的每一个界面上都有一个　帮助　按钮，帮助文件写的很详细。
　　在安装的时候，会让你选择是否新建一个数据库的，当然也可以不建。
　　安装完成之后，可以通过Database Configuration Assistant这个程序新增数据库，但是要注意，这样的配置运行一个数据库，速度还算可以（内存占用633M，设置了虚拟内存），如果在新增一个数据库，那就不行了，我昨晚新增第二个数据库时，上面提示，要为第二个数库最少分配至少40％几的内存（200多M），两个数据库同时运行，内存占用近900M，点鼠标都有死机的可能！汗...
　　现在还没有找到如何在界面上新增用什么的功能。还要学习！免得把人丢到家了！
　　下面是安装过程的抓图：












日志标题：上周的两个没有完成的小游戏
发表时间：2006-8-17 19:31:00
日志内容：上周写了两个小程序,都没有完成,这两周工作有点忙,没有时间搞,所以就没有在写了.
　　一个是俄罗斯方块,一开始思路就有些不对,一边写一边更改思路,结果到好,写不下去了!其实在用一点功,把判断是否能旋转,消去以满的行和下一个块的预览给完成就算大功告成了.
　　另一个是一个简单的RPG,写它主要是为了练习LayerManager和TiledLayer,这两个类的用法我一个多月前就看过了,一直没有实际的去用它.看书上,高手说写RPG游戏一般是不用这种东东，而是用Graphics的setClip()和drawImage()来实现相同的功能的.
247 771预览:http://my.opera.com/xlingFairy/homes/swf/fangkuai.swfhttp://files.myopera.com/xlingFairy/swf/hero.swf源码下载:http://files.myopera.com/xlingFairy/soft/fangKuai.rarhttp://my.opera.com/xlingFairy/homes/soft/Hero.rar





日志标题：视频：JBuilder2006&nbsp;连接&nbsp;Oracle10g
发表时间：2006-8-19 15:51:00
日志内容：格式：SWF
大小：3.94M，
如果想看，请耐心等待。
http://files.myopera.com/xlingFairy/swf/JavaOracle.html
用于演示的JBuilder工程文件：
UploadFiles/2006-8/819425466.rar

日志标题：Oracle，用一句SQL选出一棵树
发表时间：2006-8-20 15:00:00
日志内容：

语法：
SELECT * FROM TABLE_NAMECONNECT BY PRIOR CURR_FLD = PARENT_FLDSTART WITH CURR_FLD = 'VALUE'
CURR_FLD:以这个字段为基本字段，
PARENT_FLD:通过这个字段来关联两个记录。
即，A记录的PARENT_FLD　如果等于B记录的CURR_FLD,那么，B就是A的父节点。
通过上面的SQL语句，可以选出以　VALUE　为起点的，所有父记录，或所有子记录，具体要看START WITH的是哪个字段。
如下例所示，选出的是　1308-0180000102　的所有父节点，及父节的父节点：
SELECT * FROM ASP_BOM WHERE COMP_NO = 'JD0201'CONNECT BY PRIOR PARENT_PART_NO = COMPONENT_PART_NO START WITH COMPONENT_PART_NO = '1308-0180000102'

如下例所示，将选出所有　5207-0070201010　的子节点，及子点的子节点：
SELECT *FROM ASP_BOMWHERE COMP_NO = 'JD0201'CONNECT BY PRIOR COMPONENT_PART_NO = PARENT_PART_NO START WITH PARENT_PART_NO = '5207-0070201010'

日志标题：I&nbsp;can't&nbsp;live,without&nbsp;you!
发表时间：2006-8-20 19:55:00
日志内容：四年了，我每次都对自己说：永不言弃。
可是到最后...
男人三十而立，可你...
我没有办法让自己一口吃个胖子。
如果...
心情比较复杂，只能返覆的听这首歌：
Without You:
 
Without You 
No I can't forget this eveningOr your face as you were leavingBut I guess that&acute;s just the way the story goesYou always smile but in your eyesYour sorrow showsYes it shows
No Ican&acute;t forget tomorrowWhen I think of all mysorrowWhen I had you there but then I letyou goAnd now it&acute;s only fairThat I should let you knowWhat you should know
HOOK:I can&acute;t liveIf living is without youI can&acute;t liveI can&acute;t give any moreI can&acute;t liveIf living is without youI can&acute;t giveI can&acute;t give any more
Well Ican&acute;t forget this eveningOr your face as you were leavingBut Iguess that&acute;s just the way the story goesYou always smile but in your eyesYour sorrow showsYes it shows

日志标题：两个Oracle相关的教程下载站
发表时间：2006-8-21 22:09:00
日志内容：记录:
http://www.chinaccna.com/Oraclebook.htm
http://download.chinaitlab.com/special/oracleebook.htm

日志标题：哈哈，好历害的魔波啊！
发表时间：2006-8-23 9:19:00
日志内容：昨天还好好的，
　　今天一起来，大面积中毒！
　　Baidu.com一打就变成垃圾网站，google.com打不开，microsoft.com打不开，没有办法在线升级。还好，偶的电脑每次都及时升级，没有中毒。另一个MIS把DNS给改了一下，baidu.com等网站又能正常访问了！
　　只是到现在经典主站都不能打开，看来，有可能是经典中毒了！

日志标题：在数据库里做约束的Form&nbsp;9i演示.
发表时间：2006-8-26 16:01:00
日志内容：
独自摸了几天,总算搞明了如何用Oracle Developer suit(开发套件)连接Oracle数据库了,要先用Net Configuration Assistant配置监听程序,然后在配置本地网络服务名.下周在录个视频,这里就不说了.

下面是在本机写的第一个Form程序.仅供参考.(以前都是远程登陆到服务器上写的,而且是Form 6i的,好多东西都没有接触过)
下载: http://my.opera.com/xlingFairy/homes/soft/first9iForm.rar
文字太多,被自动截断了,如果想看,就下载了在看吧.
效果: 




日志标题：OracleZ言排序
发表时间：2006-8-28 19:59:00
日志内容：在Oracle中,默认是以英语进行排序的,而且是按ASCII码进和排序的，比如：

　　虽然　sOSO和　SOSO只有一个字母的大小写之差，但是它们中间却不能排在一起．因为它们首字母的ASCII字母不同．
　　当然，我们可以用 SELECT * FROM EMPLOYEE ORDER BY UPPER(EMP_NAME)来进行大小写忽略排序，但是在ORDER BY 子句中使用UPPER()等函数时，需要小心，因为除非创建并启用函数索引，否帽效率会非常低．
　　Oracle9i之前，中文是按照二进制编码进行排序的。 　　在oracle9i中新增了按照拼音、部首、笔画排序功能。设置NLS_SORT值： 　　　SCHINESE_RADICAL_M 按照部首（第一顺序）、笔划（第二顺序）排序 　　　SCHINESE_STROKE_M 按照笔划（第一顺序）、部首（第二顺序）排序 　　　SCHINESE_PINYIN_M 按照拼音排序 
　　下面是这三种的排序的示例：



ALTER SESSION SET NLS_SORT = 'SCHINESE_RADICAL_M'
的值一直保持此次会话结束或另一个ALTER SESSION对其进行了修改．

日志标题：PL/SQL 细节问题之FOR..LOOP
发表时间：2006-8-29 10:10:00
日志内容：
语法：
FOR counter IN [REVERSE] lower_bound..higher_bound LOOP statementsEND LOOP;
如果指明REVERSE，就递减．
注意那个counter，它的作用域只在这个循环之内，如果在它之外，存在一个同名的变量，那个变量不会起作用．如：

递增或递减的值永远是１，就是说，不提供像其它语言中提供的STEP功能,也没有提供BREAK和CONTINUE的功能．
此细节一定要注意，说不定哪天去面试，就会出这道题．

日志标题：大汗...buffer overflow
发表时间：2006-8-30 7:52:00
日志内容：下面这段代码，咋一看没有什么问题，但是一运行，就会提示：ORA-20000: ORU-10027: buffer overflow, limit of 2000 bytes

SET SERVEROUT ONDECLARE ROW1 EMPLOYEE%ROWTYPE;  CURSOR EMPLOYEE_CURR IS  SELECT * FROM EMPLOYEE;BEGIN OPEN EMPLOYEE_CURR; FETCH EMPLOYEE_CURR INTO ROW1;  LOOP  EXIT WHEN EMPLOYEE_CURR%NOTFOUND OR EMPLOYEE_CURR%NOTFOUND IS NULL; DBMS_OUTPUT.PUT_LINE(ROW1.GUID || ' ' || ROW1.EMP_NO || ' ' || ROW1.EMP_NAME || ' ' || ROW1.COMP_NO ); END LOOP; CLOSE EMPLOYEE_CURR;END;
改成 SET ERVEROUT ON SIZE 1000000 也不行，用了DBMS_OUTPUT.ENABLE(1000000)也不行，错误画面如下：


There are several solutions to this dilemma. One approach is to increase the buffer size of the DBMS_OUTPUT buffer with a call to the ENABLE procedure. This will set the size in bytes for the buffer with the largest possible value of 1,000,000. To increase the buffer size to 200,000, insert the following statement in your code:
DBMS_OUTPUT.ENABLE(200000);
Buffer最大只能设为：1000000，我都把它设到2000000（当然不会生效）了，还是提示有这个错误！
刚才又仔细的看了一遍，原来是有一句放错了位置，汗死...

SET SERVEROUT ONDECLARE ROW1 EMPLOYEE%ROWTYPE;  CURSOR EMPLOYEE_CURR IS  SELECT * FROM EMPLOYEE;BEGIN OPEN EMPLOYEE_CURR;   LOOP  FETCH EMPLOYEE_CURR INTO ROW1;   EXIT WHEN EMPLOYEE_CURR%NOTFOUND OR EMPLOYEE_CURR%NOTFOUND IS NULL; DBMS_OUTPUT.PUT_LINE(ROW1.GUID || ' ' || ROW1.EMP_NO || ' ' || ROW1.EMP_NAME || ' ' || ROW1.COMP_NO ); END LOOP; CLOSE EMPLOYEE_CURR;END;

日志标题：JAVA存储过程
发表时间：2006-8-31 8:22:00
日志内容：从Oracle8i起，Oracle就在数据库内部包含了JVM．在数据库中包含JVM可以使JAVA方法在数据库内部运行．　　JAVA存储过程实际上是一种方法，但是JAVA要求之一就是任何事物都必须属于某个类(即，必须是static方法)．　　为了与数据库进行交互，JAVA方法需要取得某个连接．当方法在数据库内作为存储过程运行时，有两种方式实现此连接．　　　　DriverManager.defaultConnection();　　DriverManager.getConnection("jdbc:default:connection"); 
　　第一种方法总是返回同一个Connection对象，而二个方法每次都返回新的对象．
　　为了在数据库外面测试JAVA存储过程，需要使用Oracle JDBC在main()方法内取得一个连接．
　　通过命令行：loadjava可以把JAVA源码，类或jar或zip文件装入数据库．如果装入的是源代码，在默认的情况下是不会编译这些源码，直到第一次调用时才编译．如果加上 -resolve选项，则立即进行编译．
　　loadjava -resolve -user username/password javaFile.java
　　也可以在调试成功的JAVA文件头部加入：　　CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED "JavaClassTest" AS　　如下：　　CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED "JavaClassTest" AS　　import java.sql.*;　　import oracle.jdbc.*;　　...　　//JAVA类的主体　　...　　　　然后在SQL PLUS里，或TOAD里直接运行．
　　为了使用存储过程，需要创建调用规范，把参数和返回类型映射为PL/SQL类型，即发布存储过程．

　　语法如下：CREATE [OR REPLACE] FUNCTION funciton_name [(parameter_list)]RETURN SQL_TYEP {AS | IS}LANGUAGE JAVANAME 'class_name.method_name([full_java_type[,...]]) return full_java_type';
CREATE [OR REPLACE] PROCEDURE procedure_name [(parameter_list)] {AS | IS}LANGUAGE JAVANAME 'class_name.method_name([full_java_type[,...]])';
　　之后，可以用：　　SELECT function_name(parm) FROM DUAL;　　的格式调用此函数．
　　在JAVA中，OUT或IN OUT参数必须对应为数组类型，即一般是适当类型的单元素数组，如：

Java方法：--------------------------------------------------------------public static void myMethod(int GUID,String[] outName){ outName[0] = myMethod(GUID);}
Oracle存储过程--------------------------------------------------------------CREATE OR REPLACE PROCEDURE JAVA_TEST2(I_GUID IN NUMBER,O_NAME OUT VARCHAR2) ASLANGUAGE JAVANAME 'JavaClassTest.myMethod(int,java.lang.String[])';
--------------------------------------------------------------SET SERVEROUT ONDECLAREOUTVAR VARCHAR2(200);BEGINJAVA_TEST2(3493,OUTVAR);DBMS_OUTPUT.PUT_LINE(OUTVAR);END;




源程序下载：http://my.opera.com/xlingFairy/homes/files/javaProcedures.doc

日志标题：蓝色主站登陆的问题
发表时间：2006-8-31 20:46:00
日志内容：为什么我打不开蓝色的论坛，却可以进BLOG？
有时可以看到标题，但是等了十几分钟，仍见不到任何内容．
请进来的朋友留个言，你们能正常访问吗？
谢谢．

日志标题：Oracle对象类型
发表时间：2006-9-2 13:57:00
日志内容：Oracle对象类型也有属性和方法．　　创建对象类型与创建表很相似，只是实际上不为存储的数据分配空间：
　　不带方法的简单对象类型：
CREATE TYPE type_name as OBJECT (column_1 type1,column_2 type2,...);
　　注意：AS OBJECT
　　创建好对象类型之后，就可以在创建表的时候，使用该类型了，如：
CREATE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1),-- F : FEMALE M:MALE  BIRTHDAY DATE, NOTE VARCHAR2(300))
　　稍后，可以用下面的语句查看：
SELECT * FROM USER_OBJECTS WHERE OBJECT_TYPE = 'TYPE'
CREATE TABLE STUDENTS( GUID NUMBER NOT NULL, STUDENTS HUMAN)
　　此下省去两个Trigger.　　插入数据的时候，可以如下：
INSERT INTO STUDENTS (STUDENT) VALUES (HUMAN('xling','M',TO_DATE('20060101','YYYYMMDD'),'测试'))
　　注意：HUMAN('xling','M',TO_DATE('20060101','YYYYMMDD'),'测试')，这是个默认的构造函数．　　如果想选出性别为女（F）的记录，可以如下：
SELECT * FROM STUDENTS S WHERE S.STUDENT.SEX = 'F'
　　注意：不能写成：SELECT * FROM STUDENTS WHERE STUDENT.SEX = 'F' 这样会报如下错误：ORA-00904: "STUDENT"."SEX": 标识符无效
　　对象类型表：每条记录都是对象的表，称为对象类型表．它有两个使用方法：1，用作只有一个对象类型字段的表．2,用作具有对象类型字段的标准关系表．　　语法如下：
CREATE TABLE table_name OF object_type;
　　例如：
CREATE TABLE TMP_STUDENTS OF HUMAN;
　　用DESC TMP_STUDENTS，可以看到它的字段结构和HUMAN的结构一样．　　对象类型表有两个优点：1,从某种程度上简化了对象的使用，因为对象表的字段类型与对象类型是一致的，所以，不需要用对象名来修饰对象属性，可以把数据插入对象类型表，就像插入普通的关系表中一样：
INSERT INTO TMP_STUDENTS VALUES ('xling','M',TO_DATE('20060601','YYYYMMDD'),'对象类型表');　　当然也可用如下方法插入：INSERT INTO TMP_STUDENTS VALUES (HUMAN('snow','F',TO_DATE('20060102','YYYYMMDD'),'用类型的构造函数'));
　　第二个特点是：对象表是使用对象类型作为模板来创建表的一种便捷方式，它可以确保多个表具有相同的结构．
　　对象类型表在：USER_TABLES表里是查不到的，而在USER_OBJECTS表里可以查到，而且OBJECT_TYPE = 'TABLE'
　　类型在定义的时候，会自动包含一个方法，即默认的构造器．构造器的名称与对象的名称相同，它带有变量与对象类型的每个属性相对应．
　　对象类型的方法：
CREATE TYPE type_name AS OBJECT (column1 column_type1,column2 column_type2,... ,MEMBER FUNCTION method_name(args_list) RETURN return_type,...)
　　注意：是MEMBER FUNCTION,(当然，也可是MEMBER PROCEDURE,没有返回值)
　　和包（PACKAGE）一样，如果对象类型有方法的话，还要声明一个BODY:
CREATE TYPE BODY type_name ASMEMBER FUNCTION method_name RETURN return_type {AS | IS}variable declareations..BEGINCODE..RETURN return_value;END;//END MEMBER FUNCTION...END;//END TYPE BODY
　　如下所示：

CREATE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1),-- F : FEMALE M:MALE  BIRTHDAY DATE, NOTE VARCHAR2(300),  MEMBER FUNCTION GET_AGE RETURN NUMBER)
--BODY CREATE TYPE BODY HUMAN AS MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_MONTHS NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,BIRTHDAY)/12) INTO V_MONTHS FROM DUAL;RETURN V_MONTHS; END; END;
　　　　注意：BODY的格式，不是AS OBJECT,也不是用小括号括起来的．MEMBER FUNCTION 后的AS或IS不能省略．　　还以STUDENTS表为例（注：如果类型以被某个表使用，是不能修改的，必须把相关的表删除，然后把类型删除，在一个一个新建，这里就省略了，参见前文所述）
SELECT S.STUDENT.GET_AGE() FROM STUDENTS S
　　　　在提起注意：表名一定要有别名．GET_AGE()的括号不能省略，否则会提示错误．
　　下面演示在一个匿名过程中的使用情况：
SET SERVEROUTPUT ONDECLARE AA HUMAN; AGE NUMBER;BEGIN AA := HUMAN('xingFairy','M',TO_DATE('19830714','YYYYMMDD'),'过程'); AGE := AA.GET_AGE(); DBMS_OUTPUT.PUT_LINE(AGE);END;
　　映射方法：　　映射方法是一种不带参数，并返回标准的标量Oracle SQL数据类型的方法，如NUMBER,VARCHAR2，Oracle将间接地使用这些方法执行比较运算．　　映射方法最重要的一个特点是：当在WHERE或ORDER BY等比较关系子句中使用对象时，会间接地使用映射方法．　　映射方法的声明只过是在普通方法声明的前面加一个 MAP而以，注意：映射方法是一种不带参数的方法．MAP MEMBER FUNCTION function_name RETURN return_type
　　修改前文提到的HUMAN类型：--映射方法　MAP 

CREATE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1),-- F : FEMALE M:MALE  BIRTHDAY DATE,--注册日期　 REGISTERDAY DATE, NOTE VARCHAR2(300),  MEMBER FUNCTION GET_AGE RETURN NUMBER, MAP MEMBER FUNCTION GET_GRADE RETURN NUMBER)
CREATE TYPE BODY HUMAN AS ----------------------- MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_MONTHS NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,BIRTHDAY)/12) INTO V_MONTHS FROM DUAL;RETURN V_MONTHS; END; ------------------------ MAP MEMBER FUNCTION GET_GRADE RETURN NUMBER AS BEGIN RETURN MONTHS_BETWEEN(SYSDATE,BIRTHDAY); END;  END;
　　插入数据：
INSERT INTO STUDENTS (STUDENT) VALUES (HUMAN('xling','M',TO_DATE('19830714','YYYYMMDD'),TO_DATE('20020915','YYYYMMDD'),'测试MAP方法'));INSERT INTO STUDENTS (STUDENT) VALUES (HUMAN('fairy','M',TO_DATE('19830714','YYYYMMDD'),TO_DATE('20010915','YYYYMMDD'),'测试MAP方法'));INSERT INTO STUDENTS (STUDENT) VALUES (HUMAN('snow','M',TO_DATE('19830714','YYYYMMDD'),TO_DATE('20020915','YYYYMMDD'),'测试MAP方法'));
　　在执行上面的操作后，用下面这个SELECT语句可以看出映射方法的效果：SELECT S.STUDENT.NAME,S.STUDENT.GET_GRADE() FROM STUDENTS S ORDER BY STUDENT　　它是按MAP方法GET_GRADE()的值进行排序的．注意是ORDER BY STUDENT,在提起一次需要注意，一定要用表的别名，方法后的括号不能省略，即使没有参数．　　如果想以MAP方法的结果为条件，可以如下：
SELECT S.STUDENT.NAME,S.STUDENT.GET_GRADE() FROM STUDENTS S WHERE S.STUDENT.GET_GRADE() &gt; 50SELECT S.STUDENT.NAME,S.STUDENT.GET_GRADE() FROM STUDENTS S WHERE STUDENT &gt; HUMAN(NULL,NULL,NULL,TO_DATE('20020101','YYYYMMDD'),NULL);
　　排序方法：　　先说一下SELF，Oracle里对象的SELF和JAVA里的this是同一个意思．　　对象的排序方法具有一个与对象类型相同的参数，暂称为ARG1，用于和SELF对象进行比较．如果调用方法的SELF对象比ARG1小，返回负值，如果相等，返回0，如果SELF大于ARG1，则返回值大于0．
--映射方法　MAP 

CREATE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1),-- F : FEMALE M:MALE  BIRTHDAY DATE, REGISTERDAY DATE, NOTE VARCHAR2(300),  MEMBER FUNCTION GET_AGE RETURN NUMBER, ORDER MEMBER FUNCTION MATCH(I_STUDENT IN HUMAN) RETURN NUMBER)
CREATE TYPE BODY HUMAN AS ----------------------- MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_MONTHS NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,BIRTHDAY)/12) INTO V_MONTHS FROM DUAL;RETURN V_MONTHS; END; ------------------------ ORDER MEMBER FUNCTION MATCH(I_STUDENT IN HUMAN) RETURN NUMBER AS BEGIN RETURN REGISTERDAY - I_STUDENT.REGISTERDAY; END;  END;
　　注意：在声明的时候，ORDER方法的参数类型要和SELF的类型一致．

SET SERVEROUTPUT ONDECLARE S1 HUMAN; S2 HUMAN;BEGIN  S1 := HUMAN('xling',NULL,NULL,TO_DATE('20020915','YYYYMMDD'),NULL); S2 := HUMAN('snow',NULL,NULL,TO_DATE('20010915','YYYYMMDD'),NULL);  IF S1 &gt; S2 THEN  DBMS_OUTPUT.PUT_LINE(S1.NAME); ELSIF S1 &lt; S2 THEN  DBMS_OUTPUT.PUT_LINE(S2.NAME); ELSE  DBMS_OUTPUT.PUT_LINE('EQUAL'); END IF; END;
　　注意S1 和 S2是怎么比较的．
　　映射方法具有效率方面的优势，因为它把每个对象与单个标量值联系在一起；排序方法有灵活方面的优势，它可以在两个对象之间进行任意复杂的比较．排序方法比映射方法的速度慢．
文中所有的SQL文件下载：http://my.opera.com/xlingFairy/homes/files/OracleType.sql



日志标题：Oracle&nbsp;嵌套表&nbsp;Nested&nbsp;Table
发表时间：2006-9-3 11:15:00
日志内容：Oracle中有两种集合，分别是嵌套表和VARRAY它们在存储的数据类型方面具有相似之处，因为它们都可以包含对象，两者的区别为：嵌套表 ．尺寸没有限制。 ．本质上是无序的VARRAY．尺寸必须固定，所有的实例尺寸相同。．在过程化语言中可以作为有序数组进行检索但在Oracle内部看成单个不能分割的单元。．存储效率高。
----------------------------------------------------嵌套表CREATE TYPE SCORE_NESTED AS TABLE OF NUMBER;
---------------------------------------------------在表中使用嵌套表　CREATE TABLE PLAYER( GUID NUMBER, NAME VARCHAR2(20), SCORE SCORE_NESTED)NESTED TABLE SCORE STORE AS PLAYER_SCORE; 
CREATE OR REPLACE TRIGGER PLAYER_T_I1BEFORE INSERT ON PLAYER REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGIN :NEW.GUID := XLING_PKG_TOOLS.F_GET_NEXTVAL('PLAYER');END;
CREATE OR REPLACE TRIGGER PLAYER_T_D1BEFORE UPDATE ON PLAYER REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGIN XLING_PKG_TOOLS.P_DELETE_GUID(:OLD.GUID);END;
---------------------------------------------------向嵌套表中插入数据．INSERT INTO PLAYER (NAME,SCORE) VALUES ('xling',SCORE_NESTED(100,100,98,105,90))INSERT INTO PLAYER (NAME,SCORE) VALUES ('snow',SCORE_NESTED(105,98,90,100,90));
SELECT * FROM PLAYER---------------------------------------------------追加数据INSERT INTO TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling') VALUES (110);--INSERT INTO TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'snow') VALUES (SCORE_NESTED(100,100));--ORA-00932: 数据类型不一致: 应为 NUMBER, 但却获得 XLING.SCORE_NESTED ---------------------------------------------------选出套表数据SELECT * FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling')--SELECT * FROM TABLE(SELECT SCORE FROM PLAYER) 错误：ORA-01427:单行子查询返回多行---------------------------------------------------更新套表UPDATE PLAYER SET SCORE = SCORE_NESTED(100,200) WHERE NAME = 'xling'SELECT * FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling');---------------------------------------------------删除套表UPDATE PLAYER SET SCORE = NULL WHERE NAME = 'xling'SELECT * FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling');--INSERT INTO TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling') VALUES (200) --由于以把记录中的套表删除了，所以会引发：ORA-22908: NULL 表值的参考-------------------------------------------------DROP TABLE PLAYERDROP TYPE SCORE_NESTED
CREATE TYPE SCORE_TYPE AS OBJECT( NO NUMBER, ITEM VARCHAR2(60), SCORE NUMBER) 
CREATE TYPE SCORE_NESTED AS TABLE OF SCORE_TYPE;
CREATE TABLE PLAYER( GUID NUMBER, NAME VARCHAR2(20), SCORE SCORE_NESTED)NESTED TABLE SCORE STORE AS SCORE_NESTED_TABLE
CREATE OR REPLACE TRIGGER PLAYER_T_I1BEFORE INSERT ON PLAYER REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGIN :NEW.GUID := XLING_PKG_TOOLS.F_GET_NEXTVAL('PLAYER');END;
CREATE OR REPLACE TRIGGER PLAYER_T_D1BEFORE UPDATE ON PLAYER REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGIN XLING_PKG_TOOLS.P_DELETE_GUID(:OLD.GUID);END;
INSERT INTO PLAYER (NAME,SCORE) VALUES ('xling',SCORE_NESTED(SCORE_TYPE(1,'上山',100), SCORE_TYPE(2,'下海',100), SCORE_TYPE(3,'摸鱼',90), SCORE_TYPE(4,'骑猪',80) ))INSERT INTO PLAYER (NAME,SCORE) VALUES ('werewi',SCORE_NESTED(SCORE_TYPE(1,'泡妞',100), SCORE_TYPE(2,'考研',150), SCORE_TYPE(3,'摸鱼',90) )) SELECT * FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling');SELECT * FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'werewi');
SELECT 'xling',S.ITEM,S.SCORE FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'xling') SUNION ALL  SELECT 'werewi',S.ITEM,S.SCORE FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = 'werewi') S 
---------------------------------------------------------------------------------------------------/*SET SERVEROUTPUT ONDECLARE V_NAME VARCHAR2(20); V_SQL VARCHAR2(32767);BEGIN V_SQL := ''; FOR CC IN (SELECT NAME FROM PLAYER) LOOP V_SQL := V_SQL || 'SELECT ''' || CC.NAME || ''',S.ITEM,S.SCORE FROM TABLE(SELECT SCORE FROM PLAYER WHERE NAME = '''|| CC.NAME ||''') S UNION ALL '; END LOOP; V_SQL := V_SQL || 'SELECT NULL,NULL,NULL FROM DUAL'; DBMS_OUTPUT.PUT_LINE(V_SQL);  EXECUTE IMMEDIATE V_SQL; DBMS_OUTPUT.PUT_LINE(SQL%ROWCOUNT);END;*/------------------------------------------------------------------------------------------------------ 选出所有记录SELECT  GUID,NAME,S.*FROMPLAYER P,TABLE(P.SCORE) S ----------------------------------------------------------------------------------------------------

日志标题：Oracle对象类型的继承
发表时间：2006-9-5 8:51:00
日志内容：继承／覆盖／重载
----------------------------------------------------------对象的继承,注意：UNDER DROP TYPE HUMANCREATE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), -- M :MALE F:FEMALE  BIRTHDAY DATE) NOT FINAL;
CREATE TYPE EMPLOYEE_TYPE UNDER HUMAN( EMP_NO VARCHAR2(20), DEPT_NO VARCHAR2(20), JOB_TITLE VARCHAR2(60))------------------------------------------------------------下面体现 NOT FINAL 的作用：　DROP TYPE HUMANDROP TYPE EMPLOYEE_TYPECREATE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE)
CREATE TYPE EMPLOYEE_TYPE UNDER HUMAN( EMP_NO VARCHAR2(20), DEPT_NO VARCHAR2(20), JOB_TITLE VARCHAR2(60))
/*　对象类型默认为 FINAL ,即不能派生子类．由于HUMAN 没有加：NOT FINAL ，所以，它不能作为另一个类型的超类，在创建EMPLOYEE_TYPE 的时候，产生一个错误：PLS-00590: 正在尝试创建一个最终类型的子类型 */
------------------------------------------------------------ 对象类型的方法也是可以继承的．DROP TYPE EMPLOYEE_TYPEDROP TYPE HUMAN
CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  MEMBER FUNCTION GET_AGE RETURN NUMBER) NOT FINAL;
CREATE OR REPLACE TYPE BODY HUMAN AS MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_NUM NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,TO_DATE('20060601','YYYYMMDD'))) INTO V_NUM FROM DUAL;RETURN V_NUM; END;END;
SELECT MONTHS_BETWEEN(SYSDATE,TO_DATE('20060601','YYYYMMDD')) FROM DUAL;
CREATE OR REPLACE TYPE EMPLOYEE_TYPE UNDER HUMAN( EMP_NO VARCHAR2(20), DEPT_NO VARCHAR2(20))
--存储过程　SET SERVEROUT ONDECLARE EMP1 EMPLOYEE_TYPE := EMPLOYEE_TYPE('xling','M',TO_DATE('20060601','YYYYMMDD'),'2060006','DPT0201');BEGIN DBMS_OUTPUT.PUT_LINE(EMP1.GET_AGE());END;
--表DROP TABLE EMPLOYEE
CREATE TABLE EMPLOYEE( GUID NUMBER NOT NULL, EMP EMPLOYEE_TYPE)
CREATE OR REPLACE TRIGGER EMPLOYEE_T_I1BEFORE INSERT ON EMPLOYEE REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGIN :NEW.GUID := XLING_PKG_TOOLS.F_GET_NEXTVAL('EMPLOYEE');END;
CREATE OR REPLACE TRIGGER EMPLOYEE_T_D1BEFORE DELETE ON EMPLOYEE REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGIN XLING_PKG_TOOLS.P_DELETE_GUID(:OLD.GUID);END;
INSERT INTO EMPLOYEE (EMP) VALUES (EMPLOYEE_TYPE('xling','M',TO_DATE('20060601','YYYYMMDD'),'2060006','DPT0201'));INSERT INTO EMPLOYEE (EMP) VALUES (EMPLOYEE_TYPE('snow','F',TO_DATE('20000601','YYYYMMDD'),'2060001','DPT0301'));INSERT INTO EMPLOYEE (EMP) VALUES (EMPLOYEE_TYPE('werewi','M',TO_DATE('20050601','YYYYMMDD'),'2060007','DPT0401'));
--提示错误：ORA-22905: 无法从非嵌套表项访问行-- TABLE 子句只能用在嵌套表？意思上有点像SELECT  GUID, I.NAME,I.SEX,I.BIRTHDAY,I.GET_AGE(),I.DEPT_NO,I.EMP_NO FROM  EMPLOYEE E, TABLE(E.EMP) 
--SELECT GUID, E.EMP.NAME,E.EMP.SEX,E.EMP.BIRTHDAY,E.EMP.GET_AGE(),E.EMP.EMP_NO,E.EMP.DEPT_NOFROMEMPLOYEE E------------------------------------------------------------------------------------------抽象类型，注意：NOT FINAL NOT INSTANTIABLE DROP TABLE EMPLOYEEDROP TYPE EMPLOYEE_TYPE
CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  MEMBER FUNCTION GET_AGE RETURN NUMBER) NOT FINAL NOT INSTANTIABLE 
CREATE OR REPLACE TYPE BODY HUMAN AS MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_NUM NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,TO_DATE('20060601','YYYYMMDD'))) INTO V_NUM FROM DUAL;RETURN V_NUM; END;END;
/*现在试图声明一个抽象类的实例，产生如下错误．PLS-00713: 正在试图实例化一种 NOT INSTANTIABLE 的类型 */DECLARE AMAN HUMAN := HUMAN('xling','M',TO_DATE('20060601','YYYYMMMDD'));BEGIN DBMS_OUTPUT.PUT_LINE(AMAN.GET_AGE());END;
---------------------------------------------------------抽象方法：拥有抽象方法的类型必须为抽象类型，抽象方法不能有主体
/*这样声明是不对的，因为具有抽象方法的对象类型必须是抽象类型*/CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  NOT INSTANTIABLE MEMBER FUNCTION GET_AGE RETURN NUMBER) NOT FINAL NOT INSTANTIABLE
--DROP TYPE HUMAN
CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  NOT INSTANTIABLE MEMBER FUNCTION GET_AGE RETURN NUMBER) NOT FINAL NOT INSTANTIABLE
/*抽象类型也不能有主体，如下会提示：PLS-00632: NOT INSTANTIABLE 方法不能具有主体*/CREATE OR REPLACE TYPE BODY HUMAN AS NOT INSTANTIABLE MEMBER FUNCTION GET_AGE RETURN NUMBER AS BEGIN NULL; END; END;DROP TYPE BODY HUMAN
/*只能为非 NOT INSTANTIABLE 的方法创建方法体*/DROP TYPE HUMAN
CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  NOT INSTANTIABLE MEMBER FUNCTION GET_AGE RETURN NUMBER, MEMBER FUNCTION TT RETURN NUMBER) NOT FINAL NOT INSTANTIABLE
CREATE OR REPLACE TYPE BODY HUMAN AS MEMBER FUNCTION TT RETURN NUMBER AS  V_NUM NUMBER; BEGIN SELECT MONTHS_BETWEEN(SYSDATE,BIRTHDAY) INTO V_NUM FROM DUAL;RETURN V_NUM; END;END;
/*在子类里实现超类的抽象方法，注意：OVERRIDING */
CREATE OR REPLACE TYPE EMPLOYEE_TYPE UNDER HUMAN( EMP_NO VARCHAR2(20), DEPT_NO VARCHAR2(20),  OVERRIDING MEMBER FUNCTION GET_AGE RETURN NUMBER )
CREATE OR REPLACE TYPE BODY EMPLOYEE_TYPE AS OVERRIDING MEMBER FUNCTION GET_AGE RETURN NUMBER AS V_NUM NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,BIRTHDAY)/12) INTO V_NUM FROM DUAL;RETURN V_NUM; END;END;
SET SERVEROUT ONDECLARE EMP1 EMPLOYEE_TYPE:= EMPLOYEE_TYPE('xling','M',TO_DATE('19840601','YYYYMMDD'),'2060006','DPT0201');BEGIN DBMS_OUTPUT.PUT_LINE(EMP1.GET_AGE());END;
/*覆盖并不限于 NOT INSTANTIABLE 方法，子类可以覆盖所有超类的方法，除非在超类的方法中用 FINAL 限制　*/
DROP TYPE EMPLOYEE_TYPEDROP TYPE HUMAN
CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  FINAL MEMBER FUNCTION GET_AGE RETURN NUMBER) NOT FINAL
CREATE OR REPLACE TYPE BODY HUMAN AS FINAL MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_NUM NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,BIRTHDAY)/12) INTO V_NUM FROM DUAL;RETURN V_NUM; END;END;
/*这里试图覆盖掉超类里的 FINAL 方法,提示错误：PLS-00637:无法覆盖FINAL 方法*/
CREATE OR REPLACE TYPE EMPLOYEE_TYPE UNDER HUMAN( EMP_NO VARCHAR2(20), DEPT_NO VARCHAR2(20),  OVERRIDING MEMBER FUNCTION GET_AGE RETURN NUMBER)
-----------------------------------------------------------------------------方法的重载DROP TYPE EMPLOYEE_TYPEDROP TYPE HUMAN
CREATE OR REPLACE TYPE HUMAN AS OBJECT( NAME VARCHAR2(20), SEX VARCHAR2(1), BIRTHDAY DATE,  MEMBER FUNCTION GET_AGE RETURN NUMBER, MEMBER FUNCTION GET_AGE(I_END_DATE IN DATE) RETURN NUMBER) 
CREATE OR REPLACE TYPE BODY HUMAN AS  MEMBER FUNCTION GET_AGE RETURN NUMBER AS  V_NUM NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(SYSDATE,BIRTHDAY)/12) INTO V_NUM FROM DUAL;RETURN V_NUM; END;  MEMBER FUNCTION GET_AGE(I_END_DATE IN DATE) RETURN NUMBER AS  V_NUM NUMBER; BEGIN SELECT FLOOR(MONTHS_BETWEEN(I_END_DATE,BIRTHDAY)/12) INTO V_NUM FROM DUAL;RETURN V_NUM;  END;END;
SET SERVEROUT ONDECLARE V_HUMAN HUMAN := HUMAN('xling','M',TO_DATE('19830714','YYYYMMDD'));BEGIN DBMS_OUTPUT.PUT_LINE('Method 1:' || V_HUMAN.GET_AGE()); DBMS_OUTPUT.PUT_LINE('Method 2:' || V_HUMAN.GET_AGE(TO_DATE('20000101','YYYYMMDD')));END;
----------------------------------------------------------------------------------------------将FINAL 对象对型改为可继承,CASCADE 选项指定应该如何处理从属对象及其数据，ALTER TYPE HUMAN NOT FINAL CASCADE
CREATE OR REPLACE TYPE EMPLOYEE_TYPE UNDER HUMAN( EMP_NO VARCHAR2(20), DEPT_NO VARCHAR2(20))
SET SERVEROUT ONDECLARE V_EMP EMPLOYEE_TYPE := EMPLOYEE_TYPE('xling','M',TO_DATE('18900714','YYYYMMDD'),'2060006','DPT0201');BEGIN DBMS_OUTPUT.PUT_LINE('Method 1:' || V_EMP.GET_AGE()); DBMS_OUTPUT.PUT_LINE('Method 2:' || V_EMP.GET_AGE(TO_DATE('20000101','YYYYMMDD')));END;

日志标题：Oracle&nbsp;版的RC4加密函数
发表时间：2006-9-5 16:44:00
日志内容：不是我写的，只用来做个备份，以供后用．
CREATE OR REPLACE FUNCTION RC4(FBuffer VARCHAR2) RETURN VARCHAR2 IS-------------------------------------------------------------------------------------- FBuffer: 要进行加密的字符串-- ex.-- select RC4('plain_text') from dual;------------------------------------------------------------------------------------KeyLen NUMBER(10); --键值长度CipherText VARCHAR2(512):=''; --加密后的字符串TYPE AR IS VARRAY(256) OF VARCHAR2(10);FState AR := AR();K AR := AR();FOutputArray AR := AR();FKey AR := AR();I INTEGER;J INTEGER;T INTEGER;FInputLength INTEGER;TEMP VARCHAR2(100);HEX VARCHAR2(10);PKEY VARCHAR2(1024);BEGIN IF FBuffer='' or FBuffer is null THEN RETURN ''; END IF;
 PKEY:=FBuffer; KeyLen:=LENGTH(PKey); FKey.Extend(256); FState.Extend(256); K.Extend(256); FOutputArray.Extend(256); FOR ct IN 1..KeyLen LOOP FKey(ct):=ASCII(SUBSTR(PKey,ct,1)); END LOOP; FOR ct IN 1..256 LOOP FState(ct):=ct; END LOOP; FOR ct IN 1..256 LOOP K(ct):=FKey(MOD(ct,KeyLen)+1); END LOOP; J:=0; FOR I IN 1..256 LOOP J:=MOD(J+FState(I)+K(I),256)+1; TEMP:=FState(I);FState(I):=FState(J);FState(J):=TEMP; END LOOP;--加密处理程序 FInputLength:=LENGTH(FBuffer); I:=0; J:=0; FOR X IN 1..FInputLength LOOP I:=MOD((I + 1),256)+1; J:=MOD(J + FState(I),256)+1; TEMP:=FState(I); FState(I):=FState(J); FState(I):=TEMP; T:=MOD(FState(I)+FState(J),256)+1; FOutputArray(X):=UTL_RAW.BIT_XOR(RAWTOHEX(FState(T)),RAWTOHEX(FState(MOD(X,256)+1))); END LOOP;--加密后的字串，加起来当传回值 FOR I IN 1..FInputLength LOOP HEX:=UPPER(FOutputArray(I));T:=LENGTH(HEX)+1;IF T&lt;=4 THEN FOR J IN T..4 LOOP HEX:='0' || HEX; END LOOP;END IF; CipherText:=CipherText || HEX; END LOOP; RETURN CipherText;END;

日志标题：ORA-04091错误
发表时间：2006-9-7 15:27:00
日志内容：错误描述：
ORA-04091: 表 XLING.XLING_USER 发生了变化, 触发器/函数不能读它ORA-06512: 在 "XLING.XLING_T_USER_U1", line 4 ORA-04088: 触发器 'XLING.XLING_T_USER_U1' 执行过程中出错
引发这个错误的触发器：
CREATE OR REPLACE TRIGGER XLING_T_USER_U1BEFORE UPDATE ON XLING_USER REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWDECLARE V_NUM NUMBER;BEGIN SELECT COUNT(*) INTO V_NUM FROM XLING_USER WHERE ID = :NEW.ID AND GUID &lt;&gt; :NEW.GUID; IF V_NUM &lt;&gt; 0 THEN RAISE_APPLICATION_ERROR(-20001,'用户ID:' || :NEW.ID || '以存在，您不能把用户ID改为该ID'); END IF;END;
错误ORA-04091是在该触发器激活时引发的，而不是在创建时引发的。
表XLING_USER由于使用了行级触发器而成了变异表，这就使不能在该行级触发器中对该表进行查询，而只能在语句级触发器使用查询语句。
下表出处：
http://blog.csdn.net/mosquitoxh/archive/2006/03/31/646391.aspx
http://www.databasejournal.com/features/oracle/article.php/3329121
Case 1: When Trigger on table refers the same table: --------------------------------------------------------------- OPERATION TYPE MUTATING? --------------------------------------------------------------- insert before/statement-level No insert after/statement-level No update before/statement-level No update after/statement-level No delete before/statement-level No delete after/statement-level No 

insert before/row-level Single row Multi-row  No Yes insert after/row-level Yes update before/row-level Yes update after/row-level Yes delete before/row-level Yes delete after/row-level Yes ---------------------------------------------------------------

日志标题：Avoiding Mutating Tables
发表时间：2006-9-7 15:56:00
日志内容：［转］Avoiding Mutating Tables　如何避免变异表
http://blog.csdn.net/zhpsam109/archive/2004/09/07/97335.aspx
Avoiding Mutating Tables
Ok, so you've just recieved the error: ORA-04091: table XXXX is mutating, trigger/function may not see it 
and you want to get around that. This short article will describe and demonstrate the various methods of getting around the mutating table error. 
If you are interested in why you are getting it and in what cases you will get it, please see the Oracle Server Application Developers Guide (click here to read it right now -- this link is to technet.oracle.com. You need a password to access this site but you can get one right away for free). 
Avoiding the mutating table error is fairly easy. We must defer processing against the mutating or constrainng table until an AFTER trigger. We will consider two cases:  
Hitting the ORA-4091 in an INSERT trigger or an UPDATE trigger where you only need access to the :new values Hitting the ORA-4091 in a DELETE trigger or an UPDATE trigger where you need to access the :old values Case 1 - you only need to access the :new valuesThis case is the simplest. What we will do is capture the ROWIDS of the inserted or udpated rows. We can then use these ROWIDS in an AFTER trigger to query up the affected rows. It always takes 3 triggers to work around the mutating table error. They are:  
A before trigger to set the package state to a known, consistent state An after, row level trigger to capture each rows changes An after trigger to actually process the change. As an example -- to show how to do this, we will attempt to answer the following question:  I have a table containing a key/status/effective date combination. When status changes, the values are propagated by trigger to a log table recording the status history. When no RI constraint is in place everything works fine. When an RI trigger enforces a parent-child relationship, the status change logging trigger fails because the parent table is mutating. Propagating the values to the log table implicitly generates a lookup back to the parent table to ensure the RI constraint is satisfied. 
I do not want to drop the RI constraint. I realize that the status is denormalized. I want it that way. What is a good way to maintain the log?
Here is the implementation: 
SQL&gt; create table parent  2 ( theKey int primary key,  3 status varchar2(1),  4 effDate date  5 )  6 / Table created. 
SQL&gt; create table log_table  2 ( theKey int references parent(theKey),  3 status varchar2(1),  4 effDate date  5 )  6 / Table created. 
SQL&gt; REM this package is used to maintain our state. We will save the rowids of newly SQL&gt; REM inserted / updated rows in this package. We declare 2 arrays -- one will SQL&gt; REM hold our new rows rowids (newRows). The other is used to reset this array, SQL&gt; REM it is an 'empty' array 
SQL&gt; create or replace package state_pkg  2 as  3 type ridArray is table of rowid index by binary_integer;  4  4 newRows ridArray;  5 empty ridArray;  6 end;  7 / Package created. 
SQL&gt; REM We must set the state of the above package to some known, consistent state SQL&gt; REM before we being processing the row triggers. This trigger is mandatory, SQL&gt; REM we *cannot* rely on the AFTER trigger to reset the package state. This SQL&gt; REM is because during a multi-row insert or update, the ROW trigger may fire SQL&gt; REM but the AFTER tirgger does not have to fire -- if the second row in an update SQL&gt; REM fails due to some constraint error -- the row trigger will have fired 2 times SQL&gt; REM but the AFTER trigger (which we relied on to reset the package) will never fire. SQL&gt; REM That would leave 2 erroneous rowids in the newRows array for the next insert/update SQL&gt; REM to see. Therefore, before the insert / update takes place, we 'reset' 
SQL&gt; create or replace trigger parent_bi  2 before insert or update on parent  3 begin  4 state_pkg.newRows := state_pkg.empty;  5 end;  6 / Trigger created. 
SQL&gt; REM This trigger simply captures the rowid of the affected row and SQL&gt; REM saves it in the newRows array. 
SQL&gt; create or replace trigger parent_aifer  2 after insert or update of status on parent for each row  3 begin  4 state_pkg.newRows( state_pkg.newRows.count+1 ) := :new.rowid;  5 end;  6 / Trigger created. 
SQL&gt; REM this trigger processes the new rows. We simply loop over the newRows SQL&gt; REM array processing each newly inserted/modified row in turn. 
SQL&gt; create or replace trigger parent_ai  2 after insert or update of status on parent  3 begin  4 for i in 1 .. state_pkg.newRows.count loop  5 insert into log_table  6 select theKey, status, effDate  7 from parent where rowid = state_pkg.newRows(i);  8 end loop;  9 end; 10 / Trigger created. 
SQL&gt; REM this demonstrates that we can process single and multi-row inserts/updates SQL&gt; REM without failure (and can do it correctly) 
SQL&gt; insert into parent values ( 1, 'A', sysdate-5 ); 1 row created. 
SQL&gt; insert into parent values ( 2, 'B', sysdate-4 ); 1 row created. 
SQL&gt; insert into parent values ( 3, 'C', sysdate-3 ); 1 row created. 
SQL&gt; insert into parent select theKey+6, status, effDate+1 from parent; 3 rows created. 
SQL&gt; select * from log_table; 
 THEKEY S EFFDATE ---------- - ---------  1 A 04-AUG-99  2 B 05-AUG-99  3 C 06-AUG-99  7 A 05-AUG-99  8 B 06-AUG-99  9 C 07-AUG-99 
6 rows selected. 
SQL&gt; update parent set status = chr( ascii(status)+1 ), effDate = sysdate; 6 rows updated. 
SQL&gt; select * from log_table; 
 THEKEY S EFFDATE ---------- - ---------  1 A 04-AUG-99  2 B 05-AUG-99  3 C 06-AUG-99  7 A 05-AUG-99  8 B 06-AUG-99  9 C 07-AUG-99  1 B 09-AUG-99  2 C 09-AUG-99  3 D 09-AUG-99  7 B 09-AUG-99  8 C 09-AUG-99  9 D 09-AUG-99 
12 rows selected.  
Case 2 - you need to access the :old valuesThis one is a little more involved but the concept is the same. We'll save the actual OLD values in an array (as opposed to just the rowids of the new rows). Using tables of records this is fairly straightforward. Lets say we wanted to implement a flag delete of data -- that is, instead of actually deleting the record, you would like to set a date field to SYSDATE and keep the record in the table (but hide it from queries). We need to 'undo' the delete. In Oracle8.0 and up, we could use "INSTEAD OF" triggers on a view to do this, but in 7.3 the implementation would look like this:  
SQL&gt; REM this is the table we will be flag deleting from. SQL&gt; REM No one will ever access this table directly, rather, SQL&gt; REM they will perform all insert/update/delete/selects against SQL&gt; REM a view on this table.. 
SQL&gt; create table delete_demo ( a int,  2 b date,  3 c varchar2(10),  4 hidden_date date default to_date( '01-01-0001', 'DD-MM-YYYY' ),  5 primary key(a,hidden_date) )  6 / Table created. 
SQL&gt; REM this is our view. All DML will take place on the view, the table SQL&gt; REM will not be touched. 
SQL&gt; create or replace view delete_demo_view as  2 select a, b, c from delete_demo where hidden_date = to_date( '01-01-0001', 'DD-MM-YYYY' )  3 / View created. 
SQL&gt; grant all on delete_demo_view to public  2 / Grant succeeded. 
SQL&gt; REM here is the state package again. This time the array is of SQL&gt; REM TABLE%ROWTYPE -- not just a rowid 
SQL&gt; create or replace package delete_demo_pkg  2 as  3 type array is table of delete_demo%rowtype index by binary_integer;  4  4 oldvals array;  5 empty array;  6 end;  7 / Package created. 
SQL&gt; REM the reset trigger... 
SQL&gt; create or replace trigger delete_demo_bd  2 before delete on delete_demo  3 begin  4 delete_demo_pkg.oldvals := delete_demo_pkg.empty;  5 end;  6 / Trigger created. 
SQL&gt; REM Here, instead of capturing the rowid, we must capture the before image SQL&gt; REM of the row. SQL&gt; REM We cannot really undo the delete here, we are just capturing the deleted SQL&gt; REM data 
SQL&gt; create or replace trigger delete_demo_bdfer  2 before delete on delete_demo  3 for each row  4 declare  5 i number default delete_demo_pkg.oldvals.count+1;  6 begin  7 delete_demo_pkg.oldvals(i).a := :old.a;  8 delete_demo_pkg.oldvals(i).b := :old.b;  9 delete_demo_pkg.oldvals(i).c := :old.c; 10 end; 11 / Trigger created. 
SQL&gt; REM Now, we can put the deleted data back into the table. We put SYSDATE SQL&gt; REM in as the hidden_date field -- that shows us when the record was deleted. 
SQL&gt; create or replace trigger delete_demo_ad  2 after delete on delete_demo  3 begin  4 for i in 1 .. delete_demo_pkg.oldvals.count loop  5 insert into delete_demo ( a, b, c, hidden_date )  6 values  7 ( delete_demo_pkg.oldvals(i).a, delete_demo_pkg.oldvals(i).b,  8 delete_demo_pkg.oldvals(i).c, sysdate );  9 end loop; 10 end; 11 / Trigger created. 
SQL&gt; REM Now, to show it at work... SQL&gt; insert into delete_demo_view values ( 1, sysdate, 'Hello' ); 1 row created. 
SQL&gt; insert into delete_demo_view values ( 2, sysdate, 'Goodbye' ); 1 row created. 
SQL&gt; select * from delete_demo_view; 
 A B C ---------- --------- ----------  1 09-AUG-99 Hello  2 09-AUG-99 Goodbye 
SQL&gt; delete from delete_demo_view; 2 rows deleted. 
SQL&gt; select * from delete_demo_view; no rows selected 
SQL&gt; select * from delete_demo; 
 A B C HIDDEN_DA ---------- --------- ---------- ---------  1 09-AUG-99 Hello 09-AUG-99  2 09-AUG-99 Goodbye 09-AUG-99

日志标题：Java初探Oracle
发表时间：2006-9-8 13:40:00
日志内容：StatementPreparedStatementCallableStatement
PreparedStatement对象允许在SQL语句中为变量嵌入占位符，与SQLJ中使用宿主变量类似，但是它没有直接在SQL语句中指定JAVA宿主变量，而是用问号（?）表示每个变量，然后通过索引调用设置方法来设置每个变量的数值，这称为参数化SQL语句．
PreparedStatement对象只能用来执行惟一一条SQL语句Statement比较简单，效率较高，但是参数所书写过于繁索．CallableStatement与PreparedStatement相似，只是它只用在调用函数和存储过程．
Oracle有两种语法实现CallableStatement有两种实现方法：PL/SQL块语法和标准的SQL-92语法．其中的SQL-92语法里的call只能是小写的！

import java.sql.*;import oracle.jdbc.driver.*;
public class BB { private static Connection conn; public BB() { }
 public static void main(String[] args){ Statement stmt; ResultSet rst; PreparedStatement pstmt,pstmt1; CallableStatement cstmt,cstmt1,cstmt2,cstmt3;  /* new oracle.jdbc.OracleDriver(); jdbc:oracle:thin:@hostname:port:database */
 try{ DriverManager.registerDriver(new oracle.jdbc.OracleDriver()); conn = DriverManager.getConnection("jdbc:oracle:thin:@ruang:1521:orcl","xling","fp51gfa");
 stmt = conn.createStatement(); rst = stmt.executeQuery("SELECT COUNT(*) FROM XLING_APP_GUID"); if(rst.next()) System.out.println(rst.getInt(1));
 rst.close();
 pstmt = conn.prepareStatement("UPDATE XLING_USER SET ID = ? WHERE ID = ?"); pstmt.setString(1,"xling"); pstmt.setString(2,"AAA"); pstmt.executeUpdate();
 stmt.execute("DELETE FROM XLING_USER WHERE ID = 'fairy'");  pstmt1 = conn.prepareStatement("INSERT INTO XLING_USER (ID,DESP,PWD) VALUES (?,?,?)"); pstmt1.setString(1,"fairy"); pstmt1.setString(2,"王涛"); pstmt1.setString(3,"werewi"); pstmt1.execute();  /* PL/SQL块语法：注意，要完全符合PL/SQL语法，Oracle的VARCHAR2不是标准的SQL类型，所以使用Types.CHAR */ cstmt = conn.prepareCall("begin ? := xling_pkg_tools.rc4(?); end;"); cstmt.registerOutParameter(1,Types.CHAR); cstmt.setString(2,"fp51gfa"); cstmt.execute(); System.out.println(cstmt.getString(1));  /* SQL-92语法，调用Oracle里的函数,注意：call只能小写 */ cstmt1 = conn.prepareCall("{? = call XLING_PKG_TOOLS.RC4(?)}"); cstmt1.registerOutParameter(1,Types.CHAR); cstmt1.setString(2,"xling"); cstmt1.execute(); System.out.println(cstmt1.getString(1));  /* 用SQL-92格式调用Oracle里的过程，第二个参数为OUT类型的参数CREATE OR REPLACE PROCEDURE PRO_TEST(I_DATE_STRING IN VARCHAR2,O_DAYS OUT NUMBER) ASBEGIN SELECT SYSDATE - TO_DATE(I_DATE_STRING,'YYYYMMDD') INTO O_DAYS FROM DUAL;END; */ cstmt2 = conn.prepareCall("{call PRO_TEST(?,?)}"); cstmt2.setString(1,"20060901"); cstmt2.registerOutParameter(2,Types.INTEGER); cstmt2.execute(); System.out.println(cstmt2.getInt(2));  /* 用PL/SQL格式调用Oracle里的过程 */ cstmt3 = conn.prepareCall("begin PRO_TEST(?,?); END;"); cstmt3.setString(1,"20060101"); cstmt3.registerOutParameter(2,Types.INTEGER); cstmt3.execute(); System.out.println(cstmt3.getInt(2));  cstmt3.close(); cstmt2.close(); cstmt1.close(); cstmt.close(); pstmt.close(); pstmt1.close(); stmt.close(); conn.close(); System.out.println("here"); }catch(SQLException e){ //e.printStackTrace(); System.out.println("ErrorCode:" + e.getErrorCode());//错误号 System.out.println("Message:" + e.getMessage()); StackTraceElement[] el = e.getStackTrace(); for(int i = 0;i&lt;el.length;i++){ System.out.println("错误行号：" + el[i].getLineNumber()); System.out.println("所在方法：" + el[i].getMethodName()); System.out.println("所在类：" + el[i].getClassName()); System.out.println("所在文件：" + el[i].getFileName()); System.out.println(); } } }}

日志标题：诡异的FRM-40508错误
发表时间：2006-9-8 15:47:00
日志内容：差点被40508这个错误给整的吐血！
原DataBlock里，不含有MAINTAIN_USER和MAINTAIN_DATE这两个栏位（数据库里有），包含COMP_NO这个栏位，但是其CANVAS属性为NULL(不在界面上显示)．
刚才用DataBlock Wizard对这个DataBlock进行修改，把MAINTAIN_USER和MAINTAIN_DATE这两个栏位显示包含进来，并显示在界面上，编译，保存，一切正常，但是执行的时候，却显示：40508:ORACLE错误，不能进行Insert操作！
汗死！除了加一个触发器外给MAINTAIN_USER和MAINTAIN_DATE赋值外，我什么也没有动啊！怎么会不能新增呢？把那两个栏位去掉，也是不能新增，真是出了奇了！
后来，Display Error了之后，才发现COMP_NO是NULL值，而在定义数据表的时候，这个栏位是NOT NULL的，所以，才发生了这个错误．
后来又修改了另外一个程序的DataBlock，COMP_NO依然是不显示在界面上的，发现原来在修改DataBlock的时候，如果栏位不显示在界面上，其Property : Data Base item会自动修改为：NO，汗死！原来是你在搞鬼！

日志标题：初探UTL_FILE
发表时间：2006-9-11 7:45:00
日志内容：前几天在迪赛BBS的Oracle专区发了一个贴子：http://bbs.database.ccidnet.com/read.php?tid=155664&amp;fpage=1询问Oracle 10g　下如何设置UTL_FILE的可访问目录，到现在居然没有人回复，看来这个BBS人气不咋地啊！今天是星期天，没有事，于是自己又上网找了些资料，终于弄明白要如何做了！看来，还是自己动手才能丰衣足食啊！
PL/SQL没有在语言本身嵌入输入和输出功能，但是它可以通过所提供的包拥有这些功能．使用UTL_FILE包能够实现在数据库服务器上读写文件．UTL_FILE包提供的是受限的操作系统文件的I/O操作．UTL_FILE包的I/O能力就像标准的操作系统文件I/O能力一样，可以进行打，获取，输入，关闭等操作，但有些限制．
UTL_FILE包的使用必须要求用户被授予UTL_FILE包的EXECUTE权限．Oracle数据库通过限制包UTL_FILE包可以访问目录的范围来实现安全运行．
http://www.oracle.com/technology/global/cn/sample_code/tech/pl_sql/htdocs/x/Utl_File/start.htm
在 9.2.0 版之前，通过 UTL_FILE_DIR 初始化参数来指示文件目录。这种方法的缺点是，要弹出实例来改变目录列表，这样就不存在安全的模式（所有用户都可以存取任意目录上的文件）。9.2.0 版允许对 Utl_File 使用与对 BFILE 相同的机制（目录模式对象）。您应当认为 UTL_FILE_DIR 初始化参数是不鼓励使用的。
In the past, accessible directories for the UTL_FILE functions were specified in the initialization file using the UTL_FILE_DIR parameter. However, UTL_FILE_DIR access is not recommended. It is recommended that you use the CREATE DIRECTORY feature, which replaces UTL_FILE_DIR. Directory objects offer more flexibility and granular control to the UTL_FILE application administrator, can be maintained dynamically (that is, without shutting down the database), and are consistent with other Oracle tools. CREATE DIRECTORY privilege is granted only to SYS and SYSTEM by default.




日志标题：汗，居然拿ERP的考试题来问我！
发表时间：2006-9-11 9:56:00
日志内容：上周六，集团举行了ERP相关知识的考试，用以做升工资的参考．我们部例外，在本公司做了监考员！
　　题量相当大，从下午一点考到六点半，饭也没有吃上！．．．
　　没有想到，今天早上居然有财务的小女生（不是我们公司的），发邮件，把她们的考试题发来，问我如何做（我负责财务相关部分的ERP）！汗死．．．难不成我一个搞计算机的比你们专业做财务的人员要懂的多吗？
　　幸好我前几天做了一个相关的程序，涉及到其中的一题，就把如何解决的方法发了过去．
　　这年头，真是．．．

日志标题：用ResultSetMetaDate取得字段名及类型等信息
发表时间：2006-9-11 14:10:00
日志内容：ResultSetMetaData
　　ResultSet对象通过方法getMetaData()可得到ResultSetData对象，在通过ResultSetMetaData对象可得到相关的表及字段的信息，但是方法getTableName(int)却无论如何也得不到相关的表名，不知道为什么．
　　一开始，以为是只对单表操作不会得到表名，但是换成双表链接查询之后，仍得不到表名，而且除表名得不到外，其它的完全正返回，不解...
import java.sql.*;import oracle.jdbc.driver.*;
public class CC { private static Connection conn; public static void main(String[] args){ PreparedStatement pstmt; Statement stmt; ResultSet rst; ResultSetMetaData rmd; try{ DriverManager.registerDriver(new oracle.jdbc.OracleDriver()); conn = DriverManager.getConnection("jdbc:oracle:thin:@ruang:1521:orcl","xling","fp51gfa");
 //pstmt = conn.prepareStatement("SELECT A.GUID,A.ID,A.DESP,A.PWD,A.UPD_DATE FROM XLING_USER A WHERE ID = ?"); pstmt = conn.prepareStatement("SELECT XLING_USER.GUID,XLING_USER.ID,XLING_USER.DESP,XLING_USER.COMP_NO,XLING_COMP.DESP FROM XLING_USER LEFT JOIN XLING_COMP ON XLING_USER.COMP_NO = XLING_COMP.NO"); //pstmt.setString(1,"xling"); rst = pstmt.executeQuery();
 /* stmt = conn.createStatement(); rst = stmt.executeQuery("SELECT XLING_USER.GUID,XLING_USER.ID,XLING_USER.DESP,XLING_USER.UPD_DATE FROM XLING_USER"); */ rmd = rst.getMetaData();
 System.out.println("TableName:" + rmd.getTableName(1));//奇怪的是，无论我用何种方法，都无法得到表名
 for(int i=1;i&lt;rmd.getColumnCount();i++){ System.out.println(rmd.getColumnLabel(i) + " " + rmd.getColumnType(i) + " " + rmd.getColumnTypeName(i) + " " + rmd.getColumnDisplaySize(i)); }
 rst.close(); conn.close(); }catch(SQLException e){ e.printStackTrace(); } }}

日志标题：RETURNING子句
发表时间：2006-9-11 21:56:00
日志内容：The INSERT, UPDATE, and DELETE statements can include a RETURNING clause, which returns column values from the affected row into a PL/SQL record variable. This eliminates the need to SELECT the row after an insert or update, or before a delete. You can use this clause only when operating on exactly one row.
SET SERVEROUT ONDECLARE V_GUID NUMBER;BEGIN INSERT INTO XLING_USER (ID,DESP,PWD) VALUES ('CCC','CCC','CCC') RETURNING GUID INTO V_GUID; DBMS_OUTPUT.PUT_LINE(V_GUID);END;
　　差点被下面这段代码汗死，一开始执行的时候，并没有提示有错误，但是执行了五六分钟了，就是不见执行结束！到网上查资料，也是这样写的，还特意去一个论坛里注册了一个ID（TMD，居然24小之内不让发贴！），还去CSDN发了一贴，贴子刚发完，我就想到以前遇到的一个状况：做了某些操作之后，不COMMIT一下，其它的代码就一直运行无果，于是赶紧COMMIT了一下，终于看见运行的结果了！

SET SERVEROUT ONDECLARE TYPE NEW_NAME_TYPE IS TABLE OF VARCHAR2(20); NEW_NAME NEW_NAME_TYPE;BEGIN UPDATE XLING_USER SET DESP = DESP RETURNING DESP BULK COLLECT INTO NEW_NAME; FOR I IN NEW_NAME.FIRST..NEW_NAME.LAST LOOP  DBMS_OUTPUT.PUT_LINE(NEW_NAME(I)); END LOOP;END;

日志标题：SELECT FOR UPDATE 游标
发表时间：2006-9-13 10:40:00
日志内容：通常我们从游标中提取出数据都要进行一定的处理，在多数情况下都会修改由游标检索出来的行．为了方便对这样的处理进行操作，Oracle提供了一种方便的语法，包含两个部分：1,在游标的声明部分加上FOR UPDATE 子句．2,在UPDATE 或 DELETE语句中加上WHERE CURRENT OF 子句．
在SELECT语句中用了FOR UPDATE子句，就相当于给由SELECT语句提取出来的结果集加上互斥锁（EXCLUSIVE LOCK）实行行级锁定．当我们执行OPEN操作后，别的用户或会话就不能对该结果集中的行进行修改，直到整个事务被提交为止．
SELECT .. FROM .. FOR UPDATE [OF column_refreence] [NOWAIT]
下面的代码执行后，只有GUID大于3600的记录才被修改．
WHERE CURRENT OF 用来得到当前游标所检索出来的行，其所指定的游标一定要打开．

DECLARE CURSOR CC IS  SELECT * FROM XLING_USER WHERE GUID &gt;3600 FOR UPDATE;BEGIN FOR C1 IN CC LOOP  UPDATE XLING_USER SET DESP = DESP || '1' WHERE CURRENT OF CC; END LOOP; COMMIT;END;
还有一个地方必须用到FOR UPDATE:对大型对象进修改性质的操作

SET SERVEROUT ONDECLARE S_LOB CLOB; D_LOB CLOB; V_AMOUNT NUMBER;BEGIN SELECT CLOB_LOCATOR INTO S_LOB FROM MYLOBS WHERE LOB_INDEX = 1; SELECT CLOB_LOCATOR INTO D_LOB FROM MYLOBS WHERE LOB_INDEX = 3 FOR UPDATE;--这里必须加上FOR UPDATE,否则ORA-22920: 未锁定含有 LOB 值的行?
 V_AMOUNT := DBMS_LOB.GETLENGTH(S_LOB); DBMS_LOB.COPY(D_LOB,S_LOB,V_AMOUNT); COMMIT; --DBMS_OUTPUT.PUT_LINE(V_AMOUNT);  SELECT CLOB_LOCATOR INTO S_LOB FROM MYLOBS WHERE LOB_INDEX = 2; SELECT CLOB_LOCATOR INTO D_LOB FROM MYLOBS WHERE LOB_INDEX = 4 FOR UPDATE; V_AMOUNT := DBMS_LOB.GETLENGTH(S_LOB); DBMS_LOB.APPEND(D_LOB,S_LOB); COMMIT;END;
而非修改性质的操作，不必加：

SET SERVEROUT ONDECLARE S_LOB CLOB; V_AMT INTEGER := 10; -- 要读取的长度 V_OFFSET INTEGER :=10;--偏移量（从位置开始） V_BUFFER VARCHAR2(10);--读取的结果BEGIN SELECT CLOB_LOCATOR INTO S_LOB FROM MYLOBS WHERE LOB_INDEX = 4; V_BUFFER := DBMS_LOB.SUBSTR(S_LOB,V_AMT,V_OFFSET); DBMS_OUTPUT.PUT_LINE(V_BUFFER);END;

日志标题：五个网上的试题，我也是看了提示之后才做出来！
发表时间：2006-9-13 11:26:00
日志内容：
/*1,现有表bill和表payment结构如下，两表通过pay_id关联：bill表DDbill_id是帐单标识，charge为帐单金额，pay_id为付款编号，PK：bill_idbill_id INTEGERcharge INTEGERpay_id INTEGER
payment表DDpay_id为付款编号，charge为付款金额，PK：pay_idpay_id INTEGERcharge INTEGER
要求更新payment使charge=bill表中同一pay_id的charge之和。*/

CREATE TABLE BILL( BILL_ID NUMBER, CHARGE NUMBER, PAY_ID NUMBER)
CREATE TABLE PAYMENT( PAY_ID NUMBER, CHARGE NUMBER)
INSERT INTO BILL (BILL_ID,CHARGE,PAY_ID) VALUES (1,200,1)INSERT INTO BILL (BILL_ID,CHARGE,PAY_ID) VALUES (2,300,2)INSERT INTO BILL (BILL_ID,CHARGE,PAY_ID) VALUES (3,200,1)INSERT INTO BILL (BILL_ID,CHARGE,PAY_ID) VALUES (4,500,2)INSERT INTO BILL (BILL_ID,CHARGE,PAY_ID) VALUES (5,750,2)
INSERT INTO PAYMENT (PAY_ID) VALUES (1)INSERT INTO PAYMENT (PAY_ID) VALUES (2)INSERT INTO PAYMENT (PAY_ID) VALUES (3)
DELETE FROM PAYMENTDELETE FROM BILL
SELECT * FROM PAYMENTSELECT * FROM BILL

DECLARE CURSOR CC IS  SELECT PAY_ID,SUM(CHARGE) AS CHARGE_SUM FROM BILL GROUP BY PAY_ID; BEGIN FOR C1 IN CC LOOP  UPDATE PAYMENT SET CHARGE = C1.CHARGE_SUM WHERE PAY_ID = C1.PAY_ID; END LOOP;END;
------------------------------------------------/*2、有如下信息：起始地 目的地 距离（公里）A B 1000A C 1100A D 900A E 400B D 300D F 600E A 400F G 1000C B 600请用SQL语句或一段代码写出从A出发，可达到的目的地（包括间接方式）。*/


CREATE TABLE AA( START_ADDRESS VARCHAR2(10), END_ADDRESS VARCHAR2(10), DISTANCE NUMBER)
INSERT INTO AA VALUES ('A','B',1000)INSERT INTO AA VALUES ('A','C',1100)INSERT INTO AA VALUES ('A','D',900)INSERT INTO AA VALUES ('A','E',400)INSERT INTO AA VALUES ('B','D',300)INSERT INTO AA VALUES ('D','F',600)INSERT INTO AA VALUES ('E','A',400)INSERT INTO AA VALUES ('F','G',1000)INSERT INTO AA VALUES ('C','B',600)
SELECT START_ADDRESS,END_ADDRESS,SYS_CONNECT_BY_PATH(START_ADDRESS,'=&gt;') || '=&gt;' || END_ADDRESS AS PATH FROM (SELECT * FROM AA WHERE END_ADDRESS &lt;&gt; 'A') CONNECT BY PRIOR END_ADDRESS = START_ADDRESS START WITH START_ADDRESS = 'A'
/*3．表A定义如下：属性 类型 备注Id Integer PKName Varchar（30）State char（3）表A中现有1000万条记录，如果客户端要通过分页的方式从表A中取数据，其中每页20条记录，有几种方法？描述每种方法如何处理，有什么优缺点？用SQL写出实现代码*/

/*4、表A定义如下：属性 类型Year IntegerQuarter Varchar（30）Amount float
Year Quarter Amount2000 1 1.12000 2 1.22000 3 1.32000 4 1.42001 1 2.12001 2 2.22001 3 2.32001 4 2.4其中每行表表示一个季度的数据。
如果处理表A中的数据，得到如下的结果。Year Quarter1 Quarter2 Quarter3 Quarter42000 1.1 1.2 1.3 1.42001 2.1 2.2 2.3 2.4请用SQL写一段代码实现。*/

CREATE TABLE A( YEAR INTEGER, QUARTER VARCHAR2(30), AMOUNT FLOAT)
INSERT INTO A VALUES (2000,'1','1.1')INSERT INTO A VALUES (2000,'2','1.2')INSERT INTO A VALUES (2000,'3','1.3')INSERT INTO A VALUES (2000,'4','1.4')INSERT INTO A VALUES (2001,'1','2.1')INSERT INTO A VALUES (2001,'2','2.2')INSERT INTO A VALUES (2001,'3','2.3')INSERT INTO A VALUES (2001,'4','2.4')
SELECT YEAR, SUM(DECODE(QUARTER,1,AMOUNT,0)) QUARTER1, SUM(DECODE(QUARTER,2,AMOUNT,0)) QUARTER2, SUM(DECODE(QUARTER,3,AMOUNT,0)) QUARTER3, SUM(DECODE(QUARTER,4,AMOUNT,0)) QUARTER4FROMAGROUP BY YEAR;
/*如何调用别的数据库里的方法或包？*/

SET SERVEROUT ONBEGIN DBMS_OUTPUT.PUT_LINE(XLING_PKG_TOOLS.RC4@ORCL('FAIRYLOVESNOW'));END;
对第二题做了一下扩展，求出总路程！看似简单，但是我还是耗了很大一番功夫，而且这种解决方法也不是很好．
CREATE OR REPLACE FUNCTION GET_DISTANCE(I_DISTANCE_ALL IN VARCHAR2) RETURN NUMBER AS  TYPE CURSOR_REF_TYPE IS REF CURSOR;MY_CURSOR CURSOR_REF_TYPE;V_NUM NUMBER;V_SQL VARCHAR2(200);BEGIN V_SQL := 'SELECT ' || I_DISTANCE_ALL || ' AS NUM FROM DUAL';  OPEN MY_CURSOR FOR V_SQL; FETCH MY_CURSOR INTO V_NUM;  RETURN V_NUM;END;
SELECT  START_ADDRESS, END_ADDRESS, LTRIM(SYS_CONNECT_BY_PATH(START_ADDRESS,'=&gt;') || '=&gt;' || END_ADDRESS,'=&gt;') AS PATH, LTRIM(SYS_CONNECT_BY_PATH(DISTANCE,'+'),'+') AS DISTANCE_ALL, GET_DISTANCE(LTRIM(SYS_CONNECT_BY_PATH(DISTANCE,'+'),'+')) AS DISTANCE_NUMFROM  (SELECT * FROM AA WHERE END_ADDRESS &lt;&gt; 'A') CONNECT BY PRIOR END_ADDRESS = START_ADDRESS START WITH START_ADDRESS = 'A'

日志标题：TRANSLATE 与 REPLACE
发表时间：2006-9-14 9:47:00
日志内容：TRANSLATE returns char with all occurrences of each character in from_string replaced by its corresponding character in to_string. Characters in char that are not in from_string are not replaced. The argument from_string can contain more characters than to_string. In this case, the extra characters at the end of from_string have no corresponding characters in to_string. If these extra characters appear in char, they are removed from the return value.You cannot use an empty string for to_string to remove all characters in from_string from the return value. Oracle interprets the empty string as null, and if this function has a null argument, it returns null.
Note: This function does not support CLOB data directly. However, CLOBs can be passed in as arguments through implicit data conversion.
Syntax&gt;TRANSLATE('char' , 'from_string' , 'to_string')
The REPLACE function returns char with every occurrence of search_string replaced with replacement_string. If replacement_string is omitted or null, all occurrences of search_string are removed. If search_string is null, char is returned.Both search_string and replacement_string, as well as char, can be any of the datatypes CHAR, VARCHAR2, NCHAR, NVARCHAR2, CLOB, or NCLOB. The string returned is of VARCHAR2 datatype and is in the same character set as char.
This function provides a superset of the functionality provided by the TRANSLATE function. TRANSLATE provides single-character, one-to-one substitution. REPLACE lets you substitute one string for another as well as to remove character strings.
TRANSLATE函数是把出现在from_string里每一个的字符（注意是每一个）替换成相应位置上的to_string里的字符．from_string的长度可以大于to_string的长度，在这种情况下，from_string里没有被对应到的字符直接被移除．
你不能用空字符串做为to_string去移除（替换）出现在from_string里的字符，Oracle解释空字符串为NULL，如果这个函数的参数含有NULL，那么这个函数的返回为NULL.
例如：SELECT TRANSLATE('xlingFairy','xling','cc') FROM DUAL　的结果为：ccFairy,因为xl被替换成相应的cc，而ing由于没有对应的to_string,所以，被直接移除．
注意思这种情况：SELECT NVL(TRANSLATE('xlingFairy','xling',''),'NULL') FROM DUAL最后一个参数不是空格，它的结果为字符串NULL,因为最后一个参数：''不是CHR(0),SELECT DECODE(CHR(0),NULL,'IS NULL','NOT NULL') FROM DUAL -- 结果：NOT NULLSELECT DECODE('',NULL,'IS NULL','NOT NULL') FROM DUAL -- 结果：IS NULL 
如果想把一个字符串时的空格全部去掉，不能用TRANSLATE,如：SELECT DECODE(TRANSLATE('xling fairy snow',' ',''),NULL,'IS NULL','NOT NULL') FROM DUAL结果是IS NULL而：SELECT TRANSLATE('xling fairy snow',' ',CHR(0)) FROM DUAL　的结果是：xling ，即后面的都没有了．
要想把一个字符串里的空格全去掉，只有用REPLACE了！SELECT REPLACE('xling fairy snow',' ','') FROM DUAL结果是：xlingfairysnow

日志标题：敏感的ResultSet为什么不敏感了？
发表时间：2006-9-15 11:10:00
日志内容：
Scroll Sensitive
滚动敏感性，即对数据进行修改后，可以实时的反映出来．
下面是我昨天晚上写的，发现并没有实时的把修改后的资料反映出来，真是出了奇了！
import java.sql.*;import oracle.jdbc.pool.OracleDataSource;
public class FF { public static Connection conn;
 public static void main(String[] args){ try{ OracleDataSource ods = new OracleDataSource(); ods.setServerName("127.0.1.1"); ods.setNetworkProtocol("tcp"); ods.setDriverType("thin"); ods.setPortNumber(1521); ods.setDatabaseName("orcl"); ods.setUser("xling"); ods.setPassword("fp51gfa");
 conn = ods.getConnection(); Statement stmtWrite = conn.createStatement(); stmtWrite.executeQuery("CREATE TABLE ZZ (NUM NUMBER)");
 for(int i=0;i&lt;20;i++){ stmtWrite.execute("INSERT INTO ZZ VALUES (" + i + ")"); }
 Statement stmtInsensitive = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_READ_ONLY); Statement stmtSensitive = conn.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_READ_ONLY);  ResultSet rstInsensitive = stmtInsensitive.executeQuery("SELECT * FROM ZZ"); ResultSet rstSensitive = stmtSensitive.executeQuery("SELECT * FROM ZZ"); stmtWrite.executeQuery("UPDATE ZZ SET NUM = NUM * 10");  System.out.println(rstSensitive.getFetchSize()); System.out.println("Insensitive Sensitive"); while(rstInsensitive.next() &amp;&amp; rstSensitive.next()){ System.out.println(rstInsensitive.getInt(1) + " " + rstSensitive.getInt(1)); } stmtWrite.execute("DROP TABLE ZZ");
 stmtWrite.close(); rstInsensitive.close(); rstSensitive.close(); stmtInsensitive.close(); stmtSensitive.close(); conn.close(); ods.close(); }catch(SQLException e){ e.printStackTrace(); } }}
其实，是由于没有注意滚动敏感性的要求：
１，只能从单张表里查数据．
２，不能使用ORDER BY 子句．
３，不能使用 SELECT * ，但是可以使用　SELECT T.* FROM tab_name t
如果不满足这三条，Sensitive就会降级为 Insensitive（不敏感的）.
上面的代码就是犯了第三条错误．

日志标题：更新型ResultSet
发表时间：2006-9-15 20:32:00
日志内容：CONCUR_UPDATABLE
moveToInsertRow(),insertRow(),,moveToCurrentRow()
updateRow()
deleteRow()
与scroll-sensitive型的ResultSet一样，更新型的ResultSet对于查询的类型也有限制：１，只能查询单个表．２，不能使用ORDER BY 子句．３，不能使用SELECT * ，但是可以使用SELECT T.* FROM tab_name T４，SELECT语句不能包含表达式和函数．５，必须包含插入所需要的任何字段．
可用updateXXX()系列方法设置新的数据．然后用updateRow()方法更新数据．
插入数据时，步骤如下：moveToInsertRow()updateXXX()insertRow()其后可以用moveToCurrentRow()移动到在执行moveToInsertRow()之前的那条记录上．
下面是我写的例子，本来是用ResultSet.SCROLL_SENSITIVE(滚动敏感)型的，但是插入后的结果却显示不出来，不知道为什么．
import java.sql.*;import oracle.jdbc.pool.OracleDataSource;
public class GG { public static Connection conn;  public static void main(String[] args){ try{ OracleDataSource ods = new OracleDataSource(); ods.setDriverType("thin"); ods.setServerName("127.0.0.1"); ods.setNetworkProtocol("tcp"); ods.setPortNumber(1521); ods.setDatabaseName("orcl"); ods.setUser("xling"); ods.setPassword("fp51gfa");  conn = ods.getConnection(); Statement stmt = conn.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_UPDATABLE); ResultSet rst = stmt.executeQuery("SELECT GUID,ID,DESP,PWD FROM XLING_USER");  if(rst.next()){ rst.moveToInsertRow(); rst.updateString("ID","eeee"); rst.updateString("DESP","EEEE"); rst.updateString("PWD","fairylovesnow"); rst.insertRow(); rst.moveToCurrentRow();  //rst.first(); while(rst.next()){ System.out.printf("GUID:%-10sID:%-10sDESP:%-10s\n",rst.getInt("GUID"),rst.getString("ID"),rst.getString("DESP")); if(rst.isLast()) rst.deleteRow(); } } }catch(SQLException e){ e.printStackTrace(); } }}

日志标题：哈哈，跑起嗖嗖的！
发表时间：2006-9-16 9:11:00
日志内容：没有想到我这样的机子还能跑Oracle数据库（虽然只运行一个数据库实例，不懂如何设置内存共享池，偶是小菜）！
但是512的内存显然很吃力，就算是虚拟了内存到1500M也是很吃力！因为还要运行JBuilder2006，还有TOAD，那个运行起来叫烧内存啊！在加上俺平时还有听歌的习惯．
昨天又弄了个10g的Application Server，内存更加吃紧．
旁边有个兄弟因为离职机子一直在闲着，偶就从他那里拨下一根256的，插到偶的机子上，现在运行起来嗖嗖的！


日志标题：痛苦死了！FRM-40350错误！
发表时间：2006-9-18 15:21:00
日志内容：FRM-40350:QUERY CAUSED NO RECORDS TO BE RETRIEVED.被它折磨了6个小时，在搞不定就8个小时了！PACKAGE声明：/*原PROCEDURE AP_PAY_QUERY(resultset IN OUT ASP_AP_PAY_RECORD_REF,   S_DATE IN DATE, E_DATE IN DATE,V_WHO IN VARCHAR2,V_TYPE IN VARCHAR2,         EXP_DATE1 IN DATE, EXP_DATE2 IN DATE, V_WAY IN VARCHAR2); */         --新的PROCEDURE AP_PAY_QUERY(resultset IN OUT ASP_AP_PAY_RECORD_REF,   S_DATE IN DATE, E_DATE IN DATE,V_WHO IN VARCHAR2,V_TYPE IN VARCHAR2, EXP_DATE1 IN DATE, EXP_DATE2 IN DATE, V_WAY IN VARCHAR2, V_SLIP_NO1 IN VARCHAR2 DEFAULT NULL, V_SLIP_NO2 IN VARCHAR2 DEFAULT NULL);PACKAGE BODY 和上面一样，程序体没有任何改动．编译，没有错误．并重新配置FORM的DataBlock（数据来源就是上面写的那个包的过程：AP_PAY_QUERY）,把V_SLIP_NO1和V_SLIP_NO2对应到界面上的TextItem,编译，没有错误．结果，一运行，就出现：FRM-40350错误．Display Errors又什么都没有！这是Form里的帮助：FRM-40350:Query caused no records to be retrieved.Cause:    The current query fetched no records from the table. The table is empty, or it contains no records that meet the query's search criteria. Action:    No action is necessary. 我都重做了三次了！就是不行，也找不出毛病所在！
我的心是脆弱的，
我的心是脆弱的，
我的心是脆弱的，
在这样下去，我就要完蛋了！
---------------------------------------------------------------------------------
问题查出来了！
在配置DataBlock的时候，自动把不显示在界面上的栏位的Database Item改为NO!把相应的改为YES就行了！汗死！．．．浪费了7个小时的大好青春！浪费了我N万个精力充沛的脑细胞！浪费了我N多表情！汗．．． 
晕的我还以为是PACKAGE写错了呢！
见另一个相同的问题：
http://xling.blueidea.com/archives/2006/3022.shtml

日志标题：分析函数初探
发表时间：2006-9-19 17:03:00
日志内容：OVER是一个关键字，用于标识分析函数．PARTITION BY 是可选分区子句，如果没有该子句，则把结果集看成一个大的分区，否则分析函数将作用于每一组．ORDER BY 子句是可选子句，用于指定分区内是如何排序的．注意用ORDER BY 和不用ORDER BY的区别
开窗函数，制表函数开窗函数没有在OVER 里没有　ORDER BY子句
SUM1:按采购单号(SLIP_NO)进行分区，SUM2:按采购单分区，取得采购单的采购总数量SUM4:按采购单，采购项次逐行进行累计，SELECT  SLIP_NO,PART_NO,QTY,  SUM(QTY) OVER (PARTITION BY SLIP_NO ORDER BY SEQ_NO) SUM1, SUM(QTY) OVER (PARTITION BY SLIP_NO) SUM2, SUM(QTY) OVER (ORDER BY SLIP_NO,SEQ_NO) SUM4FROM  ASP_PO_D WHERE COMP_NO = 'JD0201'

SUM1:按料号(PART_NO)进行分区，并按采购单进行累计采购数量SUM2:按料号进行分区，并求总的采购数量AVG_QTY:按料号分区，并求平均采购数量SEQ_NO:采购单所在的分区的序号SUM3:所有料号的采购总数SELECT PART_NO,SLIP_NO,QTY, COUNT(SLIP_NO) OVER (PARTITION BY PART_NO) AS PO_COUNT, SUM(QTY) OVER (PARTITION BY PART_NO ORDER BY SLIP_NO) SUM1,  SUM(QTY) OVER (PARTITION BY PART_NO) AS SUM2, ROUND(AVG(QTY) OVER (PARTITION BY PART_NO),2) AS AVG_QTY,  ROW_NUMBER() OVER (PARTITION BY PART_NO ORDER BY SLIP_NO) SEQ_NO,  SUM(QTY) OVER () SUM3FROMASP_PO_D WHERE COMP_NO = 'JD0201'


COUNT_PO:每个料号的采购次数SUM1:按料号(PART_NO)进行分区，在此结果上在按供应商(VENDOR_NO)分区SUM2:按料号(PART_NO)进行分区SELECT SLIP_NO,PART_NO,QTY,VENDOR_NO, COUNT(PART_NO) OVER (PARTITION BY PART_NO) COUNT_PO, SUM(QTY) OVER (PARTITION BY PART_NO,VENDOR_NO) SUM1, SUM(QTY) OVER (PARTITION BY PART_NO) SUM2FROMASP_PO_DWHERE COMP_NO = 'JD0201'

日志标题：在探分析函数
发表时间：2006-9-21 10:50:00
日志内容：1.avg(distinct | all expression)计算组内平均值， distinct 可去除组内重复数据 2.count(&lt;distinct&gt;&lt;*&gt;&lt;expression&gt;) 对组内数据进行计数 3.cume_dist() 计算一行在组中的相对位置，值的范围（ 0 ， 1 ）4.dense_rank() 根据 order by 子句表达式的值，从查询返回的每一行，计算和其他行的相对位置，序号从 1 开始，有重复值时序号不跳号。5.first_value(显示的表达式),last_value(显示的表达式) 返回组内第一个值，最后一个值。6.min(expression),max(expression) 返回组内最小，最大值7.rank() 和 dense_rank （）函数功能类似，但是有重复值时序号是跳号的。8.row_number() 返回有序组中的一行的偏移量，也就是对应的序号。

计算销售额占总销售额的比率SELECT NAME,SELL_NUM, ROUND(SELL_NUM / (SUM(SELL_NUM) OVER ()),6) * 100 || '%' RATEFROMSELLER

计算当前行和它前两行的销售总和SELECT NAME,SELL_NUM, SUM(SELL_NUM) OVER (ORDER BY SELL_NUM ROWS 2 PRECEDING) SUM1FROMSELLER 


计算和当前行的销售量相差在100以内（包含100）的记录总数SELECTNAME,SELL_NUM,COUNT(*) OVER (ORDER BY SELL_NUM RANGE BETWEEN 100 PRECEDING AND 100 FOLLOWING)-1 CFROMSELLER

计算比当前行的销售量少于100的记录总数SELECT NAME,SELL_NUM, COUNT(*) OVER (ORDER BY SELL_NUM RANGE 100 PRECEDING) - 1 COUNT1FROMSELLER

难道不能直接用FOLLOWING SELECT NAME,SELL_NUM, COUNT(*) OVER (ORDER BY SELL_NUM RANGE 100 FOLLOWING) -1 COUNT1FROM SELLER 


4.dense_rank() 根据 order by 子句表达式的值，从查询返回的每一行，计算和其他行的相对位置，序号从 1 开始，有重复值时序号不跳号。 
这个函数比较重要，可以用来计算排名（有相同名次的）,注意同RANK的比较SELECT NAME,SELL_NUM, DENSE_RANK() OVER (ORDER BY SELL_NUM) NUM1, RANK() OVER (ORDER BY SELL_NUM) NUM2, ROW_NUMBER() OVER (ORDER BY SELL_NUM) ROW_NUMFROMSELLER

5.first_value(显示的表达式),last_value(显示的表达式) 返回组内第一个值，最后一个值。下例如果在LAST_VALUE里也用ORDER BY的话，结果就不对了，要注意．SELECT NAME,DEPT,SELL_NUM, FIRST_VALUE(NAME || ':' || SELL_NUM)   OVER (PARTITION BY DEPT ORDER BY SELL_NUM DESC) F, LAST_VALUE(NAME || ':' || SELL_NUM)   OVER (PARTITION BY DEPT) LFROMSELLER


奇怪了，为什么LAST_VALUE里用ORDER BY 就会乱掉？SELECT NAME,DEPT,SELL_NUM, LAST_VALUE(NAME || ':' || SELL_NUM)   OVER (PARTITION BY DEPT ORDER BY SELL_NUM) LFROMSELLER
而在FIRST_VALUE里用ORDER BY就没有问题，SELECT NAME,DEPT,SELL_NUM, FIRST_VALUE(NAME || ':' || SELL_NUM)  OVER (PARTITION BY DEPT ORDER BY SELL_NUM DESC) LFROMSELLER



CREATE TABLE SELLER( NAME VARCHAR2(20), SELL_NUM NUMBER)
INSERT INTO SELLER VALUES ('xling1',1000,1)INSERT INTO SELLER VALUES ('xling2',1200,1)INSERT INTO SELLER VALUES ('xling3',1250,2)INSERT INTO SELLER VALUES ('xling4',1300,2)INSERT INTO SELLER VALUES ('xling5',1400,3)INSERT INTO SELLER VALUES ('xling6',900,3)INSERT INTO SELLER VALUES ('xling7',1000,1)INSERT INTO SELLER VALUES ('xling8',800,2)INSERT INTO SELLER VALUES ('xling9',850,3)INSERT INTO SELLER VALUES ('xling10',800,1)
ALTER TABLE SELLER ADD (DEPT NUMBER)DELETE FROM SELLER
COMMIT


日志标题：Charset set 字符集列表
发表时间：2006-9-24 11:00:00
日志内容：
这两天一直在弄Oracle发邮件的功能，目前基本功能都以俱被，余下的就是扩展了．
等差不多的时候，我要把用ERP发邮件通知相关人员，以实现所谓的办公自动化的项目审请下来！
几个月前就听说要出钱请别的软件公司上这个项目，结果只不过是雷声大，雨点小，不见动静，而且据了解，还不是整合进ERP的（是通过报表软件，这个报表软件本身就不是ORACLE的，是用ASP.NET开发的，算是第三方软件）．
挫折是有的，就比如汉字显示上，而且还牵扯到简繁体．我查了很多资料，总算解决了！
下面贴上字符集（主要用的是：ZHS16GBK　和　ZHT16BIG5）：
http://files.myopera.com/xlingFairy/files/characterSets.doc

日志标题：DATABASE&nbsp;LINK
发表时间：2006-9-25 14:24:00
日志内容：As of Oracle9i, it became possible to run external procedure agents via database links that connect to other database servers. This functionality enables you to spread the load of running expensive external programs onto other database instances.
Database link 使得 Oracle9i运行通过它（Database link）　连接到的其它数据上的程序(??)成为可能．
翻译的很捌口！
下面来说说如何在一个数库上查询另一个数据的数据．
首先要建立database link,需要SYSTEM用户或有相关权限的用户身份进行登陆．
CREATE DATABASE LINK ASP_ERP_LINKCONNECT TOremot_user_nameIDENTIFIED BY remot_user_passwordUSING 'remot_database';
然后：
SELECT * FROM ASP_EMPLOYEE@ASP_ERP_LINK
和在远端数据库上查询的数据一样！
CREATE PUBLIC DATABASE LINK 创建公用的数据库链接CREATE DATABASE LINK 只能是当前用户才能用
删除时，如果是公有的，必须用：DROP PUBLIC DATABASE LINK ...否则：DROP DATABASE LINK ...
暂不对这个做深入研究，只不过是一时兴起而以．


日志标题：Oracle利UTL_SMTP发邮件，效率不高！
发表时间：2006-9-25 20:00:00
日志内容：本打算今天就向老大申请，接手这个项目的，但是现在看来，又要推迟了！
做了一下测试：
随机抽取了77个内部邮件地址，里面包括了少许作废的地址（很大可能是耗在这个上面！），在本机的Oracle10g的数据库里，连接公司的SMTP服务器，从开始执行到执行结束（注：不是收到邮件的时间），共耗时11分钟30秒．
不知用JAVA发邮件会不会这么慢．
另：Oracle里好像没有提供求一个字符在一个字符串里出现次数的函数（汗，是俺笨？？？）
俺还是用TRANSLATE函数加上LENGTH求的：
SELECT LENGTH(TRANSLATE('guanwei,ken,liulj',',abcdefghijklmnopqrstuvwxyz0123456789_',',')) AS C1 FROM DUAL
包下载：注，只作参考，是在10g的数据库上进行的，9i也可以，8i的不行！
里面有如何解决正文中文乱码和Subject,To,From等中文乱码的具体解决办法．
UploadFiles/2006-9/925363613.rar

日志标题：惨遭拒绝！
发表时间：2006-9-26 13:25:00
日志内容：真想不明白（真想不明白吗，这还不简单，极有可能是有大笔丰厚的回扣！）！
用UTL_SMTP发邮件是一件很简单的事情，（我承认我以前不懂，但是我现在懂了！确实很简单！），用JAVA发邮件也是一件很简单的事！而且这两种都能无逢地整合到ERP系统中！
上午向我们老大申请接手这个项目了，结果被无情地拒绝了：
k公自踊的功能-定rl送]件功能 由 SmartQuery 旗版绦校
晕，定时发送！难道有实时发送好？？？
况且那个SmartQuery还是.NET开发的！和ERP弄到一起还是费了好大一番周折！
工作没有激情！干着都没有意思！

日志标题：从一个字符串里取出：任何连续的，长度为4位的　数字
发表时间：2006-9-26 14:33:00
日志内容：从一个字符串里取出：任何连续的，长度为4位的　数字

SELECT * FROM (SELECT V,TO_NUMBER(TRANSLATE(V,'0abcdefghijklmnopqrstuvwxyz',0)) AS N,RN FROM(SELECT SUBSTR('aa1234bb567890',ROWNUM,4) V,ROWNUM RN FROM DUALCONNECT BY ROWNUM &lt;= LENGTH('aa1234bb567890')))WHERE N &gt; 1000

原贴见：http://www.oracle.com.cn/viewthread.php?tid=105528&amp;pid=827048&amp;page=1&amp;extra=page%3D1#pid827048
跟那位ZCC大哥学了不少东西．

日志标题：GO_ITEM与FRM-40737错误
发表时间：2006-9-28 16:38:00
日志内容：About Restricted Built-in Subprograms Any built-in subprogram that initiates navigation is restricted. This includes subprograms that move the input focus from one item to another, and those that involve database transactions. Restricted built-ins are illegal in triggers that fire in response to navigation. For example, the GO_ITEM and NEXT_SET built-ins are both restricted procedures. GO_ITEM moves the input focus from a source item to a target item, which requires navigation. Similarly, the NEXT_SET procedure causes Oracle Forms to navigate internally to the block level, fetch a set of records, and then navigate to the first item in the first record. (Note that this navigation happens internally as a result of default processing, and may not be apparent to the form operator.) 
Because GO_ITEM and NEXT_SET both initiate navigation, they cannot be called from triggers that fire in response to internal navigational events; that is, triggers that fire while navigation is already occurring. Thus, a restricted procedure cannot be called from a Pre-Block trigger, because the Pre-Block trigger fires during internal navigation. In fact, restricted subprograms are not allowed from any Pre- or Post- navigational triggers. 
You can, however, call a restricted built-in subprogram from a When-New-Instance trigger. For example, the When-New-Item-Instance trigger fires after navigation to an item has succeeded, when the form is waiting for input. This is an important point to remember as you select trigger types during application development. 
In the Oracle Forms Reference Manual, Vol.1, each trigger description has a "Legal Commands" section that describes which types of built-ins (restricted or unrestricted) can be called from the trigger. Also, each built-in description includes a "Built-in Type" section that indicates whether the built-in is a restricted or unrestricted procedure or function. 
出自：http://72.14.235.104/search?q=cache:5fM_OW7iGG0J:mates.ms.mff.cuni.cz/oracle/doc/forms45/dg/ch7.htm+illegal+restricted+procedure+GO_ITEM&amp;hl=zh-CN&amp;ct=clnk&amp;cd=6
要在FormBuilder上实现一个简单的功能：即当某TEXT-ITEM输入的值不正确时，不让焦点跳出这个TEXT-ITEM．一开始就在POST-TEXT-ITEM触发器里用：GO_ITEM()这个内置子程序来弄，但是提示FRM-40737错误：FRM40737 - Illegal restricted procedure GO_ITEM in ***(某触发器)帮助文件里是这样写的：Application design error. A trigger tried to execute a restricted packaged procedure.具体原因见上面的英文（本人英语水平有限，恐翻译出来让你更加不解！反正我明白了）．
不能用GO_BLOCK，看样子是无法完成这个简单的功能了，但是．．．最简单的方法却被我忽略了：在POST_TEXT_ITEM里用　RAISE FORM_TRIGGER_FAILURE，当然要加上你的判断语句．
汗死，整了我一个小时！


日志标题：Everything&nbsp;I&nbsp;do
发表时间：2006-9-28 19:18:00
日志内容：
 
look into my eyes you will seewhat you mean to mesearch you heart search you souland when you find me there you'll search no moredon't tell me it's not worth trying foryou cant tell me it's not worth dying foryou know it's trueeverything i do i do it for youlook intoyour heart you will findtheres nothing there to hidetake me as i am take my lifei would give it all i would sacrificedon't tell me it's not worth fighting fori can't help it theres nothing i want moreyou know it's trueeverything i do i do it for youtheres no love like your loveand no other could give more lovetheres now here unless you are thereall the time all the waydon't tell me its not worth trying fori can't help it theres nothing i want morei would fight for you i like for youwalk the wire for you you i die for youyou know its trueeverything i do i do it for you

日志标题：Insert All　单条SQL插入多个表
发表时间：2006-9-29 8:52:00
日志内容：单条SQL插入多个表根据不同的条件，用一条SQL实现把组合的数据插入到多个表。如果不提供WHEN条件，就插入所有的表 
示例表结构：

CREATE TABLE T( ID NUMBER, NAME VARCHAR2(20))
ALTER TABLE T ADD (RANK NUMBER)SELECT * FROM T
CREATE TABLE T1( ID NUMBER, NAME VARCHAR2(20))
CREATE TABLE T2( ID NUMBER, NAME VARCHAR2(20))
CREATE TABLE T3( ID NUMBER, NAME VARCHAR2(20))

向主表插入记录：

BEGININSERT INTO T VALUES (1,'1fairy1',1);INSERT INTO T VALUES (2,'xlingFairy',2);INSERT INTO T VALUES (3,'snow',3);INSERT INTO T VALUES (4,'werewi',1);INSERT INTO T VALUES (5,'ruang',2);COMMIT;END;
按条件，把主表的记录插入到子表中：
INSERT ALLWHEN(RANK = 1) THEN INTO T1 VALUES (ID,NAME)WHEN(RANK = 2) THEN INTO T2 VALUES (ID,NAME)ELSEINTO T3 VALUES (ID,NAME)SELECT * FROM T

不加WEHN，则把主表的所记录都插入到子表中：
INSERT ALL INTO T1 VALUES (ID,NAME) INTO T2 VALUES (ID,NAME) INTO T3 VALUES (ID,NAME)SELECT * FROM T 


日志标题：Analytic Function : LEAD & LAG
发表时间：2006-10-3 17:19:00
日志内容：LEAD is an analytic function. It provides access to more than one row of a table at the same time without a self-join. Given a series of rows returned from a query and a position of the cursor, LEAD provides access to a row at a given physical offset beyond that position.
LAG is an analytic function. It provides access to more than one row of a table at the same time without a self-join. Given a series of rows returned from a query and a position of the cursor, LAG provides access to a row at a given physical offset prior to that position.

SELECT NAME, SELL_NUM, DEPT, LAG(SELL_NUM,1,0) OVER (PARTITION BY DEPT ORDER BY SELL_NUM) AS PRE, LEAD(SELL_NUM,1,0) OVER(PARTITION BY DEPT ORDER BY SELL_NUM) AS NEXTFROMSELLER

日志标题：Java mailAPI发送邮件
发表时间：2006-10-3 20:26:00
日志内容：用到的包，javamail-1.4，可以到sun网站上下载，
activation.jar　（JAF），到如下网址下载：
JAF下载地址：http://java.sun.com/products/javabeans/jaf/downloads/index.html
下面的程序以经调试通过，可以设置发送语言（简体／繁体），
如果SMTP服务器不需验证，可以setValidate(false)，以运行通过．
如果需要验证，可以：setValidate(true,1fairy1@163.com","password");
可发送附件（发送多个附件的功能被注释掉了），
可群发邮件（抄送和密送功能没有加上）．
有两个问题：
１，如果群发的邮件地址过多的话，会提示什么heap溢出，没有搞懂．
２，第二个问题也是和群发邮件过多有关（群发三五个没有这个问题），如果邮件地址不存在，会提示错误，没有找到解决方法．

import javax.mail.*;import javax.mail.internet.*;import java.util.*;import java.io.*;import javax.activation.*;
public class Mail3 {
 public static String LANG_BIG5 = "big5"; public static String LANG_GB2312 = "GB2312"; private String defaultLang = LANG_GB2312;
 private String smtpHost; private int smtpPort = 25;
 private boolean needValidate = false; private String validateEmail; private String validatePassword;
 private String fromEmail; private String fromName;
 private StringBuffer toEmailList; private StringBuffer toNameList; private StringBuffer ccEmailList; private StringBuffer ccNameList;
 private String subject;
 private final String TOKEN = ",";
 private Properties pops = new Properties(); private Session session; private MimeMessage mimemessage;
 private StringBuffer attachmentFilesName;
 public void setSmtpHost(String pSmtpHost, int pPort) { smtpHost = pSmtpHost; smtpPort = pPort; }
 public void setSmtpHost(String pSmtpHost) { setSmtpHost(pSmtpHost, 25); }
 public void setValidate(boolean pNeedValidate, String pValidateEmail, String pValidatePassword) { needValidate = pNeedValidate; validateEmail = pValidateEmail; validatePassword = pValidatePassword; }
 public void setValidate(boolean pNeedValidate) { setValidate(pNeedValidate, "", ""); }
 public void setLang(String pLang){ defaultLang = pLang; }
 public void setFrom(String pEmail, String pName) { fromEmail = pEmail; fromName = pName; }
 public void setTo(String pEmailList, String pNameList) { if (toEmailList == null) { toEmailList = new StringBuffer(pEmailList); toNameList = new StringBuffer(pNameList); } else { toEmailList.append(TOKEN); toEmailList.append(pEmailList); toNameList.append(TOKEN); toNameList.append(pNameList); } }
 public void setCC(String pEmailList, String pNameList) { if (ccEmailList == null) { ccEmailList = new StringBuffer(pEmailList); toNameList = new StringBuffer(pNameList); } else { ccEmailList.append(TOKEN); ccEmailList.append(pEmailList); ccNameList.append(TOKEN); ccNameList.append(pNameList); } }
 public void addTo(String pEmail, String pName) { if (toEmailList == null) { toEmailList = new StringBuffer(pEmail); toNameList = new StringBuffer(pName); } else { toEmailList.append(TOKEN); toEmailList.append(pEmail); toNameList.append(TOKEN); toNameList.append(pName); } }
 public void addCC(String pEmail, String pName) { if (ccEmailList == null) { ccEmailList = new StringBuffer(pEmail); ccNameList = new StringBuffer(pName); } else { ccEmailList.append(TOKEN); ccEmailList.append(pEmail); ccNameList.append(TOKEN); ccNameList.append(pName); } }
 public void setAttachMent(String pFileList){ if(attachmentFilesName == null) attachmentFilesName = new StringBuffer(pFileList); else{ attachmentFilesName.append(TOKEN); attachmentFilesName.append(pFileList); } }
 public void send(String pSubject, String pMsg) { System.out.println("begin " + new Date()); pops.put("mail.smtp.host", smtpHost); pops.put("mail.smtp.port", smtpPort);
 pops.put("mail.smtp.auth", "" + needValidate);
 System.out.println("session " + new Date());
 if(needValidate){ PopupAuthenticator popa = new PopupAuthenticator(); PasswordAuthentication pop = popa.performCheck(validateEmail,validatePassword); session = Session.getInstance(pops,popa); }else session = Session.getInstance(pops);
 //session.setDebug(false);
 System.out.println("slipt " + new Date());
 String[] toEmailListArray = toEmailList.toString().split(TOKEN); String[] toNameListArray = toNameList.toString().split(TOKEN);
 try{ InternetAddress[] toInternetAddressArray = new InternetAddress[toEmailListArray.length]; //System.out.println(toEmailListArray.length);
 System.out.println("InternetAddress " + new Date());
 mimemessage = new MimeMessage(session); for (int i = 0; i &lt; toEmailListArray.length; i++) { toInternetAddressArray[i] = new InternetAddress( toEmailListArray[i], toNameListArray[i],defaultLang); } toNameListArray = null;
 System.out.println("setRecipients " + new Date());
 //mimemessage = new MimeMessage(session); mimemessage.setRecipients(MimeMessage.RecipientType.TO,toInternetAddressArray);
 InternetAddress fromInternetAddress = new InternetAddress(fromEmail,fromName,defaultLang); mimemessage.setFrom(fromInternetAddress);
 mimemessage.setSubject(pSubject,defaultLang); mimemessage.setSentDate(new Date());
 mimemessage.setHeader("Content-Type","text/plain;charset=" + defaultLang);
 //mimemessage.setText(pMsg,defaultLang); MimeBodyPart mmbp1 = new MimeBodyPart(); mmbp1.setText(pMsg + "\n绦薪Y束rg：" + new Date() + "\n收件rg：未知\n共：" + toEmailListArray.length + "位收件人\n工作愉快，日快罚",defaultLang);
 Multipart mp = new MimeMultipart(); mp.addBodyPart(mmbp1);
 MimeBodyPart mmbp2 = new MimeBodyPart(); FileDataSource fds = new FileDataSource(attachmentFilesName.toString()); mmbp2.setDataHandler(new DataHandler(fds)); mmbp2.setFileName(fds.getName()); mp.addBodyPart(mmbp2);
 /* if(attachmentFilesName != null){ String[] attachmentArray = attachmentFilesName.toString().split(TOKEN); FileDataSource fds; MimeBodyPart mmbpa; for (int i = 0; i &lt; attachmentArray.length; i++) { mmbpa = new MimeBodyPart(); fds = new FileDataSource(attachmentArray[i].toString()); mmbpa.setDataHandler(new DataHandler(fds)); mmbpa.setFileName(fds.getName()); mp.addBodyPart(mmbpa); fds = null; mmbpa = null; } attachmentArray = null; } */
 mimemessage.setContent(mp);
 System.out.println("send " + new Date());
 Transport transport = session.getTransport("smtp"); transport.send(mimemessage);
 transport.close();
 System.out.println("end " + new Date()); /* }catch(AddressException e){ e.printStackTrace(); }catch(MessagingException e){ e.printStackTrace(); }catch(UnsupportedEncodingException e){ e.printStackTrace(); */ }catch(Exception e){ e.printStackTrace(); } }
 public Mail3() { }
 public static void main(String[] args){ Mail3 mail= new Mail3(); mail.setSmtpHost("smtp.163.com"); //mail3.setValidate(false); mail.setValidate(true,"1fairy1@163.com","password"); mail.setLang(Mail3.LANG_BIG5); mail.setFrom("1fairy1@163.com","艾克司令"); mail.setTo("xlingFairy@hotmail.com,1snow1@163.com","西林,艾克司令"); mail.setAttachMent("D:\\Music\\PIC\\1370097.jpg"); mail.send("Java Emaily 祝日快罚","Java Email y\n各位好，日快罚⊥娴母吲d！\n绦虚_始rg：" + new Date()); }}
class PopupAuthenticator extends Authenticator { String username = null; String password = null; public PopupAuthenticator() {}
 public PasswordAuthentication performCheck(String user, String pass) { username = user; password = pass; return getPasswordAuthentication(); }
 protected PasswordAuthentication getPasswordAuthentication() { return new PasswordAuthentication(username, password); }}

日志标题：琐碎之：进制转换，日期格式，取毫秒，将查询结果写到文件
发表时间：2006-10-3 21:09:00
日志内容：由10进制转换为16进制，不过转换后，长度会有变化，1个X，会在前面加一个空格，2个会加两个，依次类推.其它的进制转换，好像没有直接提供．
WITH AA AS (SELECT 12 ORG,TO_CHAR(12,'X') HEX FROM DUAL)SELECT  ORG, HEX, LENGTH(HEX) LEN, ASCII(SUBSTR(HEX,1,1)) FIRST_CHR, REPLACE(HEX,' ','*') REP FROM  AA

---------------------------------------------------------------
会提示日期格式无法识别，SELECT TO_CHAR(SYSDATE,'YYYY年MM月DD日') FROM DUAL正确的写法是：SELECT TO_CHAR(SYSDATE,'YYYY"年"MM"月"DD"日"') FROM DUAL
---------------------------------------------------------------
取出毫秒数，9i以下的版本不支持The SYSTIMESTAMP function returns the system date, including fractional seconds and time zone of the database
SELECT TO_CHAR(SYSTIMESTAMP,'FF') FROM DUAL
---------------------------------------------------------------
把查询结果写到文件中
--SET HEADING OFF;SPOOL 'D:\\AA';SELECT NAME, SELL_NUM, DEPT, LAG(SELL_NUM,1,0) OVER (PARTITION BY DEPT ORDER BY SELL_NUM) AS PRE, LEAD(SELL_NUM,1,0) OVER(PARTITION BY DEPT ORDER BY SELL_NUM) AS NEXTFROMSELLER;SPOOL OFF;

日志标题：将FormsBuilder的WEB Application脱离浏览器显示
发表时间：2006-10-5 16:59:00
日志内容：如何使FormsBuilder应用的界面脱离浏览器显示．
首先打开在Oracle的DeveloperSuit的安装目录的form90下的formsweb.cfg文件，找到：separateFrame=false把false改为true，就行了．

日志标题：Built in function about Forms Errors
发表时间：2006-10-5 17:19:00
日志内容：FUNCTION ERROR_CODE : Returns the error number of the Oracle Forms error.FUNCTION ERROR_TEXT : Returns the message text of the Oracle Forms error.FUNCTION ERROR_TYPE : Returns the error message type for the action most recently performed during the current Runform session. 
FUNCTION DBMS_ERROR_CODE : Returns the error number of the last database error that was detected. 
FUNCTION DBMS_ERROR_TEXT : Returns the message number (such as ORA-01438) and message text of the database error.

日志标题：分析函数的应用：NBA赛事查询
发表时间：2006-10-9 8:32:00
日志内容：第一题：
查询曾经为队友的队员信息（姓名，位置，身高，体重，共事赛季）．那意思就是说：同一个赛季，同一个队里队员大于等2人．

SELECT      A.球员,     A.N0 AS 组别,     A.N1 AS 组内序号,     A.C1 AS 组内人数,     A.赛季,     A.球队,     B.身高,     B.体重,     B.位置 FROM (    SELECT        球员,赛季,球队,        RANK() OVER (ORDER BY 赛季,球队) AS N0,        ROW_NUMBER() OVER (PARTITION BY 赛季,球队 ORDER BY 球员) AS N1,        COUNT(*) OVER (PARTITION BY 赛季,球队) AS C1    FROM        STATICS) A,MEMBER BWHERE A.C1 &gt; 1    AND A.球员 = B.球员(+)

第二题：查询罚球命中率比奥尼尔还差的球员信息要用按赛季．其实分析函数没有派上用场！

SELECT      A.球员,A.罚球,A.赛季,     B.罚球 AS 奥尼尔的罚球,     B.赛季 AS 确认赛季FROM    STATICS A,    (    SELECT * FROM            (        SELECT            球员,罚球,赛季,            COUNT(*) OVER (PARTITION BY 赛季) C1        FROM            STATICS        )        WHERE       球员 = '沙奎尔-奥尼尔'    ) B    WHERE   A.赛季(+) = B.赛季   AND A.罚球 &lt; B.罚球

表结构及数据SQL文件：
http://files.myopera.com/xlingFairy/oracle/03.sql
原贴地址：
http://www.oracle.com.cn/thread-106050-1-1.html

日志标题：三个和尚没水喝后续故事
发表时间：2006-10-10 12:40:00
日志内容：一个和尚挑水吃、两个和尚抬水吃、三个和尚没水吃。总寺的方丈大人得知情况后，就派来了一名主持和一名书记，共同负责解决这一问题。主持上任后，发现问题的关键是管理不到位，于是就招聘一些和尚成立了寺庙管理部来制定分工流程。为了更好地借鉴国外的先进经验，寺庙选派唐僧等领导干部出国学习取经；此外，他们还专门花钱请了天主教、基督教的神父传授MBA。神父呆了不久留下几个东东就走了，一个叫BPR，一个叫ERP。

　　书记也没闲着，他认为问题的关键在于人才没有充分利用、寺庙文化没有建设好，于是就成立了人力资源部和寺庙工会等等，并认认真真地走起了竞聘上岗和定岗定编的过场。

　　几天后成效出来了，三个和尚开始拼命地挑水了，可问题是怎么挑也不够喝。不仅如此，小和尚都忙着挑水、寺庙里没人念经了，日子一长，来烧香的客人越来越少，香火钱也变得拮据起来。为了解决收入问题，寺庙管理部、人力资源部等连续召开了几天的会，最后决定，成立专门的挑水部负责后勤和专门的烧香部负责市场前台。同时，为了更好地开展工作，寺庙提拔了十几名和尚分别担任副主持、主持助理，并在每个部门任命了部门小主持、副小主持、小主持助理。

　　老问题终于得到缓解了，可新的问题跟着又来了。前台负责念经的和尚总抱怨口渴水不够喝，后台挑水的和尚也抱怨人手不足、水的需求量太大而且没个准儿，不好伺候。

　　为了更好地解决这一矛盾，经开会研究决定，成立一个新的部门：喝水响应部，专门负责协调前后台矛盾。为了便于沟通、协调，每个部门都设立了对口的联系和尚。 协调虽然有了，但效果却不理想，仔细一研究，原来是由于水的需求量不准、水井数量不足等原因造成的。于是各部门又召开了几次会，决定加强前台念经和尚对饮用水的预测和念经和尚对挑水和尚满意度测评等，让前后台签署协定、相互打分，健全考核机制。为了便于打分考核，寺院特意购买了几个计算机系统，包括挑水统计系统、烧香统计系统、普通香客捐款分析系统、大香客捐款分析系统、挨上必死系统（简称IBS系统）、马上就死系统（简称MS系统）等，同时成立香火钱管理部、香火钱出账部、打井策略研究部、打井建设部、打井维护部等等。由于各个系统出来的数总不准确、都不一致，于是又成立了技术开发中心，负责各个系统的维护、二次开发。由于部门太多、办公场地不足，寺院专门成立了综合部来解决这一问题，最后决定把寺院整个变成办公区，香客烧香只许在山门外烧。 

　　部门多、当官的多档和开会自然就多，为了减少文山会海，综合办牵头召开了N次关于减少开会的会，并下达了“关于减少档的档”。同时，为了精简机构、提高效率，寺院还成立了精简机构办公室、机构改革研究部等部门。 

　　一切似乎都合情合理，但香火钱和喝水的问题还是迟迟不能解决。问题在哪呢？有的和尚提出来每月应该开一次分析会，于是经营分析部就应运而生了。分析需要很多数据和报表，可系统总是做不到，于是每个部门都指派了一些和尚手工统计、填写报表、给系统打工。

　　寺院空前地热闹起来，有的和尚在拼命挑水、有的和尚在拼命念经、有的和尚在拼命协调、有的和尚在拼命分析……忙来忙去，水还是不够喝、香火钱还是不够用。什么原因呢？这个和尚说流程不顺、那个和尚说任务分解不合理，这个和尚说部门界面不清、那个和尚说考核力度不够。只有三个人最清楚问题之关键所在，那三个人就是最早的那三个和尚。说来说去，就是***闲人太多了！他们说：“整天瞎分析个屁！什么***流程问题、职责问题、接口问题、考核问题，明明就是机构臃肿问题！早知今日，还不如当初咱们仨自觉自律一点算了！如今倒好，招来了这么一大帮傻B，一个个不干正经事还***人五人六的，跟屎盆子一样甩都甩不掉！”

　　又过了一年，寺院黄了，和尚们也都死了。人们在水井边发现了几具尸体，是累死的；在寺院里发现了几千具尸体，是渴死的。

日志标题：FORALL
发表时间：2006-10-12 20:03:00
日志内容：Although the FORALL statement contains an iteration scheme (it iterates through all the rows of a collection), it is not a FOR loop. It does not, consequently, have either a LOOP or an END LOOP statement.
You must follow these rules when using FORALL:
The body of the FORALL statement is a single DML statement―an INSERT, UPDATE, or DELETE.FORALL语句体只能是单条DML语句．
The DML must reference collection elements, indexed by the index_row variable in the FORALL statement. The scope of the index_row variable is the FORALL statement only; you may not reference it outside of that statement.DML语句必须引用集合元素(???,关于此条，下文有说明)
Do not declare an INTEGER variable for index_row. It is declared implicitly by the PL/SQL engine.和FOR index_row IN .. END LOOP一样，index_row是隐含声明的．
The lower and upper bounds must specify a valid range of consecutive index numbers for the collection(s) referenced in the SQL statement. 
举例如：BEGIN FORALL I IN 1..10 INSERT INTO AA (ID) VALUES (I);END;
会提示：PLS-00430: 该上下文中不允许使用 FORALL 循环变量 I
PLS-00430: FORALL iteration variable string is not allowed in this context Cause: FORALL iteration variable can only be used as a subscript. It cannot be used directly or as a part of an expression.Action: Use FORALL variable only as a collection subscript.FORALL所隐含声明的变量不能直接用于表达式．只能和集合元素一起用．
DECLARE TYPE NUMBER_TYPE IS TABLE OF NUMBER; V_NUMBER NUMBER_TYPE := NUMBER_TYPE(1,2,3,4,5,6,7,8,9,10);BEGIN FORALL I IN V_NUMBER.FIRST..V_NUMBER.LAST INSERT INTO AA (ID) VALUES (V_NUMBER(I));END;

日志标题：用Toad把Excel数据导入Oracle
发表时间：2006-10-12 21:21:00
日志内容：一，

二，

三，

四，

五，

六，略去两个界面．

七，在略去几个界面．

日志标题：我的家乡：河南省排名倒数第一的地方
发表时间：2006-10-13 10:19:00
日志内容：http://www.henannews.com.cn/cnsnews/35/2006-04-20/news-35-48701.shtml
淮滨的企业为什么会相继倒闭？？？难道没有人敢说是由于造假？？？最起码这一条是个不可忽略的因素．
淮滨为什么穷？？？难道没有人敢说是由于贪？？？在政府的文件里，淮滨将投入50亿元加强工业，还将大力招商引资发展工业，试问一句，有多少钱能落到实处？？？
酒厂还是能让我感到自豪的，因为我上小学的时候就开始喝酒（不要想歪了），喝的就是我们县里酒厂产的酒－－乌龙大曲，乌龙特曲（现在有三星级，五星级，还有什么十年，二十年了）．
以经有两个春节没有在家里过了，想我爸妈，想我家的饭菜．．．
明年回家也看不到家里的老房子了（虽然很破），扒了，正在盖新房，准备我结婚用（虽然我不准备在家里住）．．．

日志标题：物化视图
发表时间：2006-10-14 8:45:00
日志内容：ORACLE中的物化视图
 物化视图是包括一个查询结果的数据库对像，它是远程数据的的本地副本，或者用来生成基于数据表求和的汇总表。物化视图存储基于远程表的数据，也可以称为快照。
 物化视图可以查询表，视图和其它的物化视图。
 通常情况下，物化视图被称为主表（在复制期间）或明细表（在数据仓库中）。
 对于复制，物化视图允许你在本地维护远程数据的副本,这些副本是只读的。如果你想修改本地副本，必须用高级复制的功能。当你想从一个表或视图中抽取数据时，你可以用从物化视图中抽取。
 对于数据仓库，创建的物化视图通常情况下是聚合视图，单一表聚合视图和连接视图。
本篇我们将会看到怎样创建物化视图并且讨论它的刷新选项。
 在复制环境下，创建的物化视图通常情况下主键，rowid,和子查询视图。
1.主键物化视图：
 下面的语法在远程数据库表emp上创建主键物化视图
 SQL&gt; CREATE MATERIALIZED VIEW mv_emp_pk REFRESH FAST START WITH SYSDATE  NEXT SYSDATE + 1/48 WITH PRIMARY KEY  AS SELECT * FROM emp@remote_db; Materialized view created.
 注意：当用FAST选项创建物化视图，必须创建基于主表的视图日志,如下:
 SQL&gt; CREATE MATERIALIZED VIEW LOG ON emp; Materialized view log created.
2.Rowid物化视图
 下面的语法在远程数据库表emp上创建Rowid物化视图
 SQL&gt; CREATE MATERIALIZED VIEW mv_emp_rowid  REFRESH WITH ROWID  AS SELECT * FROM emp@remote_db;  Materialized view log created.
3.子查询物化视图
 下面的语法在远程数据库表emp上创建基于emp和dept表的子查询物化视图
 SQL&gt; CREATE MATERIALIZED VIEW mv_empdept AS SELECT * FROM emp@remote_db e WHERE EXISTS (SELECT * FROM dept@remote_db d WHERE e.dept_no = d.dept_no); Materialized view log created.
 REFRESH 子句
 [refresh [fast|complete|force] [on demand | commit] [start with date] [next date] [with {primary key|rowid}]]
 Refresh选项说明:
 a.oracle用刷新方法在物化视图中刷新数据. b.是基于主键还是基于rowid的物化视图 c.物化视图的刷新时间和间隔刷新时间
Refresh方法-FAST子句
 增量刷新用物化视图日志（参照上面所述）来发送主表已经修改的数据行到物化视图中.如果指定REFRESH FAST子句，那么应该对主表创建物化视图日志 SQL&gt; CREATE MATERIALIZED VIEW LOG ON emp; Materialized view log created.
 对于增量刷新选项，如果在子查询中存在分析函数，则物化视图不起作用。
Refresh方法- COMPLETE子句 完全刷新重新生成整个视图，如果请求完全刷新，oracle会完成 完全刷新即使增量刷新可用。
Refresh Method C FORCE 子句 当指定FORCE子句，如果增量刷新可用Oracle将完成增量刷新，否则将完成完全刷新,如果不指定刷新方法(FAST, COMPLETE, or FORCE),Force选项是默认选项
主键和ROWD子句 WITH PRIMARY KEY选项生成主键物化视图,也就是说物化视图是基于主表的主键，而不是ROWID(对应于ROWID子句). PRIMARY KEY是默认选项,为了生成PRIMARY KEY子句，应该在主表上定义主键，否则应该用基于ROWID的物化视图

日志标题：Because&nbsp;of&nbsp;you
发表时间：2006-10-14 20:00:00
日志内容：这些天，心情一直不好．反复的听这首歌．

Because Of You (Written by Kelly Clarkson/David Hodges/Ben Moody) 
I will not make The same mistakes that you did I will not let myself Cause my heart so much misery I will not break The way you did, you fell so hard I've learned the hard way To never let it get that far 
Because of you I never stray too far from the sidewalk Because of you I learned to play on the safe side so I don't get hurt Because of you I find it hard to trust not only me, but everyone around me Because of you I am afraid 
I lose my way And it's not too long before you point it out I cannot cry Because I know that's weakness in your eyes I'm forced to fake A smile, a laugh, every day of my life My heart can't possibly break When it wasn't even whole to start with Because of you I never stray too far from the sidewalk Because of you I learned to play on the safe side so I don't get hurt Because of you I find it hard to trust not only me, but everyone around me Because of you I am afraid I watched you die I heard you cry every night in your sleep I was so young You should have known better than to lean on me You never thought of anyone else You just saw your pain And now I cry in the middle of the night For the same damn thing Because of you I never stray too far from the sidewalk Because of you I learned to play on the safe side so I don't get hurt Because of you I try my hardest just to forget everything Because of you I don't know how to let anyone else in Because of you I'm ashamed of my life because it's empty Because of you I am afraid 
Because of you

日志标题：今天去找工作了！
发表时间：2006-10-15 18:32:00
日志内容：今天去了趟人才市场．不过，没有收获．总结如下三条：1,资历不够（工作经验不足三年）．2,专长不对口．3，招的少．
　　当初选择来这里做Oracle就是为着学会它能有个好待遇．在这里是不行了，所以现在琢磨着换份新工作，换换新环境．但是我从毕业前的半年开始算起，到现在还不到两年，资历不够，做这行的，一般都要求至少三年经验．
　　有个龙记集团，我有个同事，他女友以前在那里上班，听他说，做Oracle的，如果去那里面试，自己开的工资少于5000，人家是不会考虑的．今天我把简历递上去，人家一看，才算一年半工作经验，其中一个人直摇头．又问我主要做什么工作，我说写FormsBuilder程序，开发报表，但不是ReportsBuilder．现在想想，像这样的大企业，系统无非就是OracleERP/SAP,去那里做程序员，是没有机会修改源码的，可能就只是写报表，用ReportsBuilder.我这里例外，ERP是台湾易思普公司写的，也是Oracle的，买下了源码，所以，我可以修改源码，但是报表工具用的是SmartQuery，所以，我对ReportsBuilder很不熟悉．
　　今天总共投了两份简历，有一家是可口可乐东莞瓶装公司，去招聘的是个人事，说这个岗位太专业了，她不懂，把我的简历带回去了．我估计没戏，他们上面写的要求我就满足一条，就是熟悉PL/SQL，Oracle程序编写．还有一条写的是熟悉什么ABCP什么的，我都没有听说过．
　　女友一直让我到深圳找工作，但是到深圳招这方面的一般都是软件公司．在软件公司，如果效益好的话，工资还是有得发的，但是，如果效益不好的话，可能一连几个月就只有喝凉水的份了．
　　不顺，看来要猛功ReportsBuilderb了，可是又苦于没有资料，网上连个毛都没有，现在唯一能看就是ReportsBuilder的帮助了，还全英的！
　　我以经连续看了几个月的英文资料了，难怪我咋感觉我的英文水平提高了呢．

日志标题：语言排序之函数篇：NLSSORT
发表时间：2006-10-17 16:55:00
日志内容：先见：http://xling.blueidea.com/archives/2006/2922.shtml
在那篇日志里，是用
ALTER SESSION SET NLS_SORT = '...'
的方法来指定的，但是它会影响到整个会话(SESSION)．
刚才去www.oracle.com.cn看了看，发现一个函数：
NLSSORT，可以用来进行语言排序，且不影响当前会话．
The NLSSORT or National Language Sort function allows you to specify a sort sequence and a string to be sorted and returns a sorted string. If you don't specify the 'NLS_SORT = ' sort string parameters, the sort will default to the value set for your session.Both char and nlsparam can be any of the datatypes CHAR, VARCHAR2, NCHAR, or NVARCHAR2. The string returned is of RAW datatype.
The value of 'nlsparams' can have the form
'NLS_SORT = sort'where sort is a linguistic sort sequence or BINARY. If you omit 'nlsparams', this function uses the default sort sequence for your session. If you specify BINARY, this function returns char.
Note: This function does not support CLOB data directly. However, CLOBs can be passed in as arguments through implicit data conversion.
The keyword BINARY can be used if desired. Essentially, BINARY indicates a pass through and the original value of the string to be sorted is returned.
The NLSSORT function can be used in WHERE and ORDER BY clauses to allow linguistic rather than binary based sorts. The ORACLE7 Server Application Developer's Guide provides some examples of how the NLSSORT function can be used.
例：

拼音SELECT * FROM TEAM ORDER BY NLSSORT(队名,'NLS_SORT = SCHINESE_PINYIN_M')笔划SELECT * FROM TEAM ORDER BY NLSSORT(队名,'NLS_SORT = SCHINESE_STROKE_M')部首SELECT * FROM TEAM ORDER BY NLSSORT(队名,'NLS_SORT = SCHINESE_RADICAL_M')

日志标题：回滚到指定点：SAVEPOINT & ROLLBACK TO
发表时间：2006-10-18 15:47:00
日志内容：
SAVEPOINT gives a name to and marks a point in the processing of your transaction. This marker allows you to ROLLBACK TO that point, erasing any changes and releasing any locks issued after that savepoint, but preserving any changes and locks which occurred before you marked the savepoint.
Note that savepoint_name is an undeclared identifier. This means that it must conform to the rules for an Oracle identifier (up to 30 characters in length, starting with a letter, containing letters, numbers and #, $, or _), but that you do not need to (nor can you) declare that identifier.注意：savepoint_name是一个未声明的标识符．意思是它的命名要符合Oracle标识符的规则．但是你不需要对它进行声明（也不能进行声明）．
When you ROLLBACK, you undo some or all changes made by your session to the database in the current transaction. The ROLLBACK statement is important because it allows you to clean up or restart from a "clean state" when a problem occurs.
There are two basic ways to use ROLLBACK:
Without parameters - Undoes all outstanding changes in your transaction.With the TO clause - Indicates a savepoint at which the ROLLBACK should stop. ROLLBACK TO allows you to undo all changes and release all acquired locks which were issued since the savepoint identified by savepoint_name was marked. See the SAVEPOINT statement for more information on how to mark a savepoint in your application.
注意事项：
ROLLBACK SAVEPOINT;  -- ORA-02181: invalid option to ROLLBACK WORK -- Must use TO keyword before SAVEPOINT（必须用ROLLBACK TO 语法）.
ROLLBACK WORK TO;  -- ORA-02182: save point name expected -- Must specify savepoint name（必须指定savepoint name）.
ROLLBACK TO SAVEPOINT 'favorite_movies';  -- ORA-03001: Unimplemented feature -- Savepoint cannot be in quotes.（Savepoint不能被引号括住）
例：
BEGIN FOR I IN 9..20 LOOP  IF I = 15 THEN SAVEPOINT POINT15; END IF;  INSERT INTO TST (ID,NAME) VALUES (I,'XLING'); END LOOP; ROLLBACK TO POINT15; COMMIT;END;

日志标题：吊什么吊，我怕你吗？
发表时间：2006-10-18 19:19:00
日志内容：第一封（刘某）：
---------------------------------------------------------------------------
TO:ALL

ERP作I近10天rg都o法正常作I,只有炔烤Wj可用即**.**.**.**c**.**.**.**#(其它三都o法上) 但蟊o法D出,B已入系y的Y料都o法z,生a我o法l放,每次l生a味家求_通外部Wj;昨天_通Wj今天o法登入,第二人Tf_北}而o法解c解Q,需等_北上班才可,建h大上班跟_北一r算了,上班也o法做事,需等_北上班才可做事!

第二封（我）：
-------------------------------------------------------------------------
@封]件lo永和的全w同仁，不只lo我！

第三封（刘某）：
-------------------------------------------------------------------------
又不是永和全w人TSoERP程序c拿此份薪水!

第四封（我）：
-------------------------------------------------------------------------

我不想和任何人Y怨，
您以後不要把矛^指向我。
φl不M您可以找l去。


第五封（刘某）：
-------------------------------------------------------------------------
 有f^你? 你的名字是看^,但我不知你是那一位,ERP人T我只JR小倪c郭旭,其它二位分不清, l把矛^指向你,(自已拿著μ入座而已), ERP有}不提出?每次ERP不行o金先生rf需先找第一、二人T,Y果是什N,叫金先生收回此,ERP有}不提出,不工作就是,更不找第一、二人T理,我也免麻砬告奶奶的!

第六封（我的上司）：
--------------------------------------------------------------------------

＊＊＊（我）,

到此橹梗您不要再回任何信件

第七封（我的上司）：
---------------------------------------------------------------------------
我只把您（刘某）子看吧 !

第八封（厂里的领导）：
---------------------------------------------------------------------------

台北搬k公室. 原本就有滋斓木W路不r期.我公司裼＞\作 ERP . 工作的\作h境是相不e的. 
就@滋扔邪l生W路困_, 所有相P人T理多待一些. 深知大家都是楣事在作事. ]有必要如此激烈峰相. 
每天都要面上班工作. 大家是好同事. 
金先生已要求 ERP/MIS 人T重新z查工作h境, 就表示已有注意及重此} .

第九封（我）：
--------------------------------------------------------------------------

我@封]件就只lo你：
e拿自己太根葱，你算老装。
吊什麽吊，有本事你把我取О。
b什麽大啊！
我w你管幔浚
你可以把@封]件lo所有人！
我不怕。

日志标题：Building a Two-Query Group Report
发表时间：2006-10-20 20:59:00
日志内容：连续看了好几天的E文的Reports Builder的online help后，终于找到如何手动新建一个报表的第一步了！
先从如何新建一个有两个查询组成的子母报表开始（当然，用一个查询来做，可以做的更好）
参考文档：http://www.comp.hkbu.edu.hk/docs/o/dl/bi/B10602_01/orbr_grpl_multi.htm#1012751online help里给的地址找不到，上面这个地址是从GOOGLE里查的．
演示：http://files.myopera.com/xlingFairy/swf/TwoQueryGroupQuery.swf




日志标题：每一个女人都漂亮
发表时间：2006-10-21 9:31:00
日志内容：A little boy asked his mother "Why are you crying?" 一个男孩问他的妈妈：“ 你为什么要哭呢？” "Because I'm a woman," she told him. 妈妈说：“因为我是女人啊。” "I don't understand," he said. 男孩说： “我不懂。” His mum just hugged him and said, "And you never will" 他妈妈抱起他说：“你永远不会懂得。”
Later the little boy asked his father, "Why does mother seem to cry for no reason?"后来小男孩就问他爸爸：“妈妈为什么毫无理由的哭呢？” "All women cry for no reason," was all his dad could say. “所有女人都这样。”他爸爸回答。
The little boy grew up and became a man, still wondering why women cry. 小男孩长成了一个男人,但仍就不懂女人为什么哭泣.
Finally he put in a call to God; and when God got on the phone, he asked, "God, why do women cry so easily?"“最后,他打电话给上帝;当上帝拿起电话时,他问道：“上帝,女人为什么那么容易哭泣呢？”
God said: "When I made the woman she had to be special. I made her shoulders strong enough to carry the weight of the world; yet, gentle enough to give comfort" 上帝回答说:“当我创造女人时,让她很特别.我使她的肩膀能挑起整个世界的重担;并且,又柔情似水
"I gave her an inner strength to endure childbirth and the rejection that many times comes from her children" 我让她的内心很坚强,能够承受分娩的痛苦和忍受自己孩子多次的拒绝。
"I gave her a hardness that allows her to keep going when everyone else gives up, and take care of her family through sickness and fatigue without complaining " 我赋予她耐心使她在别人放弃的时候继续坚持,并且无怨无悔的照顾自己的家人渡过疾病和疲劳。
"I gave her the sensitivity to love her children under any and all circumstances, even when her child has hurt her very badly" 我赋予她在任何情况下都会爱孩子的感情,即使她的孩子伤害了她
"I gave her strength to carry her husband through his faults and fashioned her from his rib to protect his heart" 我赋予她包容她丈夫过错的坚强和用他的勒骨塑成她来保护他的心。
"I gave her wisdom to know that a good husband never hurts his wife, but sometimes tests her strengths and her resolve to stand beside him unfalteringly" 
我赋予她智慧让她知道一个好丈夫是绝不会伤害他的妻子的,但有时我也会考验她支持自己丈夫的决心和坚强。
And finally, I gave her a tear to shed. This is her particularly to use whenever it is needed." 最后,我让她可以流泪.只要她愿意。这是她所独有的。
You see: The beauty of a woman is not in the clothes she wears, the figure that she carries, or the way she combs her hair." 你看,女人的漂亮不是因为她穿的衣服,她保持的体型或者她梳头的方式 
"The beauty of a woman must be seen in her eyes, because that is the doorway to her heart , the place where love resides." 女人的漂亮必须从她的眼睛中去看,因为那是她心灵的窗户和爱居住的地方。”

日志标题：Building a Group Left Formula Report
发表时间：2006-10-21 17:08:00
日志内容：关键处：自定计算字段．当然用SQL语句完全可以解决．
制作过程演示：3.2M，有点大，想看的，请耐心等待．http://files.myopera.com/xlingFairy/swf/FormulaAndGroup.swf



日志标题：SYNONYM 同义字(词)
发表时间：2006-10-23 9:20:00
日志内容：原来一直在迷惑，不同的用户建的table,view,sequence究竟要如何与其它用户共享，而且不需加Schema呢？看完下面的文字就会明白了．
使用 CREATE SYNONYM 语句为现有表、视图或序列对象声明并注册备用名。 该语句是 SQL ANSI/ISO 标准的扩展。
在Knowledge Xpert for PL/SQL上没有找到SYNONYM的相关信息，百度了一下，查到了IBM的数据库Informix的帮助．http://publib.boulder.ibm.com/infocenter/idshelp/v10/index.jsp?topic=/com.ibm.sqls.doc/sqls269.htm
CREATE [PUBLIC | PRIVATE] SYNONYM synonym_name FOR &lt;table_name | view_name | sequence&gt;
不能在相同的数据库中为同义词创建同义词。
一旦创建了同义词，则它会一直持续到所有者执行 DROP SYNONYM 语句。（此持久性将同义词与您能在 SELECT 语句的 FROM 子句中声明的别名区别开来；别名仅在 SELECT 语句的执行期间位于作用域内。）如果同义词引用相同数据库中的表、视图或序列，则该同义词在所引用的表、视图或序列被删除时自动删除。
CREATE SYNONYM需要相关的权限．
现在在SYSTEM用户下执行以下语句：CREATE OR REPLACE PUBLIC SYNONYM TSTT FOR XLING.TST
因为TST表是XLING用户创建的，所以要加上SCHEMA:XLING现执行：SELECT * FROM TSTT
和：SELECT * FROM TST结果一样．

日志标题：函数：TO_SINGLE_BYTE
发表时间：2006-10-23 13:35:00
日志内容：TO_SINGLE_BYTE(char)TO_SINGLE_BYTE returns char with all of its multibyte characters converted to their corresponding single-byte characters. char can be of datatype CHAR, VARCHAR2, NCHAR, or NVARCHAR2. The value returned is in the same datatype as char.Any multibyte characters in char that have no single-byte equivalents appear in the output as multibyte characters. This function is useful only if your database character set contains both single-byte and multibyte characters. When specifying sizes for transfer variables, be sure to allow for the decrease in length caused from going into single-byte format.
Note: This function does not support CLOB data directly. However, CLOBs can be passed in as arguments through implicit data conversion.
函数TO_SINGLE_BYTE将多字节字符返回其对应的单字节字符。比如将中文标点转成相应的英文标点。但是不要妄想把汉字转成什么单字节的字符噢！
WITH A AS (SELECT '大，？？？小多少' AS V FROM DUAL)SELECT  To_single_byte(V), LENGTHB(To_single_byte(V)) L1 , V, LENGTHB(V) L2 FROM A



日志标题：I'll&nbsp;leave&nbsp;it&nbsp;up&nbsp;to&nbsp;you
发表时间：2006-10-24 13:28:00
日志内容：
I'll leave it up to you -- Don Philip Robertson 
Tell me what you wanna do I will leave it up to you But I don't wanna lose you now Tomorrow or forever I'll give you all the time you need Hoping you will come to see That you and I were meant to be Made to be together I'm so scared I never thought I'd lose the Love we shared The love that always felt so right CHORUS:I'll leave it up to you,'cause I know I could never let you go I'll leave it up to you to decide Search your heart your soul my eyes I promise you there's no deeper love than mine We could try to start again We were once the best of friends Tell me you remember when You couldn't live without me I can't believe There's nothing I can do about it Baby please Why can't we give it one more chance CHORUS-repeat I promise you there's no deeper love Tell me what you want to do I'll leave it up to you

日志标题：MERGE statement
发表时间：2006-10-24 15:31:00
日志内容：The MERGE statement inserts some rows and updates others in a single operation. The decision about whether to update or insert into the target table is based upon a join condition: rows already in the target table that match the join condition are updated; otherwise a row is inserted using values from a separate subquery.
Usage NotesThis statement is primarily useful in data warehousing situations where large amounts of data are commonly inserted and updated.
MERGE [hint] INTO [schema .] table [t_alias] USING [schema .] { table | view | subquery } [t_alias] ON ( condition ) WHEN MATCHED THEN merge_update_clause WHEN NOT MATCHED THEN merge_insert_clause;
先建表：
CREATE TABLE LOGIN_LOG( NAME VARCHAR2(20), LOGIN_TIME DATE)ALTER TABLE LOGIN_LOG ADD (TIME NUMBER)
执行过程：
DECLARE TYPE NAME_TYPE_LIST IS TABLE OF VARCHAR2(20); NAME_LIST NAME_TYPE_LIST := NAME_TYPE_LIST('xling','fairy','xling','snow','xling','snow');BEGIN FOR I IN 1..NAME_LIST.COUNT LOOP   DBMS_OUTPUT.PUT_LINE(NAME_LIST(I));   MERGE INTO LOGIN_LOG L USING (SELECT NAME_LIST(I) AS NAME FROM DUAL) N ON (L.NAME = N.NAME) WHEN MATCHED THEN  UPDATE SET LOGIN_TIME = SYSDATE,TIME = TIME + 1 WHEN NOT MATCHED THEN  INSERT (NAME,LOGIN_TIME,TIME) VALUES (NAME_LIST(I),SYSDATE,1);  END LOOP;  COMMIT;END;
后用:SELECT * FROM LOGIN_LOG

另我不解的是，我一开始把过程写成：
DECLARE TYPE NAME_TYPE_LIST IS TABLE OF VARCHAR2(20); NAME_LIST NAME_TYPE_LIST := NAME_TYPE_LIST('xling','fairy','xling','snow','xling','snow');BEGIN FOR I IN 1..NAME_LIST.COUNT LOOP   DBMS_OUTPUT.PUT_LINE(NAME_LIST(I));   MERGE INTO LOGIN_LOG L USING (SELECT NAME FROM LOGIN_LOG WHERE NAME = NAME_LIST(I)) N ON (L.NAME = N.NAME) WHEN MATCHED THEN  UPDATE SET LOGIN_TIME = SYSDATE,TIME = TIME + 1 WHEN NOT MATCHED THEN  INSERT (NAME,LOGIN_TIME,TIME) VALUES (NAME_LIST(I),SYSDATE,1);  END LOOP;  COMMIT;END;
执行后，用SELECT选择该表，发现只有表中有的对应的NAME才被UPDATE,即，根本就没有执行INSERT操作.不解。

日志标题：艾克司令头像的出处
发表时间：2006-10-24 20:09:00
日志内容：终于找到了我（艾克司令）的头像出处的图片了，不知道这个图片是不是一个系列，还有没有别的有意思的。


另附：五十六个民族族标http://files.myopera.com/xlingFairy/images/56.rar

日志标题：三十岁前不要去在乎的18件事 转载
发表时间：2006-10-26 15:04:00
日志内容：1．放弃 　　把握的反面就是放弃，选择了一个机会，就等于放弃了其它所有的可能。当新的机会摆在面前的时候，敢于放弃已经获得的一切，这不是功亏一篑，这不是半途而废，这是为了谋求更大的发展空间；或者什么都不为，只因为喜欢这样做，因为，年轻就是最大的机会。人，只有在三十岁之前才会有这个胆量，有这个资本，有这个资格。 2.失恋 　　不是不在乎，是在乎不起。三十岁前最怕失去的不是已经拥有的东西，而是梦想。爱情如果只是一个过程，那么正是这个年龄应当经历的，如果要承担结果，三十岁以后，可能会更有能力，更有资格。其实，三十岁之前我们要做的事情很多，稍纵即逝，过久地沉溺在已经干涸的爱河的河床中，与这个年龄的生命节奏不合 3.漂泊 　　漂泊不是一种不幸，而是一种资格。趁着没有家室拖累，趁着身体健康，此时不飘何时飘？当然，漂泊的不一定是身体，也许只是幻想和梦境。新世纪的时尚领袖是飘一代，渴望漂泊的人惟一不飘的是那颗心。 4.失业 　　三十岁以前就尝到失业的滋味当然是一件不幸的事，但不一定是坏事。三十岁之前就过早地固定在一个职业上终此一生也许才是最大的不幸。失业也许让你想起埋藏很久而尘封的梦想，也许会唤醒连你自己都从未知道的潜能。也许你本来就没什么梦想，这时候也会*着你去做梦。 5.评价 　　我们最不应该做出的牺牲就是因为别人的评价而改变自我，因为那些指手画脚的人自己也不知道他们遵从的规则是什么。千万不要只遵从规矩做事，规矩还在创造之中，要根据自己的判断做每一件事，虽然这样会麻烦一点。 6.浅薄 　　如果每看一次《泰坦尼克号》就流一次眼泪，每看一次《大话西游》就笑得直不起腰，就会有人笑你浅薄。其实那只能说明你的神经依旧非常敏锐，对哪怕非常微弱的刺激都会迅速做出适应的反应；等你的感觉迟钝了，人们就会说你深沉了。 7.疯狂 　　这是年轻人最好的心理调适，只能说明你精力旺盛，身心健康。说你“疯狂”是某些生活压抑、心力交瘁的中老年人恶意的评价，他们就像一部年久失修的机器，最需要调试，但只能微调，一次大修就会让他们完全报废。 8.失意 　　包括感情上的，事业上的，也许仅仅是今天花了冤枉钱没买到可心的东西，朋友家高朋满座自己却插不上一句话。过分在乎失意的感受不是拿命运的捉弄来捉弄自己，就是拿别人的错误来惩罚自己。 9.代价 　　不是不计代价，而是要明白做任何事都要付出代价。对我们这个年龄的人来说，这绝不是一句废话。否则，要到三十岁的时候才会明白自己曾经付出了多少代价，却不明白为什么付出，更不明白自己得到了多少，得到什么 10.稳定 　　三十岁之前就在乎稳定的生活，那只有两种可能，要么就是中了彩票，要么就是未老先衰。 11.房子 　　除非你买房子是为了升值，要么就是你结婚了。我有个同学，家在外地，大学毕业之后，单位没有宿舍，家里就给他买了一套房子。他曾经有过去北京工作的机会，但是他觉得刚买了房子就离开这座城市说不过去，就放弃了。到现在他工作稳定，但一事无成。 　　唯一的成就就是结婚了，并且有了孩子，因为他觉得该让这房子永远空着，所以房子变成了家。房子是都市生活的寓言，这个寓言不应该过早的和我们相关 12.谣言 　　这是一种传染病，沉默是最好的疫苗。除非你能找出传染源，否则解释恰恰会成为病毒传播最理想的条件 13．薪水 　　只要是给人打工，薪水再高也高不到哪儿去。所以在三十岁之前，机会远比金钱重要，事业远比金钱重要，将来远比金钱重要。对大多数人来说，三十岁之前干事业的首要目标绝不是挣钱，而是挣未来重要． 14．存款 　　这倒不一定是因为我们钱少，年轻人现在谁都知道钱是有生命的。机会这么多，条件这么好，可以拿钱去按揭，做今天的事，花明天的钱；也可以拿钱去投资，拿钱去“充电“。钱只有在它流通的过程中才是钱，否则只是一沓世界上质量最好的废纸。 15.幼稚 　　不要怕人说我们幼稚，这正说明你还年轻，还充满活力。「成熟」是个吓人的词儿，也是个害人的词儿。成熟和幼稚是对一个人最大而无当、最不负责任、最没用的概括。那些庸人，绝不会有人说他们幼稚。不信，到哪天你被生活压得老气横秋，暮气沉沉的时候，人们一定会说你成熟了，你就会知道「成熟」是个什么东西。 16.缺陷 　　也许你个子矮，也许你长得不好看，也许你的嗓音像唐老鸭……那么你的优势就是你不会被自己表面的浅薄的亮点所耽搁，少花一些时间，少走一些弯，直接发现你内在的优势，直接挖掘自己深层的潜能。 17.压力 　　中年人能够承受多大压力检验的是他的韧性；年轻人能承受多大压力，焕发的是他的潜能。 18.孤独 　　这是为自由付出的代价。！◎

日志标题：难道是FormsBuilder的Bug?
发表时间：2006-10-27 14:00:00
日志内容：如下这段代码，是用来取异动日期内指定币别的海关汇率的。
这个函数只是当异常（NO_DATA_FOUND）发生的时候才执行，因为很有可能某个日期没有在任何生效日期和失效日期之间，这时就需要计算和异动日期最近的有效时间段的汇率了。
由于伪例rownum并不是在order by的计算出来的（如下图所示），为了达到rownum按日期间隔差排列，不得以用了多层子查询(如下图的下图所示)。



CREATE OR REPLACE FUNCTION JD_GET_NEAREST_EXCH(I_DATE IN DATE,I_CURR_CODE IN VARCHAR2,I_COMP_NO IN VARCHAR2) RETURN NUMBER ISV_EXCH NUMBER;BEGINSELECT EX_CHANGE INTO V_EXCH FROM (SELECT * FROM( ( SELECT  CURR_CODE,EFF_DATE,EXP_DATE,EX_CHANGE, I_DATE - EFF_DATE AS VAL FROM  ASP_CURR_EXCH WHERE I_DATE &gt; EFF_DATE AND COMP_NO = I_COMP_NO AND CURR_CODE = I_CURR_CODE ) UNION ALL ( SELECT  CURR_CODE,EFF_DATE,EXP_DATE,EX_CHANGE, EXP_DATE - I_DATE AS VAL FROM  ASP_CURR_EXCH WHERE I_DATE &lt; EXP_DATE AND COMP_NO = I_COMP_NO AND CURR_CODE = I_CURR_CODE )) ORDER BY VAL) WHERE ROWNUM = 1; RETURN V_EXCH; END;/
以上代码在TOAD里执行，没有任何错误，但是我把它写到FormsBuilder里，却出现了错误（如图所示）：

真是不解，只好把这个功能写到数据库里了！晕死。

日志标题：在ReportsBuilder里动态加入图片
发表时间：2006-10-27 21:04:00
日志内容：Building a Report with Dynamic Graphics参考文章：http://www.comp.hkbu.edu.hk/docs/o/dl/bi/B10602_01/orbr_dyngraph.htm#1010070
本文介绍两种向ReportsBuilder中加入图片的方法。一种是从数据库里读取图片的地址，另一种是用File Link。
在报表中，可用的图片格式可以是：TTF,GIF,JPEG(JPG),BMP,PNG（可能ReportsBuilder 6i不支持PNG）等。
文中还要求修改注册表主键：REPORTS_PATH，把存放图片的文件完整的加到后面，我加了，但是没有起作用。这个键在我机子上是：HKEY_LOCAL_MACHINE\SOFTWARE\Oracle\HOME0
PS：前天，上司让我用SmartQuery做一个采购单列印（打印）报表，但是那个工具好像没有提供动态插入图片的功能(它是基于EXCEL的，转EXCEL方便)，所以，就...



日志标题：写了一超级变态的SQL查询
发表时间：2006-10-28 16:12:00
日志内容：成品尾阶用料查询，还要查出最近采购单价和最低采购单价，还要查指定日期（默认为当天）的采购币别对应的海关汇率。这个工作量，简直难以言欲。而且报表工具还不具被写过程（可以在过程里写变量）的能力，只能写SELECT语句，我又不想写VIEW。。。
耗了今天一天的时间，最让我难以忍受不了的是网络那个叫卡，写程序都是远程登陆到服务器上进行，MD对服务器的ping值忽高忽低，害得我只好慢慢敲键盘。
发现：SYS_CONNECT_BY_PATH原来是不被Oracle9i以下的版本所支持的，下面代码里对尾阶的取法有点牵强，还得想办法把这个给取代掉。
汗...我都不想数用了几层子查询了。。
/* Formatted on 2006/10/28 16:24 (Formatter Plus v4.8.7) */SELECT b.component_part_no, b.per_qty, b.attrition_rate, b.desp, b.comp_no, b.part_desp, b.width, b.weight, b.source_code, b.basic_unit_code, b.curr_code, b.nearest_price, b.min_price, b.exch_rate, b.per_qty * (1 + b.attrition_rate) * b.exch_rate * b.nearest_price AS ntd_amt_nearest, b.per_qty * (1 + b.attrition_rate) * b.exch_rate * b.min_price AS ntd_amt_min FROM (SELECT a.*, asp_part.desp AS part_desp, asp_part.width, asp_part.weight, asp_part.source_code, asp_part.basic_unit_code, jd_pkg_curr_price_exch.f_get_nearest_curr (a.component_part_no, a.comp_no ) AS curr_code, jd_pkg_curr_price_exch.f_get_nearest_price (a.component_part_no, a.comp_no ) AS nearest_price, jd_pkg_curr_price_exch.f_get_min_price (a.component_part_no, a.comp_no ) AS min_price, jd_pkg_curr_price_exch.f_get_exch_by_date (a.comp_no, (jd_pkg_curr_price_exch.f_get_nearest_curr (a.component_part_no, a.comp_no ) ), SYSDATE ) AS exch_rate FROM (SELECT component_part_no, SUM (per_qty) AS per_qty, NVL (attrition_rate, 0) AS attrition_rate, desp, comp_no FROM (SELECT parent_part_no, component_part_no, item_no, per_qty, attrition_rate, desp, effective_date, closed_date, comp_no FROM asp_bom WHERE SYSDATE BETWEEN effective_date AND closed_date AND comp_no = 'JD0201' CONNECT BY PRIOR component_part_no = parent_part_no START WITH parent_part_no = '5201-3220101011') WHERE component_part_no LIKE '1%' GROUP BY component_part_no, attrition_rate, desp, comp_no) a, asp_part WHERE a.comp_no = asp_part.comp_no(+) AND a.component_part_no = asp_part.code(+) ORDER BY a.component_part_no) b


日志标题：以最快的速度来完成任务，却惹来大堆不是
发表时间：2006-10-30 9:04:00
日志内容：说实话，我每天都可以腾出大把空闲的时间来学自己要学的东西（包括泡Blueidea）。
上周五下班的时候发给我的两个任务，要求我在11月1号之前完成，中间还有一天是周日。我周六用半天时间完成了第一个，没有想到却惹来大堆不是。
之前，我和部门的几位还有上司讨论过如何如何×××，我说我不赞成写VIEW，因为好多VIEW也是用VIEW来够成的，而且只用在一个地方，看别人写程序本来就是一件痛苦的事情，更何一层一层的去读VIEW的含意。此话一出，立即招来老大的一句反对，说我是单打独斗！我靠，是写出来的东东易读好，还是硬着脖子去搞所谓的统一好？如果你所谓的统一是很合理的话，我是很乐意接受的，但是...我不愿意接受！
看他们写东东，简直有点弱智的感觉，很简单的几个表链接查询，非要弄出个VIEW来！
FROM: AAA DATE : 2006/10/28 23:56 TO : CC : --------------------------------------------------------------------------------
Re: Fw: Re: Re : ERPcBOM成本 (2006/10/28 23:56) 
BBB ,您在_lL格，速度快但是不精@。我走L大c台傻兀一般地^(北京、上海凫毒@路吧 ! )lF傻卦谏活品|上的要求程度有堪用及精@煞N^e，生活到某一境界就要求精@，然要下功夫才做得到台车|西已被要求到精@的程度。希望您cCCC在提交作品r，要先自我y完善。要能使用蟊矸绞睫D出 EXCEL , 抬^需]明 [公司名Q] 那 [料] 的BOM , [品名] 否tD出 EXCEL 鹘o他人，不知是什N|西。要注意Rgds Alan Chin ── Original Message ──From: AAATo: BBBCC: DDD, CCCSent: 2006/10/28 23:27Subject: Re: Fw: Re: Re : ERPcBOM成本
BBB ,
1. 料也要支援可以直接入2. 有e`a生，如附件3. 谖度要注意最m4. 最近褓r 及 最低褓r 的R率及e要各e分_ ,  因最低褓r可能不同rg不同地c褓使用不同e故可能不一樱@右Q算^才知道是否最低r [更正格] 最近褓r 及 最低褓r 的R率及e 是否可以褓稳〉 K增列其 有效的褓翁( 褓B : [_J] , [Y案] 的不列入 ) , 以C碓Rgds Alan Chin 
── Original Message ──From: BBBTo: AAACC: DDD, CCCSent: 2006/10/28 16:41Subject: Re: Fw: Re: Re : ERPcBOM成本
第一：尾A材料用料表以完成。核。永和正^-》制造管理-》客制程式-》BOM管理-》JD_BOM_L尾A用料明_褓r_y中。--------------------------------------------------Learning.Winning.Money.Starting.── Original Message ──From: AAATo: BBBCC: DDD, CCCSent: 2006/10/27 17:43Subject: Re: Fw: Re: Re : ERPcBOM成本
附件重l，㈤附件Rgds Alan Chin ── Original Message ──From: AAATo: BBBCC: DDD, CCCSent: 2006/10/27 17:38Subject: Re: Fw: Re: Re : ERPcBOM成本
BBB ,CCC_始著手於出口文件作I及工令蠊蟊沓淌介_l，此部份您㈤附件格修改程式，於 2006/11/01 前完成[u造管理] / [BOM管理] / [蟊] / [尾A材料用料表]1. ⒖ [尾A材料用料表] 程式，用 SmartQuery _l， 1.1 AO值是日，可入 [⒖R率日期] 後取海PR率n的有效R率，以供Q算成本 1.2 最近褓本耪鬯=[挝挥昧]*( 1+ [耗p] )*[R率]*[最近褓原r]  1.3 最低褓本耪鬯=[挝挥昧]*( 1+ [耗p] )*[R率]*[最低褓原r]
[u造管理] / [客u程式] / [BOM管理] / [多料BOM多A展_]2. 修改 [多料BOM多A展_] 程式 1.1. 附件中 的[⒖e] 及 [⒖r] 看是w俸握 ( [最近褓原r]或[最低褓原r] ) 1.2 AO值是日，可入 [⒖R率日期] 後取海PR率n的有效R率，以供Q算成本 1.3 最近褓本耪鬯=[挝挥昧]*( 1+ [耗p] )*[R率]*[最近褓原r]  1.4 最低褓本耪鬯=[挝挥昧]*( 1+ [耗p] )*[R率]*[最低褓原r]
Rgds Alan Chin

日志标题：在说不同用户之间如何共享表内容
发表时间：2006-11-3 11:23:00
日志内容：可能标题不是很明确。我的意思是说甲用户建了一个表，乙用户想查看这个表的内容。下面就如何让乙用户可以查看到甲用户所建的表的内容做一些说明。
我原来写过一篇关于SYNONYM的日志：
http://xling.blueidea.com/archives/2006/3412.shtml
那篇日志里其实只讲了大致，但是有一步没有说到。１，建立同意字（SYNONYM），有PUBLIC和PRIVATE之分，默认为PRIVATE.这个例子中，用的是PUBLIC。
　　普通用户默认是没有建立同意字的权限的，要到SYSTEM用户下建立。
２，做相应的授权。　　经过上一步建立同意字之后，在SYSTEM用户下，就不用在做这个授权了，因为SYSTEM有查看所有用户表的权限。但是现在要做的是让一个普通用户查看另一个普通用户的表内容，这就需要授于相关的权限，SELECT.
下面是批量产生同意字和做相应授权的例子：

SET SERVEROUT ONDECLARE CURSOR C1 IS  SELECT TABLE_NAME FROM ALL_TABLES WHERE TABLE_NAME LIKE 'ASP%';BEGIN FOR CC IN C1 LOOP  EXECUTE IMMEDIATE 'CREATE OR REPLACE PUBLIC SYNONYM ' || CC.TABLE_NAME || ' FOR XLING.' || CC.TABLE_NAME; EXECUTE IMMEDIATE 'GRANT SELECT ON ' || CC.TABLE_NAME || ' TO NILIKER'; DBMS_OUTPUT.PUT_LINE( 'CREATE OR REPLACE PUBLIC SYNONYM ' || CC.TABLE_NAME || ' FOR XLING.' || CC.TABLE_NAME); END LOOP;END;
如上例，如果不把GRANT SELECT ON ... TO NILIKER写上，在NILIKER用户下写SELECT * FROM XLING.表名　的话，会提示：ORA-00942: 表或视图不存在

日志标题：About&nbsp;Ora-30041
发表时间：2006-11-3 13:13:00
日志内容：Environment:Oracle 10g Release 2 + WindowsXp
DROP USER RUANG;CREATE USER RUANG IDENTIFIED BY RUANG DEFAULT TABLESPACE USERS TEMPORARY TABLESPACE TEMP;GRANT CONNECT TO RUANG;ALTER USER RUANG QUOTA UNLIMITED ON TEMP QUOTA UNLIMITED ON USERS;
When execute the following SQL Statement:
ALTER USER RUANG QUOTA UNLIMITED ON TEMP QUOTA UNLIMITED ON USERS;
It will raise an Error :ORA-30041 Cannot grant quota on the tablespace
Referenc document:http://forums.oracle.com/forums/thread.jspa?messageID=1064127&amp;#1064127In this document,someone say:
In Oracle Database 10g Release 2 we no longer support quotas on temporary tablespaces.
I'll ask that this modification be applied to the GLOBAL schema collateral.
CREATE TABLESPACE "GLOBAL" DATAFILE 'GLOBAL.DBF' SIZE 90M AUTOEXTEND ON NEXT 5M;
CREATE TEMPORARY TABLESPACE "GLOBAL_TEMP" TEMPFILE 'GLOBAL_TEMP.DBF' SIZE 90M AUTOEXTEND ON NEXT 5MUNIFORM SIZE 256K;
CREATE USER "GLOBAL" IDENTIFIED BY "GLOBAL" DEFAULT TABLESPACE "GLOBAL"TEMPORARY TABLESPACE "GLOBAL_TEMP"QUOTA UNLIMITED ON "GLOBAL"; 
Please notice this SQL Statement:ALTER USER RUANG QUOTA UNLIMITED ON TEMP
In Oracle Database 10g Release 2 we no longer support quotas on temporary tablespaces.

日志标题：WITH&nbsp;ADMIN&nbsp;OPTION&nbsp;&&nbsp;WITH&nbsp;GRANT&nbsp;OPTION
发表时间：2006-11-4 13:08:00
日志内容：在创建用户的时候，一定要给用户指定表空间，否则会提示对×××表间无效之类的提示，而且从Oracle 10g Release 2 (???之前的版本没有条件去查证)开始，不在支持对临时表空间（TEMPORARY）TEMP进行配额分配。

比如：
CREATE USER RUANG IDENTIFIED BY RUANG DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS TEMPORARY TABLESPACE TEMP QUOTA UNLIMITED ON TEMP;
将会引发错误：ORA-30041 Cannot grant quota on the tablespace
具体如：http://xling.blueidea.com/archives/2006/3512.shtml
另：一个刚建立的新用户，如果不授予CONNECT的权限，该用户将不能连接到数据库，并报以下错误：ORA-01045 user string lacks CREATE SESSION privilege; logon denied
WITH ADMIN OPTION 与 WITH GRANT OPTION

由上图看出（未找到书面的解释，不知对不对）：WITH ADMIN OPTION　应该是只能出现在对DDL（CREATE,DROP...）授权的后面。WITH GRANT OPTION　应该是只能出现在对DML(SELECT,INSERT,UPDATE...)授权的后面。
1,WITH ADMIN OPTION

如上图所示，在DDL授权语句的后面，如果加上WITH ADMIN OPTION的话，被授权人还可以把其所得的权限在转授给第三者。当其所拥有的权限被收回后，第三者的权限并没有因此受到影响，而是保留了下来。
也就是说：甲给乙授权，带WITH ADMIN OPTION，乙因此可以把其得到的授权在转授给丙。当甲把乙的权限收回后，丙从乙处得到的的权限依然存在。
如上图所示：如果甲给乙的授权是普通授权的，乙是不能在把其所得的权限转授给丙的。
2,WITH GRANT OPTION
我现在只知道WITH GRANT OPTION只能用在DML（Database Managerment Language,如SELECT，UPDATE，DELETE等）授权语句的后面，因为暂没有找到书面的解释。

如上图所示：WITH GRANT OPTION所授的权限也可以转授予第三者。比如甲将SELECT某个表的权限授予乙，并带WITH GRANT OPTION，乙就可以把其所得的权限转授予丙。当甲把乙的SELECT权限收回的时候，丙的权限也因此被取消了，没有保留，这点与WITH ADMIN OPTION不同噢！
以上仅为本人例证，水平有限，如有纰漏，还请指教。谢谢。

日志标题：NEXT_DAY&nbsp;&&nbsp;NLS_DATE_LANGUAGE
发表时间：2006-11-6 10:17:00
日志内容：The day_name must be a day of the week in the session's date language (specified by the NLS_DATE_LANGUAGE database initialization parameter). The time component of the returned date is the same as that of the input date, date_in. If the day of the week of the input date matches the specified day_name, then NEXT_DAY will return the date seven days (one full week) after date_in. NEXT_ DAY does not return the input date if the day names match.
The day name must be a day of the week in the session's date language.我在装的Oracle10g的时候，所选的语言是简体中文（SIMPLIFIED CHINESE）,故：NLS_DATE_LANGUAGE默认为 SIMPLIFIED CHINESE.在执行下面语句时：
SELECT NEXT_DAY (SYSDATE, 'tuesday') AS MO FROM DUAL
提示：ORA-01846 not a valid day of the week（周中的日无效）。原因就是tuesday属ENGLISH，而非SIMPLIFIED CHINESE.
故，修改当前SESSION的NLS_DATE_LANGUAGE为ENGLISH后，方可执行。
ALTER SESSION SET NLS_DATE_LANGUAGE = 'ENGLISH';
下面是一段匿名过程，由于DDL语句不能放在存储过程中执行，所以必须用动态SQL（注意，下文中的"ENGLISH","SIMPLIFIED CHINESE"是用双引号括起来的）：
SET SERVEROUT ONDECLARE V_NLS_DATE_LANGUAGE VARCHAR2(50); V_DATE1 DATE; V_DATE2 DATE;BEGIN SELECT VALUE INTO V_NLS_DATE_LANGUAGE FROM NLS_SESSION_PARAMETERS WHERE PARAMETER = 'NLS_DATE_LANGUAGE'; --SELECT '"' || VALUE || '"' INTO V_NLS_DATE_LANGUAGE FROM NLS_SESSION_PARAMETERS WHERE PARAMETER = 'NLS_DATE_LANGUAGE'; EXECUTE IMMEDIATE 'ALTER SESSION SET NLS_DATE_LANGUAGE = "ENGLISH"'; SELECT NEXT_DAY(SYSDATE,'TUESDAY') INTO V_DATE1 FROM DUAL; EXECUTE IMMEDIATE 'ALTER SESSION SET NLS_DATE_LANGUAGE = "SIMPLIFIED CHINESE"'; SELECT NEXT_DAY(SYSDATE,'星期三') INTO V_DATE2 FROM DUAL;  --EXECUTE IMMEDIATE 'ALTER SESSION SET NLS_DATE_LANGUAGE = :1' USING V_NLS_DATE_LANGUAGE; EXECUTE IMMEDIATE 'ALTER SESSION SET NLS_DATE_LANGUAGE = "' || V_NLS_DATE_LANGUAGE ||'"'; DBMS_OUTPUT.PUT_LINE(V_NLS_DATE_LANGUAGE); DBMS_OUTPUT.PUT_LINE(V_DATE1); DBMS_OUTPUT.PUT_LINE(V_DATE2);END;
动态SQL可以绑定变量，但是我在上面的过程中执行：
EXECUTE IMMEDIATE 'ALTER SESSION SET NLS_DATE_LANGUAGE = :1' USING V_NLS_DATE_LANGUAGE;
却提示：ORA-00922 missing or invalid option，把前面的对变量赋值语句改为：
SELECT '"' || VALUE || '"' INTO V_NLS_DATE_LANGUAGE FROM NLS_SESSION_PARAMETERS WHERE PARAMETER = 'NLS_DATE_LANGUAGE';
也是提示同样的错误。
查绑定变量这一节的书面解释，有如下一段：动态SQL的字符串同样可以包含绑定参数的占位符。动态SQL支持所有的SQL数据类型。定义变量并且绑定参数可以是集合，大型对象，一种对象类型的实例以及REF类型。但动态SQL不支持PL/SQL定义类型。例如，定义变量和绑定参数不能是布尔型或索引表。不能使用绑定参数把模式对象的名字传递给一个动态SQL语句。例如下这段就会报错：
CREATE PROCEDURE DROP_TABLE(TABLE_NAME IN VARCHAR2) ASBEGINEXECUTE IMMEDIATE 'DROP TABLE :tab' USING TABLE_NAME;END;
而要写成：
EXECUTE IMMEDIATE 'DROP TABLE ' || TABLE_NAME;
从上面这段，看不出和那个ALTER SESSION　有什么关系啊！迷惑中...

日志标题：作业管理　DBMS_JOB
发表时间：2006-11-7 10:54:00
日志内容：作业管理　DBMS_JOB

PROCEDURE DBMS_JOB.SUBMIT (job IN BINARY_INTEGER,what IN VARCHAR2,next_date IN VARCHAR2, interval IN VARCHAR2 DEFAULT 'null', no_parse IN BOOLEAN DEFAULT FALSEINSTANCE IN BOOLEAN DEFAULT FALSE,FORCE IN BOOLEAN DEFAULT FALSE);
PROCEDURE DBMS_JOB.ISUBMIT (job IN BINARY_INTEGER,what IN VARCHAR2,next_date IN VARCHAR2, interval IN VARCHAR2 DEFAULT 'null', no_parse IN BOOLEAN DEFAULT FALSE);
SUBMIT过程从SEQUENCE SYS.JOBSEQ获取作业序列号分配给作业。ISUBMIT允许用户指定作业号给作业。但是作业号是不能和现有作业（可从ALL_JOBS或USER_JOBS表查询）重复的,否则会报：ORA-00001: 违反唯一约束条件 (SYS.I_JOB_JOB)。
The ISUBMIT procedure allows the calling user or application to decide the job identification number. Collisions in job numbers will result in the unique constraint violation noted earlier. Therefore, it is probably better not to embed fixed job numbers into applications (as this will increase the chances for collisions) and to use SUBMIT instead of ISUBMIT. If specific job numbering is required, then you can minimize job number collisions by pushing the SYS.JOBSEQ sequence out to a number greater than those used in calls to ISUBMIT. 
如果在后DBMS_JOB.SUBMIT(n)或ISUBMIT(n)后，没有执行DBMS_JOB.RUN(n)的话，这个JOB是不会执行的。
为了测试JOB是否执行，于什么时间执行，我简单的定义了一下表和一个PROCEDURE:

CREATE TABLE JOBTAB( ID NUMBER, UPD_DATE DATE)ALTER TABLE JOBTAB ADD (JOB_NUMBER NUMBER);
CREATE OR REPLACE PROCEDURE LOG_JOB(I_JOBNO IN NUMBER DEFAULT NULL) AS V_NUM NUMBER;BEGIN SELECT COUNT(*) INTO V_NUM FROM JOBTAB; V_NUM := V_NUM +1; INSERT INTO JOBTAB VALUES (V_NUM,SYSDATE,I_JOBNO); COMMIT;END;
如：
DECLARE JOBN BINARY_INTEGER;BEGIN --一分钟执行一次 DBMS_JOB.SUBMIT(JOBN, 'LOG_JOB(2);', SYSDATE + 2/1440, --两分钟后 'TRUNC(SYSDATE,''MI'') + 1/1440'); END;
然后：SELECT * FROM USER_JOBS如附图所示：

几分钟后，SELECT表JOBTAB，发现无任何数据。
而执行DBMS_JOB.RUN(n)后，JOBTAB表里每隔一分钟就会插入一条记录，即代表这个JOB处于执行状态中。

在说一下时间取值：
如果想取明天的这个时候，可以：
SELECT SYSDATE + 1 AS TT FROM DUAL
如果想取23小时后的时间：
SELECT SYSDATE + 23/24 AS TT FROM DUAL
取一分钟后的时间：
SELECT SYSDATE + 1/(24*60) AS TT FROM DUAL
依次类推。但是这些时间都不是一个整数，JOB是在执行完成后才计算下次执行的时间的，如附图所示：

用TRUNC对时间进行截取，可以保证JOB在指定的时间就执行，而不是以上次执行后的时间加上INTERVAL,如附图所示。
附上调试代码：

SET SERVEROUT ONDECLARE JOBN BINARY_INTEGER;BEGIN --一分钟执行一次 DBMS_JOB.SUBMIT(JOBN, 'LOG_JOB;',SYSDATE, 'TRUNC(SYSDATE,''MI'') + 1/1440'); DBMS_JOB.RUN(JOBN);END;
DECLARE JOBN BINARY_INTEGER;BEGIN DBMS_JOB.ISUBMIT(63,'LOG_JOB(1);',SYSDATE, 'TRUNC(SYSDATE,''MI'') + 1/1440'); DBMS_JOB.RUN(63);END;
DECLARE JOBN BINARY_INTEGER;BEGIN --一分钟执行一次 DBMS_JOB.SUBMIT(JOBN, 'LOG_JOB(2);',SYSDATE + 2/1440, --两分钟后 'TRUNC(SYSDATE,''MI'') + 1/1440');END;
CREATE TABLE JOBTAB( ID NUMBER, UPD_DATE DATE)ALTER TABLE JOBTAB ADD (JOB_NUMBER NUMBER);
CREATE OR REPLACE PROCEDURE LOG_JOB(I_JOBNO IN NUMBER DEFAULT NULL) AS V_NUM NUMBER;BEGIN SELECT COUNT(*) INTO V_NUM FROM JOBTAB; V_NUM := V_NUM +1; INSERT INTO JOBTAB VALUES (V_NUM,SYSDATE,I_JOBNO); COMMIT;END;
SELECT TRUNC(SYSDATE,'MI') + 2/1440 AS TT FROM DUALSELECT SYSDATE + 1 AS TT FROM DUALSELECT SYSDATE + 1/24 AS TT FROM DUALSELECT SYSDATE + 1/(24*60) AS TT FROM DUAL
EXECUTE LOG_JOBSELECT * FROM JOBTAB ORDER BY IDDELETE FROM JOBTABCOMMIT
SELECT * FROM ALL_JOBSSELECT * FROM USER_JOBS
SELECT  JOB,LAST_DATE,LAST_SEC,NEXT_DATE,NEXT_SEC, SYSDATE AS NOWTIME FROM ALL_JOBS
EXECUTE DBMS_JOB.RUN((BINARY_INTEGER)241);
DECLARE V_JOBN BINARY_INTEGER;BEGIN V_JOBN := 241; DBMS_JOB.RUN(V_JOBN);END;
DECLARE JOBN BINARY_INTEGER; CURSOR C1 IS  SELECT JOB FROM USER_JOBS;BEGIN FOR CC IN C1 LOOP  DBMS_JOB.REMOVE(CC.JOB); END LOOP;END;


日志标题：Cry&nbsp;on&nbsp;My&nbsp;Shoulder
发表时间：2006-11-8 10:38:00
日志内容：
If the hero never comes to you 
If you need someone you're feeling blue 
If you wait for love and you're alone 
If you call your friends nobody's home 
You can run away but you can't hide 
Through a storm and through a lonely night 
Then I'll show you there's a destiny 
The best things in life they are free 
But if you wanna cry: cry on my shoulder 
If you need someone who cares for you 
If you're feeling sad your heart gets colder 
Yes I show you what real love can do 
If your sky is grey Oh let me know 
There’s a place in heaven where we’ll go 
If heaven is a million years away 
Oh just call me and I’ll make your day 
When the nights are getting cold and blue 
When the days are getting hard for you 
I will always stay by your side 
I promise you I’ll never hide 
But if you wanna cry: cry on my shoulder 
If you need someone who cares for you 
If you’re feeling sad your heart gets colder 
Yes I show you what real love can do 
But if you wanna cry: cry on my shoulder 
If you need someone who cares for you 
If you’re feeling sad your heart gets colder 
Yes I show you what real love can do 
What real love can do 
What real love can do 
What love can do 
What love can do 
Love can do

日志标题：Create&nbsp;a&nbsp;Matrix&nbsp;Report
发表时间：2006-11-10 13:50:00
日志内容：Create a Matrix Report
A matrix (cross-product) report is a cross-tabulation of four groups of data: One group of data is displayed across the page. One group of data is displayed down the page. One group of data is the cross-product, which determines all possible locations where the across and down data relate and places a cell in those locations. One group of data is displayed as the "filler" of the cells.
矩阵报表是由四个组组成交叉报表，一个组是以横向方式显示（列头），一个组是以纵向方式显示（行头），一个组是由横向和纵向的组交叉组成的，用来确定和横向与纵向相关联的数据的位置，并在这些位置上产生单元格。另一个组是用亚向这些单元格里填数据的。
最终效果如图：

Data Mode如图：

两个重要属性的解释（俺英文不好，不做翻译，怕误人子弟，所以只要俺能看懂就行了）：
Product Order propertyThe Product Order property specifies the order in which groups are evaluated in the cross product for a summary. Product Order also defines the frequency of a summary, formula, or placeholder in a matrix (cross-product) group. That is, the summary, formula, or placeholder has one value for each combination of values of the groups in its Product Order. Product Order is used only for columns owned by cross-product groups. Because a cross product relates multiple groups, the groups in the cross product could be evaluated in any one of many different orders. Therefore, when creating a summary for a cross product, you must use Product Order to specify for Reports Builder which group should be evaluated first, which second, and so on. You must also use Product Order to specify the frequency of a summary, formula, or placeholder within the cross product.
Product Order指出要对cross product的哪个group求summary(SUM,AVG,MAX,MIN etc.)的值。

Reset At property The Reset At property specifies the group at which the summary column value resets to zero (if Function is Count), null (if Function is not Count), or Value If Null (if the column has one). Reset At has a list of values containing valid reset groups. Reset At determines if the summary is a running summary or a periodic (e.g., group-level) summary.
Reset At 属性指出summary的值是当哪个group的值变化时，重置为0。
制程过程演示：
http://files.myopera.com/xlingFairy/swf/matrixReport.swf
4.4M，如果想看，请耐心等待。


    
   


日志标题：The one you love
发表时间：2006-11-11 9:55:00
日志内容：
I know you need a friend, someone you can talk to Who will understand what you're going throughWhen it comes to love there is no easy answerOnly you can say what you're gonna doI heard you on the phoneYou took his number said you were aloneBut you'd call him soonIsn't he the guy,the guy who left you cryingIsn't he the one who make you blueWhen you remember those nights in his armsAre you gonna stay with the one who loves youOr are you going back to the one you loveSomeone's going to cry When they know they're lost youSomeone's gonna thank the stars aboveWhat are you gonna say when he comes over?There's no easy way to see this throughAll the broken dreams all the disappointmentOh,Girl what you gonna doYour heart keeps saying it's just not fairBut still you gotta make up your mindYou know you got to make up your mindAre you gonna stay with the one who loves youOr are you going back to the one you loveSomeone's going to cry When they know they're lost youSomeone's gonna thank the stars above

日志标题：Building&nbsp;a&nbsp;nested&nbsp;matrix&nbsp;Report
发表时间：2006-11-11 16:19:00
日志内容：Building a nested matrix Report
要达的最终效果如图所示：
用一条SQL语句可以很好的完成，但是本示例着重于用Multiple Query来完成。
用Multiple Query来做，要注意一个地方：建Query的先后顺序会影响最后的结果：
如图，这是先建COMP_NO的QUERY，和它的结果。
下面是先建YEAR的QUERY,和它的结果。
可见，先建哪个QUERY,就是指它以哪个为大分类，后建的为细分类。
本例中，在给出日期，求季节用以下的语句：
SELECT DISTINCT TRUNC(TO_NUMBER(TO_CHAR(TRUNC(ORDER_DATE,'Q'),'MM')) / 3) + 1 AS QUARTER FROM ASP_SO_MASTORDER BY TRUNC(TO_NUMBER(TO_CHAR(TRUNC(ORDER_DATE,'Q'),'MM')) / 3) + 1

TRUNC(TO_NUMBER(TO_CHAR(TRUNC(ORDER_DATE,'Q'),'MM')) / 3) + 1外层的TRUNC是取整，内层的TRUNC是取季度的第一天。
制作过程演示：
http://files.myopera.com/xlingFairy/swf/NestedMatrixReport.swf
7.26M
如果想看，请耐心等待。
在顺祝各位节日愉快！

日志标题：Building&nbsp;a&nbsp;nested&nbsp;matrix&nbsp;Report 2
发表时间：2006-11-11 20:40:00
日志内容：相关链接：http://xling.blueidea.com/archives/2006/3619.shtml
先来比较下图所示的两张报表的不同之处：基本上都一样，不同之处就是下面一张报表中2005年JD0302的各季度的QTY都为0,而上面一张报表里把这一行给去掉了！
根据：http://xling.blueidea.com/archives/2006/3619.shtml　做出来的报表就是下面那张报表。它的Data Mode如图所示：
而要达到上面的那张报表的效果，要用到把Data Mode做相应的修改。即只用三个QUERY来做，第一个QUERY的SQL改为如下面的代码，把原来产生G_COMP_NO的QUERY删除：
SELECT TO_CHAR(ORDER_DATE,'YYYY') AS YEAR, COMP_NOFROMASP_SO_MASTGROUP BY TO_CHAR(ORDER_DATE,'YYYY'), COMP_NO ORDER BY TO_CHAR(ORDER_DATE,'YYYY'), COMP_NO
完成上面的操作后，Data Mode的样子如图所示（注，不是最终的样子，还要修改）：要完成最终效果，还要把上图的G_YEAR里的COMP_NO拖出来，成为G_COMP_NO
参考：http://www.comp.hkbu.edu.hk/docs/o/dl/bi/B10602_01/orbr_nestedmatrix.htm#1010070

日志标题：补习：表的约束条件
发表时间：2006-11-13 16:03:00
日志内容：做VB,或DELPHI的（etc.），基本上都有一个共性，那就是把对数据合法性的检查全都放到VB，DELPHI（etc.）的代码里。对数据库应用程序来说，不去充分的运用Trigger，CONSTRAINT，如果哪个用户进到数据库里，随便修改一条数据，就有可能置应用程序于混乱中。这一点我深有体会，很多小软件公司也不会对这方面给予重视，因为他们招程序员时是这样要求的：熟悉SQL，这里的SQL大部分指的就是DML语言（SELECT,INSERT etc.），偶而有要求会Trigger，Procedure（Function）的，也不过是用来做为一种考核你会不会SQL的手段！
由于Oracle过于庞大，以致于俺的好多工作都是要抛开程序界面，在数据库上直接操作的，最常碰到的就是触发器和存储过程，错误的操作，是不会被数据所接受的。
对于表的约束条件，俺也不是太懂，今天大致翻了一下书，原来这部分也是很简单的。
UNIQUE 唯一键PRIMARY KEY 主键NOT NULLCHECK 检查，必须符合指定的条件FOREIGN KEY 外键，用来创建一个与参考表之间的关系
语法：

CONSTRAINT constraint_name UNIQUE(column)CONSTRAINT constraint_name PRIMARY KEY(column)NOT NULLCONSTRAINT constraint_name CHECK(condition)CONSTRAINT constraint_name FOREIGN KEY(column) REFERENCING table_name(column)
ALTER TABLE table_name ADD CONSTRAINT constraint_name &lt;UNIQUE | PRIMARY KEY | CHECK | FOEIGN KEY&gt; (column) [REFERENCING table_name(column)]ALTER TABLE table_name &lt;ENABLE | DISABLE&gt; constraint_nameALTER TABLE table_name DROP CONSTRAINT constraint_name
举例：

CREATE TABLE X_APP_GUIDS( GUID NUMBER, TABLE_NAME VARCHAR2(50), UPD_DATE DATE, UPD_NAME VARCHAR2(20), USE_FLAG VARCHAR2(1) DEFAULT 'Y')ALTER TABLE X_APP_GUIDS ADD CONSTRAINT USE_FLAG_CK CHECK(USE_FLAG IN ('Y','N'))
INSERT INTO X_APP_GUIDS(GUID,TABLE_NAME,USE_FLAG) VALUES (1,'AA','S');
报以下错误：ORA-02290: 违反检查约束条件 (XLING.USE_FLAG_CK)

CREATE TABLE X_GNO_RULE( GUID NUMBER, SLIP_TYPE VARCHAR2(10), SECTION_SEQ NUMBER, SECTION_CODE VARCHAR2(10), SECTION_STRING VARCHAR2(100), COMP_NO VARCHAR2(20),)ALTER TABLE X_GNO_RULE ADD (UPD_DATE DATE,UPD_NAME VARCHAR2(20))ALTER TABLE X_GNO_RULE ADD CONSTRAINT SLIP_TYPE_COMP_NO_PK PRIMARY KEY(SLIP_TYPE,COMP_NO)

日志标题：视频：如何用Access连接Oracle数据库
发表时间：2006-11-15 8:20:00
日志内容：视频：如何用Access连接Oracle数据库。
用这种方法在Access连接Oracle数据库后，对相应表所做的操作都会保存进Oracle数据库里。
用这种方法可以完成把Access的数据灵活的写入到Oracle(如何写入？如果你连这个都不会，我看你还是好好的把SQL的基本语句在用功学学吧！)。用Toad也可以将Access表的数据库导入Oracle里。

录像下载：
SWF,
973KB
accessOracle.swf

日志标题：自动产生单据号码的研究与实现
发表时间：2006-11-17 17:02:00
日志内容：单据号码对于每一个系统来说，都是不必不可少的。
ERP系统每天都要产生成千上万的单据号码，每种单据的规则都不同，每张单据的号码又不能重复。这些单据如果靠人工来维护的话，简直不可以想像那是一件多么痛苦的事。
我曾经参加过几个项目的编写（非ERP），其单据的产生处于一种混乱的状态，主要责任在于做系统分析的时候，没有考虑这方面。
我用了三天的时间，把我们公司的ERP系统自动产生单据号码的功能研究了一下，自动手实现了这个功能，并做了部分改进。
源码／SQL／表结构：http://files.myopera.com/xlingFairy/soft/GNO.rar
演示：http://files.myopera.com/xlingFairy/swf/GNO.swf
2.63M




日志标题：Data block base on Procedure
发表时间：2006-11-20 10:33:00
日志内容：数据块一般都是建立在TABLE上的，对其进行条件筛选，可以在属性面板里的WHERE CLAUSE写入条件，不过这种是静态的条件，要想使用动态条件，必须在相应的触发器里用build-in方法：SET_BLOCK_PROPERTY('block_name',DEFAULT_WHERE,'where_clause')来写。 

但是一个基于Stored Procedure的数据块要如何进行数据筛选呢？
1,在属性面板里，设置QueryDataSourceArguements属性条目的VALUE值。
2,如图所示：
在做基于一个Stored Procedure的数据块时，要求这个Procedure有一个IN OUT 参数，否则会报错，而且这个IN OUT参数是一个游标变量，相关内容见我之前录制的视频：http://xling.blueidea.com/archives/2006/1959.shtml
下面是本例中的PACKAGE：

CREATE OR REPLACE PACKAGE jd_testAS TYPE t_po_m_record IS RECORD ( slip_no asp_po_m.slip_no%TYPE, vendor_no asp_po_m.vendor_no%TYPE, vendor_name asp_ven_cust.NAME%TYPE, ship_addr asp_po_m.ship_addr%TYPE, curr_code asp_po_m.curr_code%TYPE, tax_rate asp_po_m.tax_rate%TYPE, pur_people asp_po_m.pur_people%TYPE, pur_people_name asp_employee.NAME%TYPE, status asp_po_m.status%TYPE );
 TYPE t_po_m_cursor IS REF CURSOR RETURN t_po_m_record;
 PROCEDURE f_get_po_m_info ( i_comp_no IN VARCHAR2, io_po_m IN OUT t_po_m_cursor );END;
CREATE OR REPLACE PACKAGE BODY jd_testAS PROCEDURE f_get_po_m_info ( i_comp_no IN VARCHAR2, io_po_m IN OUT t_po_m_cursor ) AS BEGIN OPEN io_po_m FOR SELECT asp_po_m.slip_no, asp_po_m.vendor_no, asp_ven_cust.NAME AS vendor_name, asp_po_m.ship_addr, asp_po_m.curr_code, asp_po_m.tax_rate, asp_po_m.pur_people, asp_employee.NAME AS pur_people_name, asp_po_m.status FROM asp_po_m LEFT JOIN asp_ven_cust ON asp_po_m.vendor_no = asp_ven_cust.NO AND asp_po_m.comp_no = asp_ven_cust.comp_no LEFT JOIN asp_employee ON asp_po_m.pur_people = asp_employee.NO AND asp_po_m.comp_no = asp_employee.NO WHERE asp_po_m.comp_no = i_comp_no ORDER BY slip_no; END;END;


日志标题：祝我明天好运！
发表时间：2006-11-20 16:10:00
日志内容：明天要去面试了，这是我这么多天来第一次收到面试通知单。
在人才市场里，我跟用人单位说：我逛了好长时间，就看到您这一家招这个的。
用人单位说：招的少，来面试的更少。你们找不到，我们又招不到！
还好，终于算是聊以自慰了！我很看重这次面试的机会，会尽全力的去面试，争取！争取！争取！
今天早上就发邮件给头了，要请明天的假。结果一直到现在，说了一大堆话，问我是不是想另谋出路，我回答是。又问我对现在的工作有哪些不满，我能说什么呢？声东击西，拿厂里的一些事和我个人的另外一些事来说！毕竟是那么长时间的上司了，相处的还不错。对他的不满就省略的一干二净，要不然还能怎么样呢？我还有好几千的工资没有领呢！
末了，老大同意了：
×××
去吧 ! 

地的行政管理，有地的行政主管定
理人不便介入。若有更好的地方l展，然祝福您 !


俺只有谢谢了！

对明天的面试，我充满信心，但是又怕失于一些小的细节上，复习又不得要领，特别是游标变量这一块，老是有点那种感觉。不过也不是很难啦！



SET SERVEROUT ONDECLARE TYPE T_TST_CUR_REF IS REF CURSOR RETURN TST%ROWTYPE; V_TST_CUR T_TST_CUR_REF;  TYPE T_TST_TABLE IS TABLE OF TST%ROWTYPE; V_TABLE T_TST_TABLE;BEGIN OPEN V_TST_CUR FOR  SELECT * FROM TST;  FETCH V_TST_CUR BULK COLLECT INTO V_TABLE; FOR I IN V_TABLE.FIRST..V_TABLE.LAST LOOP  DBMS_OUTPUT.PUT_LINE(V_TABLE(I).NAME); END LOOP;END;

日志标题：回答网友疑问：关于ACCESS连接ORACLE
发表时间：2006-11-21 20:38:00
日志内容：回答网友的疑问：在用ACCESS连接ORACLE的时候，如何才能不弹出输入密码的对话框。
这个问题好像没有办法解决，因为在建DSN的时候，并没有保存用户密码。
为了解决这个问题，我试着写出一个方案（？？？）：即，建立一个权限很低的用户。
１，建立用户，但并不分配配额。赋于对 PUBLIC SYNONYM 的SELECT 权限。
关于如何建立SYNONYM，请见：http://xling.blueidea.com/archives/2006/3511.shtml
关于建立用户，如：http://xling.blueidea.com/archives/2006/3521.shtml

２，配置DSN：

3,用ACCESS连接ORACLE：具体步骤如：http://xling.blueidea.com/archives/2006/3654.shtml

4,验证：

朋友，这样可以吗？

日志标题：面试结果
发表时间：2006-11-21 21:08:00
日志内容：去面试了，结果×××。工资没有达到我的要求。
用人单位说了，我是他们收到的简历中，唯一写会FormsBuilder和Reports的。估计就我一人去面试。
对方想让我去，但是我要求的工资不符合他们那里现任程序员的工资水平，说还需要向上级审请，并试图说服我，好处之一就是可以学到DBA知识。
我是很希望学会DBA的知识，但是一直没有机会，在网上下了几本书，一是太抽象，二是没有心情看。那家在厂区里就有5台SERVER，去的话，会在很大程度上接触DBA方面的知识。
说实话，我是怕找工作了，这么长时间以来，我去过好几趟人才市场，在网上也投过好多简历，但是有通知的就仅此一家。如果不去，下次面试机会不知要等到何时。
我开始怀疑我的坚持是不是正确。学ORACLE是看中它能拿高工资，但是做ORACLE的工作太难找了！尤其是这个FormsBuilder，企业选用它来开发软件的，是少之又少。今天还得知裕元鞋厂居然是用PB来连ORACLE！真是奇事啊！PB连SYBASE,FormsBuilder做ORACLE的程序，不是很好吗？

日志标题：唐僧给悟空的一封信
发表时间：2006-11-22 20:42:00
日志内容：亲爱的悟空：
　　在天庭住好一阵子了，不知你在花果山过得可好？我这封信写得很慢，因为知道你看字不快。我们已经搬家了，不过地址没改，因为搬家时顺便把门牌带来了
　　这礼拜下了两次雨，第一次下了3天，第二次下了4天。
　　昨天我们去买比萨，店员问道：请问要切成8片还是12片，你勤俭的师母说：切8片好了，切12片恐怕吃不完。那间店比萨还不错，改天我们全家再一起去街口的餐馆吃牛排。还有你观音阿姨说你要我寄去的那件外套，因为邮寄时会超重，所以我们把扣子剪下来放在那件外套的口袋里了。
　　你嫦娥姐姐早上生了。因为我还不知道到底是男的还是女的，所以我不知道你要当阿姨还是舅舅。最近没什么事，我会再写信给你。　
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　师傅

http://www.oracle.com.cn/thread-37261-1-1.html

日志标题：将连续日期的资料合并成一笔数据
发表时间：2006-11-24 10:47:00
日志内容：将连续日期的资料合并成一笔数据。关键字：连续日期
首先想一下：在一大堆日期里，如何取出连续日期（分组）？这是一个技巧。如下图的日期所示，要如何对这些日期按连续日期分组呢？
1,首先将这些日期排序，并得到行号 ROWNUM2,按YYYYMMDD格式将日期转换为数值 T1。3,T1 - ROWNUM,如果是连续的日期，结果一定相同。4,按结果分组就行了。如图所示：
应用举例：
客艟 物品名Q 日期 盗 rA001 A 2006/11/01 1 50A001 A 2006/11/02 2 50A001 A 2006/11/03 4 50A001 A 2006/11/05 3 50A001 C 2006/11/06 2 30A001 C 2006/11/07 2 30
*可否利用一lsqlZ法求得以下Y果附]l件 1.客艟、物品名Q必橄嗤Y料, 2._始日期cY束日期必檫Bm日期,才可⒑橐还PY料
客艟 物品名Q _始日期 Y束日期 盗 r 小A001 A 2006/11/01 2006/11/03 7 50 350A001 A 2006/11/05 2006/11/05 3 50 150A001 C 2006/11/06 2006/11/07 4 30 120
SQL语句：

CREATE TABLE TST1( VEN_CUST VARCHAR2(20), PART VARCHAR2(20), ORDER_DATE DATE, QTY NUMBER, PRICE NUMBER)
BEGININSERT INTO TST1 (VEN_CUST,PART,ORDER_DATE,QTY,PRICE) VALUES ('A001','A',TO_DATE('2006/11/01','YYYY/MM/DD'),1,50);INSERT INTO TST1 (VEN_CUST,PART,ORDER_DATE,QTY,PRICE) VALUES ('A001','A',TO_DATE('2006/11/02','YYYY/MM/DD'),2,50);INSERT INTO TST1 (VEN_CUST,PART,ORDER_DATE,QTY,PRICE) VALUES ('A001','A',TO_DATE('2006/11/03','YYYY/MM/DD'),4,50);INSERT INTO TST1 (VEN_CUST,PART,ORDER_DATE,QTY,PRICE) VALUES ('A001','A',TO_DATE('2006/11/05','YYYY/MM/DD'),3,50);INSERT INTO TST1 (VEN_CUST,PART,ORDER_DATE,QTY,PRICE) VALUES ('A001','C',TO_DATE('2006/11/06','YYYY/MM/DD'),2,30);INSERT INTO TST1 (VEN_CUST,PART,ORDER_DATE,QTY,PRICE) VALUES ('A001','C',TO_DATE('2006/11/07','YYYY/MM/DD'),2,30);COMMIT;END;
SELECT B.VEN_CUST,B.PART, MIN(B.ORDER_DATE) AS START_DATE, MAX(B.ORDER_DATE) AS END_DATE, SUM(B.QTY) AS QTY, B.PRICE, SUM(B.QTY * B.PRICE) AS AMTFROM( SELECT  A.*, TO_NUMBER(TO_CHAR(A.ORDER_DATE,'YYYYMMDD')) AS T1, ROWNUM AS RN, TO_NUMBER(TO_CHAR(A.ORDER_DATE,'YYYYMMDD')) - ROWNUM AS T2FROM( SELECT * FROM TST1 ORDER BY VEN_CUST,PART,ORDER_DATE) A) BGROUP BY VEN_CUST,PART,T2,PRICE


日志标题：Fighter
发表时间：2006-11-25 10:04:00
日志内容：
Artist: Aguilera, ChristinaAlbum: StrippedTitle: Fighter
厚重有力的嗓音穿透着我的耳膜,装饰着闪亮碎钻的眼眸冲击着我的视网膜...希望有一天,我能够成为那个fighter...蛮有爆发力的一首歌
After all you put me throughYou'd think I despise youBut in the end, I wanna thank you'Cause you make me that much strongerWell I, thought I knew you, Thinking that you were trueI guess I, I couldn't trust, Called your bluff, time is up, 'Cause I've had enoughYou were, there by my sideAlways down for the rideBut your,Joy ride just came down in flames, 'Cause your greed sold me out in shameAfter all of the stealing and cheating, You probably think that I hold resentment for youBut uh uh, oh no, you're wrong'Cause if it wasn't for all that you tried to do, I wouldn't know just how capable I am to pull throughSo I wanna say thank you'Cause it makes me that much strongerMakes me work a little bit harderMakes me that much wiserSo thanks for making me a fighterMade me learn a little bit fasterMade my skin a little bit thickerMakes me that much smarterSo thanks for making me a fighterNever saw it comingAll of your backstabbingJust so you could cash in, On a good thing before I'd realized your gameI heard you're goin'round Playin', the victim nowBut don't, even begin feeling I'm the one to blame, 'Cause you dug your own graveAfter all of the fights and the lies 'cause you wanted to haunt me, but that won't work anymoreNo more, uh uh, it's over'Cause if it wasn't for all of your torture, I wouldn't know how to be this way nowAnd never back downSo I wanna say thank you'Cause it makes me that much strongerMakes me work a little bit harderMakes me that much wiserSo thanks for making me a fighterMade me learn a little bit fasterMade my skin a little bit thickerMakes me that much smarterSo thanks for making me a fighterHow could this man I thought I knewTurn out to be unjust, so cruelCould only see the good in youPretended not to see the truthYou tried to hide your lies, disguise yourselfThrough living in denialBut in the end you'll seeYou won't stop meI am a fighter and I (I am a fighter)I ain't goin' stop (I ain't goin' stop)There is no turning backI've had enoughIt makes me that much strongerMakes me work a little bit harderMakes me that much wiserSo thanks for making me a fighterMade me learn a little bit fasterMade my skin a little bit thickerMakes me that much smarterSo thanks for making me a fighterThought I would forget (Thought I)I rememberYes, I rememberI'll rememberThought I would forgetI rememberYes, I rememberI'll rememberIt makes me that much strongerMakes me work a little bit harderMakes me that much wiserSo thanks for making me a fighterMade me learn a little bit fasterMade my skin a little bit thickerMakes me that much smarterSo thanks for making me a fighter
http://cafe.pconline.com.cn/topic.jsp?tid=6390353

日志标题：Love in december
发表时间：2006-11-25 10:39:00
日志内容：
so this is lovein the end of decemberquiet nightsquiet starsand i'm heremonday to sundaycause you're fragileand i'm weak
so you fallwhen the nights grow longerinto sleepand won't wake up
and i'm hereoutside here beside youand i'm weakuntil rhe spring
don't you worryi'll be there for youdon't worry about meyou know me better than thatdon't you worryi'll be there for youi'll catch you if you would fall
(music)
so you driftwhen the days grow colderaway from meand won't look backfar awayand i can't guide youbut i'm heretil the spring
don't you worryi'll be there for youdon't worry about meyou know me better than thatdon't you worryI'll be there for youi'll catch you if you would falldon't worry about meI'll be there for youdon't worry about meyou know me better than thatdon't you worryI 'll be there for youi'll catch you if you would falli'll catch you if you would fall......

日志标题：The day you went away
发表时间：2006-11-25 11:01:00
日志内容：
Well I wonder could it beWhen I was dreaming about you babyYou were dreaming of meCall me crazyCall me blindTo still be suffering is stupid after all of this time
Did I lose my love to someone betterAnd does she love you like I doI do, you know I really really do
Well heySo much I need to sayBeen lonely since the dayThe day you went away
So sad but trueFor me there's only youBeen crying since the dayThe day you went away
I remember date and timeSeptember twenty secondSunday twenty five after nineIn the doorway with your caseNo longer shouting at each otherThere were tears on our faces
And we were letting go of something specialSomething we'll never have againI know, I guess I really really know
Well heySo much I need to sayBeen lonely since the dayThe day you went away
So sad but trueFor me there's only youBeen crying since the dayThe day you went away
The day you went awayThe day you went away
Did I lose my love to someone betterAnd does she love you like I doI do, you know I really really do
Well heySo much I need to sayBeen lonely since the dayThe day you went away
So sad but trueFor me there's only youBeen crying since the dayThe day you went away
Why do we never know what we've got till it's goneHow could I carry onThe day you went away
Cause I've been missing you so much I have to sa Been crying since the dayThe day you went away
The day you went awayThe day you went away

日志标题：自定义：操作及错误　提示
发表时间：2006-11-25 21:49:00
日志内容：自定义：操作及错误　提示
具体说明看FLASH演示，大小1.88M，
在做的时候，遇到一个问题，在PACKAGE里定义的TYPE，不能在包外使用!
下面是PACKAGE：G_PKG_ERROR里的一个方法，值得注意的是NESTED TABLE　（PARA_LIST　在PACKAGE里有声明）的读取方法：

 FUNCTION f_return_message ( i_error_message IN VARCHAR2, i_error_code IN NUMBER DEFAULT -20001 ) RETURN VARCHAR2 AS v_message VARCHAR2 (300) := NULL; V_GUID NUMBER; V_P BINARY_INTEGER;  CURSOR CC(I_P_GUID IN NUMBER) IS  SELECT PARA FROM G_ERROR_CUSTOM_PARA WHERE P_GUID = I_P_GUID ORDER BY SEQ; BEGIN IF i_error_code &lt; -20000 AND i_error_code &gt; -21000 THEN SELECT info,GUID INTO v_message,V_GUID FROM g_error_custom WHERE INSTR (UPPER (i_error_message), flag) &gt; 0;  IF PARA_LIST IS NOT NULL THEN  V_P := PARA_LIST.FIRST;  FOR C1 IN CC(V_GUID) LOOP  EXIT WHEN V_P IS NULL;  V_MESSAGE := REPLACE(V_MESSAGE,C1.PARA,PARA_LIST(V_P)); V_P := PARA_LIST.NEXT(V_P); END LOOP;  END IF; ELSE SELECT info INTO v_message FROM g_error_constraint WHERE INSTR (UPPER (i_error_message), owner || '.' || constraint_name ) &gt; 0 AND ROWNUM = 1; END IF;
 RETURN v_message; EXCEPTION WHEN NO_DATA_FOUND THEN RETURN NULL; END;
演示：




源文件及SQL下载：http://files.myopera.com/xlingFairy/soft/1GNO.rar

日志标题：你能准确的说出一个月前的日期或一个月后的日期吗？
发表时间：2006-11-30 22:05:00
日志内容：相信大部份做程序员的同志对该问题都是含糊而过。
但是这却实是一个值得注意的问题，比如说让你统计当前日期向前的一个月内的销售总和，或当前日期向后一个月内的销售总和，你会怎么做呢？简单的ADD_MONTHS?
看看下图上的信息1030和1031的一个月后的日期都是1130：

在接着看，1130的一个月前的日期却是1031：

为了说明问题的严重性，下面我来举个例子：

CREATE TABLE TST1( UPD_DATE DATE, QTY NUMBER)
BEGIN INSERT INTO TST1 VALUES (TO_DATE('20061030','YYYYMMDD'),300); INSERT INTO TST1 VALUES (TO_DATE('20061031','YYYYMMDD'),300); INSERT INTO TST1 VALUES (TO_DATE('20061101','YYYYMMDD'),300); INSERT INTO TST1 VALUES (TO_DATE('20061130','YYYYMMDD'),300); COMMIT;END;
现在要取出一个月后（包括当前日期）的销售和：

SELECT O.UPD_DATE,O.QTY, SUM(A.QTY) AS NEXT_MONTH_QTY, ADD_MONTHS(O.UPD_DATE,1) AS NEXT_MONTH_DATEFROM  TST1 O LEFT JOIN  TST1 A ON A.UPD_DATE BETWEEN O.UPD_DATE AND ADD_MONTHS(O.UPD_DATE,1)GROUP BY O.UPD_DATE,O.QTY ORDER BY UPD_DATE 
结果如图所示：

20061030的一个月后的销售量和为：1200,按理来说，20061130的一个月前（包括20061130）的销售量和也该为：1200,但是真的是这样的吗？下面取出一个月前（包括）的销售量和：
SELECT O.UPD_DATE,O.QTY, SUM(A.QTY) AS NEXT_MONTH_QTY, ADD_MONTHS(O.UPD_DATE,-1) AS PRE_MONTHS_DATEFROM  TST1 O LEFT JOIN  TST1 A ON A.UPD_DATE BETWEEN ADD_MONTHS(O.UPD_DATE,-1) AND O.UPD_DATEGROUP BY O.UPD_DATE,O.QTY ORDER BY UPD_DATE 
结果是什么？少了300！为什么？因为20061130的一个月前的日期是：20061031,而没有把20061030算进来！
有出入了吧！

日志标题：GROUPING与ROLLUP，CUBE
发表时间：2006-12-1 16:50:00
日志内容：先看实例：
有表BC1 　　c22005-01-01 12005-01-01 32005-01-02 5
要求的得到以下格式的数据2005-01-01　　42005-01-02　　5合计　　　　　9
试用一个Sql语句完成。
懒的去建表，就用现有的表来完成这个任务吧。

SELECT GROUPING(DEPT_NO) AS GROUP_DEPT_NO, GROUPING(COMP_NO) AS GROUP_COMP_NO, DECODE(GROUPING(DEPT_NO)||GROUPING(COMP_NO),'10',COMP_NO || '小计','11','总计') AS DESP, DEPT_NO,COMP_NO, COUNT(1) AS EMP_NUMFROM ASP_EMPLOYEEGROUP BY ROLLUP(COMP_NO,DEPT_NO)
运行结果如图：

ROLLUP和CUBE语句 Oracle的GROUP BY语句除了最基本的语法外，还支持ROLLUP和CUBE语句。如果是ROLLUP(A, B, C)的话，首先会对(A、B、C)进行GROUP BY，然后对(A、B)进行GROUP BY，然后是(A)进行GROUP BY，最后对全表进行GROUP BY操作。如果是GROUP BY CUBE(A, B, C)，则首先会对(A、B、C)进行GROUP BY，然后依次是(A、B)，(A、C)，(A)，(B、C)，(B)，(C)，最后对全表进行GROUP BY操作。 
GROUPING：
The GROUPING function distinguishes super aggregate rows from regular grouped rows. GROUP BY extensions such as ROLLUP and CUBE produce super aggregate rows where the set of all values is represented by null. Using the GROUPING function, you can distinguish a null representing the set of all values in a super aggregate row from a null in a regular row.The expr in the GROUPING function must match one of the expressions in the GROUP BY clause. The function returns a value of 1 if the value of expr in the row is a null representing the set of all values. Otherwise, it returns zero. The datatype of the value returned by the GROUPING function is Oracle NUMBER.

日志标题：何处喧泻！
发表时间：2006-12-2 19:18:00
日志内容：人生不如意，我要何处喧泻？
啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊

日志标题：[私密]女友写给我的信
发表时间：2006-12-2 19:50:00
日志内容：很久]用信心了，m然每天都l很多短信，但大多是日常候，K且哪闳コＦ剑因榫嚯xh，面的次稻陀邢蓿每次看你跑的很累，而且你不巯褚郧耙雍臀艺心，你的性格不像我，有什N就f出恚特e是和自己很近的人，何r你我哪，所以我把自己的希望都o你v，so你@N大毫Γ你用每天吸很多和睡X和解托，s]o我知道，你原fo同事，我看到那些r，心中有很不舒服的感X，好久心e都透不^猓m然是上班rg，但是流I了，突然之g我感X和你的距x很h，不了解的更多，δ愕男湃味岩桑感到m然我是三四年的感情，但]有你JR]多久的一女人，我看到了自己的多余，lF平r一直f我的好全是假的，你一直毫很大，想分手，但是迫自己f不，不知道F在我在想我之g有幔是不是行成了T，T性的面，l短信，好像明白你槭颤N每次我不想多我f，除看就是睡X。我的心全隽耍]有任何希望，想回家，J樽约嚎赡像你JR的同事一樱砗透改赴才诺娜嗽谝黄穑f不上圻是不好，彼上也需Ψ胶芎茫但是知道自己不喜g他，@泳筒o你有毫Γ你自己自由充分l展，碜叱墒颤N路o可f。可我心e很矛盾，其一四年的感情，如果是假的就不可能@N久，也不在Q定分_r感到心痛。其二，在你困y是我不能不管，m然你不告V我，不想f有你的理有，可能你不想我δ闶望。之m然我心e很y^，我之g}你不直f，要通^@N方式告V我，可信你ξ业男湃魏途嚯x有多h，K且我看到你ψ约旱哪芰Σ恍湃危]有更I也淼男坌阎尽，F在在你心我是不理解你的人，不支持你，不如一同事。但我很反δ阃事f的以你的能力後在州I房出y，十兹f的房子，三四年]信心幔我不知道她是做什N的，她的收入怎樱可我想f@的人是因樽约旱哪芰ο嗖詈苓h，如果r我一月才600，如果那r我也不敢f，但是人都可以自己努力_到要求的，何r十兹fK不是很高要求。如果你真的感X自己做不到，@底志δ毫很大，那我是分_一段rg，去J真想想。我不殡y你，我自己努力去C明那些根本不是困y，人如果]有一c理想和不算很x普的目耍那右欢ㄒ皇o成，或是Y果很小。　　我希望你多看些成功人事的，增加自己的信心，拿出用睡Xrg去p毫Φrg，磨刀不`砍柴工，但休息要休息，不能fI]rgW，那有rg看，但你可知道你的信心和ψ约旱男湃味帱N需要加。　　在久l做的r候我感X在外面打工能拿到3000可能是自己最高的r候，但是F在我感到不同了，@目艘呀不h，因你]去找，在台YS做，不了解外面的待遇，你走出感X不同。在我心中]有_不到的要求，信心才是一人成〉年PI，我也有毫Γ但我不去用根本o法p旱姆椒ǎ我看成功者怎N面毫Γ不去接酒消愁，愁更愁。F在只是面ιw房和婚需要的X，你家又]人x，而我面Φ倪有弟弟上W，不^在我眼e不是因槲毫Υ螅而是我]找到更好的工作，]有更好的待遇，所以我要加自己的W。但是人也要o自己p毫Γm的放松心情，那此事情x你有很Lrg，@些rg只要心B平，不┰锞湍芤徊讲较蚯啊！　≌f了@N多，可能很多U，F在我心e也很y，我要下班了，有rg再o你贤ā

日志标题：关于Tomat & JavaBean的问题！
发表时间：2006-12-4 17:01:00
日志内容：学这个，是迫不得以！纯Oracle(FormsBuilder,ReportsBuilder)的工作，基本上是凤毛麟角。招JAVA的到是很多。
Oracle在工作中是不可能在会有很大的提高了，因为接触不到DBA，工作中用到的那点东东基本上都是顺手掂来，以经无所谓难度可言了。
虽然从入门开始，一直都是自学，但是到现在要想在有大的提高，以经是很难了，迫于找工作的压力，现在要把搁置有一段时间的JAVA重新拿起（虽然我JAVA是从J2ME开始的）。
今天看JSP/JavaBean这一段，愣是让我摸不着着脑（菜呗～）
IDE：JDeveloper，环境：Tomcat6.0.2，Oracle Developer Suite里内含了一个Apach服务器。
在OracleDev内置的服务器中运行，是没有问题的，但是就是不能在Tomcat6.0.2里运行，重启Tomcat　N次，照样不能解决！
可能是被JDeveloper的假像（刚开始学着使用这个工具）给迷住了：在用它建PROJECT的时候，会指定一个文件夹（我指定为BeanTest，在Tomcat的webapps\ROOT\下），右键选择Run fileName.jsp的时候，它用的是内置的Apach服务器，并在建工程的时候指定的文件夹内建立WEB-INF及classes等文件夹。
也就是说Tomcat服务运行时：http://localhost/实际上指的是ROOT下！JavaBean的CLASS文件要放到ROOT下的WEB-INF下！结果我却把它放到了ROOT/BeanTest/WEB-INF下了！难怪我不管我怎么样修改，都是无济于事！菜～

日志标题：应网友要求，对JTree进行了功能上的更新！
发表时间：2006-12-5 12:23:00
日志内容：关于JTree在JSP环境下运行错误的解决办法：
http://xling.blueidea.com/archives/2007/4487.shtml
-----------------------------------------------------------------------------------------
时隔一年（最初是2005/12/05完成，今天拿出来修改），在次发布JTree。请参考：http://bbs.blueidea.com/viewthread.php?tid=2362559&amp;page=http://xling.blueidea.com/archives/2006/1343.shtml#3841说实话，我并不想改这个东东，主要是因为没有时间去弄它（中午尽弄它去了）！更新功能，加入全部展开和全部收缩。如附图所示：附件: [源码] JTree20061205.rar (2006-12-5 12:21, 67.86 K)该附件被下载次数 0图片附件: [运行效果] JTree.gif (2006-12-5 12:21, 6.72 K)screen.width*0.7) {this.resized=true; this.width=screen.width*0.7; this.alt='点击在新窗口查看全图\nCTRL+鼠标滚轮放大或缩小';}" border=0>

日志标题：动态SQL返回值及EXCEPTION_INIT　示例
发表时间：2006-12-6 17:03:00
日志内容：刚写了一个，是个好例子，贴出来，以免日后忘了。 

CREATE OR REPLACE PACKAGE BODY jd_pkg_userAS FUNCTION f_get_right ( i_user_id IN VARCHAR2, i_comp_no IN VARCHAR2, i_fun_id IN VARCHAR2, i_right_item IN VARCHAR2 ) RETURN VARCHAR2 AS v_count NUMBER := 0; invalid_column_name EXCEPTION; PRAGMA EXCEPTION_INIT (invalid_column_name, -904); BEGIN SELECT COUNT (1) INTO v_count FROM asp_user_function_detail WHERE comp_no = i_comp_no AND user_name = i_user_id AND fun_id = i_fun_id AND price_flag = 'Y';
 EXECUTE IMMEDIATE 'SELECT COUNT(1) FROM ASP_USER_FUNCTION_DETAIL WHERE COMP_NO = :COMP_NO AND USER_NAME = :USER_NAME AND FUN_ID = :FUN_ID AND ' || i_right_item || '= :RIGHT_VALUE' INTO v_count USING IN i_comp_no, i_user_id, i_fun_id, 'Y';
 IF v_count &gt; 0 THEN RETURN 'Y'; ELSE RETURN 'N'; END IF; EXCEPTION WHEN NO_DATA_FOUND THEN RETURN 'N'; WHEN invalid_column_name THEN raise_application_error (-20001, 'Field :' || i_right_item || ' not exists' ); END;END;

日志标题：LOV的疑惑！
发表时间：2006-12-7 10:35:00
日志内容：有两个栏位：批号，IN仓库。IN仓库栏位有双击带出可选仓库的功能，并且属性：Validate from list设为真，即只值只能是LOV里显示出的值。现需要双击批号栏位时，以LOV方式显示可选的批号，要求返回批号和IN仓库。
我用向导新建了一个LOV，将LOV里的批号和仓库与批号和IN仓库相对应，并设为返回值。编译，没有错误。
在窗体上执行查询（还在查询阶段，并没有双击），却出现了：ORA-40212: invalid target data type in input data for string function ，而且接着还弹出一个LOV来！
这个错误提示，毫无用处，反而迷惑了我，重做了两三次，还是同样的问题！
结果仔细一看，这个弹出的LOV是属于批号的，而关闭这个LOV后，IN仓库逞选中状态。
一看源码，原来批号，IN仓库的属性：List of Value全被自动设为了刚才新建的那个LOV了！
原来如此！
情形差不多的例子是：
原来DataBlock里的N个item，其中X个item的Canvas属性设为：none。重新运行Data Block Wizard，新增一个栏位进Database items里，然后Apply，设其Canvas属性不等于none，结果，那X个Canvas属性为：none的item的Database Item属性自动设为了：NO，运行当然是有错的啦！
值得注意！

日志标题：手痒，把JavaScript遍历XML的程序拿出来SHOW&nbsp;SHOW
发表时间：2006-12-7 16:07:00
日志内容：意志不坚，又被同志们拉下水，对JS手痒了！ 
先是让我改我的JTree,在是笨小孩让我看它的问题，汗，难道我要重出江湖不成？
下面是JS遍利XML文件各节点的示例,好久好久以前写的东东了！

&lt;script language="JavaScript" type="text/javascript"&gt;var xmlFile="http://xling.blueidea.com/rss2.xml";var createXMLDom=function(){if (window.ActiveXObject) var xmldoc=new ActiveXObject("Microsoft.XMLDOM");else if (document.implementation&amp;&amp;document.implementation.createDocument)var xmldoc=document.implementation.createDocument("","doc",null);xmldoc.async = false;//为了和FireFox一至，这里不能改为False;xmldoc.preserveWhiteSpace=true;return xmldoc;}var createXMLHttp=function(){var xmlHttp;if (window.ActiveXObject){xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");}else{xmlHttp=new XMLHttpRequest();}return xmlHttp;}//-----------------------------------------------------------------------------//加载XML文件。var xmlDom=createXMLDom();try{xmlDom.load(xmlFile);}catch(e){var xmlHttp=createXMLHttp();xmlHttp.onreadystatechange = function(){if(xmlHttp.readyState == 4){xmlDom=xmlHttp.responseXML;}else{//window.state="XML文件加载中...";}}xmlHttp.open("GET",xmlFile,false);xmlHttp.send(null);}var DOMRoot=xmlDom.documentElement;//取出指定节点的属性。var getDOMAtt=function(pNode,pAttribute){try{return pNode.attributes.getNamedItem(pAttribute).nodeValue;}catch(e){//alert("指定节点不存在，或指定属性："+pAttribute+" 不存在!")return false;}}var attList=function(pNode){if(pNode.nodeType == 4) return '';var oAtt,tmpString="[ ";try{for(var i=0;oAtt=pNode.attributes[i];i++){tmpString+=oAtt.nodeName+" = '" + oAtt.nodeValue+"' ";}tmpString+=" ]"return tmpString;}catch(e){ return ''}}var getNodeName = function(pNode){if(pNode.nodeType == 4) return '';return pNode.nodeName;}var getNodeValue = function(pNode){try{return " : " + pNode.firstChild.nodeValue;}catch(e){return ''}}var nbsp=function(pNum){var tmpString=""for(var i=0;i&lt;pNum;i++){tmpString+="　"//这里是全角的空格}return tmpString;}var switchTree=function(pNode,pLevel){var tNode,i;for(i=0;tNode=pNode.childNodes[i];i++){if(tNode.nodeType==3) continue;//因为preserveWhiteSpace等于truedocument.write(nbsp(pLevel),"&lt;font color='blue'&gt;&lt;b&gt;",getNodeName(tNode),"&lt;/b&gt;&lt;/font&gt;&lt;font color='red'&gt;",attList(tNode),"&lt;/font&gt;",getNodeValue(tNode),"&lt;br /&gt;");switchTree(tNode,pLevel+1);}}switchTree(DOMRoot,2)&lt;/script&gt;&lt;/html&gt;

日志标题：Hero
发表时间：2006-12-8 9:35:00
日志内容：

《Hero》英雄演唱:Enrigue Igiesias 
Let me be your hero.让我作你的英雄。
Would you dance. 你是否会跳舞If I asked you to dance?如我邀你共舞Would you run?你是否会跑开And never look back.永不回头Would you cry ?你是否会垂泪If you saw me cry? 假如你看到我哭泣And would you save my soul,Tonight? 今夜你是否会拯救我的灵魂Would you tremble. 你是否会颤抖If I touched your lips ? 因我碰触你的双唇Would you laugh? 或你会讥笑以对Oh please tell me this.哦,请你告诉我会否如此Now would you die ?你是否会抛却生命For the one you loved. 只为你所爱之人Hold me in your arms.tonight. 今夜请拥我入怀吧I can be your hero,baby.宝贝,我能作你的英雄I can kiss away the pain.我可以吻为你抚平创痛I will stand by you forever.我将永远作你的后盾 you can take my breath away. 你可将我此时弊息Would you swear?你是否会发誓That you'll always be mine!说你永远属于我Or would you lie?或你会撒谎Would you run and hide?避开我到处躲藏Am I in too deep?难道我泥足深陷Have I lost my mind ?难道我失去理智I don't care ----- 我全不在意you're here tonight.只要你今夜在我身旁
I can be your hero,baby. 宝贝,我能作你的英雄I can kiss away the pain. 我可以吻为你抚平创痛I will stand by you forever. 我将永远作你的后盾 you can take my breath away. 此时你可将我弊息
Oh,I just want to hold you. 哦,我只想留住你I just want to hold you. oh yeah ! 我想拥你入怀,哦,是的!Am I in too deep?难道我泥足深陷Have I lost my mind ?难道我濒于疯狂I don't care ----- 我全不在意you're here tonight.只要你今夜在我身旁I can be your hero,baby. ,宝贝 我能作你的英雄I can kiss away the pain. 我可以吻为你抚平创痛I will stand by you forever. 我将永远作你的后盾 you can take my breath away. 此时你可将我弊息I can be your hero.我能作你的英雄I can kiss away the pain. 我可以吻为你抚平创痛I will stand by you forever.我将永远作你的后盾You can take my breath away.此时你可将我弊息You can take my breath away.此时你可将我弊息I can be your hero.我能作你的英雄


日志标题：第一次用JSP连数据库！
发表时间：2006-12-11 9:24:00
日志内容：具里程碑意义！
搞过J2ME，搞过Java + Oracle（虽然是很简单的），毕业前就自学过一小段时间的JSP（那时不懂JAVA），但是用JSP连数据库还是头一次（大姑娘坐花轿），嘿嘿！
连的是ACCESS，用数据桥（jdbcOdbcDriver）方式（是不是只有这种方式？baidu到的只有这种方法的介绍！）。
jdbc:odbc:forJava　：　forJava为数据源

package DBConnect;
import java.sql.*;
public class ConnectAccess { private static String dbFile; private static Connection conn;
 public ConnectAccess(){ }
 public static Connection getConnection(String pPath){ try{ Class.forName("sun.jdbc.odbc.JdbcOdbcDriver"); conn = DriverManager.getConnection("jdbc:odbc:forJava"); }catch(ClassNotFoundException e1){ e1.printStackTrace(); }catch(SQLException e2){ e2.printStackTrace(); } return conn; }}



&lt;%@ page contentType="text/html; charset=utf-8" language="java" import="java.sql.*" errorPage="" %&gt;&lt;%@ page import="DBConnect.*" %&gt;&lt;%String dbPath = application.getRealPath("/JavaAccess/data/forJava.mdb");Connection conn = ConnectAccess.getConnection(dbPath);try{Statement sql = conn.createStatement();ResultSet rs = sql.executeQuery("select * from article");
%&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table width="700" border="1" cellspacing="1" cellpadding="1"&gt; &lt;tr&gt; &lt;td width="200"&gt;文章名&lt;/td&gt; &lt;td width="300"&gt;作者&lt;/td&gt; &lt;td width="100"&gt;上传日期&lt;/td&gt; &lt;td&gt;点击数&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;% while(rs.next()){ %&gt; &lt;td&gt;&lt;%= rs.getString(1) %&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;%= rs.getString(2) %&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;%= rs.getString(3) %&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;%= rs.getInt(4) %&gt;&amp;nbsp;&lt;/td&gt; &lt;% } %&gt; &lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&lt;%}catch(SQLException e){ e.printStackTrace();}%&gt;

日志标题：Java 32位MD5加密
发表时间：2006-12-11 11:17:00
日志内容：接触MD5加密还是从PHP开始的。想想那时的一件事，就觉得搞笑！
大二上学期，一个网络专业的，很NB（听说很NB，会用手写代码（爆笑：我会用脚写代码）！）的学生,有一次为了在我面前炫耀，问我：
你写PHP,密码是怎么加密的？我写ASP都是自己写加密函数，用位移的方法。
我用MD5。
MD5？什么是MD5？你自己写的吗？你是怎么实现的？可以解密吗？
PHP里自带MD5函数，目前还没有破解的方法。
那你是怎么核对密码是不是正确的？
&amp;*(^%$_+)(

写了很长一段时间的ASP，我依然用的是MD5，现在学JSP，还要用MD5，在网上找了一个，稍加修改，就可以用啦！

package Encrypt;
/************************************************MD5 算法的Java Bean@author:Topcat TuppinLast Modified:10,Mar,2001*************************************************/
/*************************************************md5 类实现了RSA Data Security, Inc.在提交给IETF的RFC1321中的MD5 message-digest 算法。*************************************************/
public class MD5 { /* 下面这些S11-S44实际上是一个4*4的矩阵，在原始的C实现中是用#define 实现的， 这里把它们实现成为static final是表示了只读，切能在同一个进程空间内的多个 Instance间共享*/ static final int S11 = 7; static final int S12 = 12; static final int S13 = 17; static final int S14 = 22;
 static final int S21 = 5; static final int S22 = 9; static final int S23 = 14; static final int S24 = 20;
 static final int S31 = 4; static final int S32 = 11; static final int S33 = 16; static final int S34 = 23;
 static final int S41 = 6; static final int S42 = 10; static final int S43 = 15; static final int S44 = 21;
 static final byte[] PADDING = { -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}; /* 下面的三个成员是MD5计算过程中用到的3个核心数据，在原始的C实现中 被定义到MD5_CTX结构中
 */ private long[] state = new long[4]; // state (ABCD) private long[] count = new long[2]; // number of bits, modulo 2^64 (lsb first) private byte[] buffer = new byte[64]; // input buffer
 /* digestHexStr是MD5的唯一一个公共成员，是最新一次计算结果的 　 16进制ASCII表示. */ public String digestHexStr;
 /* digest,是最新一次计算结果的2进制内部表示，表示128bit的MD5值. */ private byte[] digest = new byte[16];
 /* getMD5ofStr是类MD5最主要的公共方法，入口参数是你想要进行MD5变换的字符串 返回的是变换完的结果，这个结果是从公共成员digestHexStr取得的． */ public String getMD5ofStr(String inbuf) { md5Init(); md5Update(inbuf.getBytes(), inbuf.length()); md5Final(); digestHexStr = ""; for (int i = 0; i &lt; 16; i++) { digestHexStr += byteHEX(digest[i]); } return digestHexStr;
 }
// 这是MD5这个类的标准构造函数，JavaBean要求有一个public的并且没有参数的构造函数 public MD5() { md5Init();
 return; }
 /* md5Init是一个初始化函数，初始化核心变量，装入标准的幻数 */ private void md5Init() { count[0] = 0L; count[1] = 0L;///* Load magic initialization constants.
 state[0] = 0x67452301L; state[1] = 0xefcdab89L; state[2] = 0x98badcfeL; state[3] = 0x10325476L;
 return; }
 /* F, G, H ,I 是4个基本的MD5函数，在原始的MD5的C实现中，由于它们是 简单的位运算，可能出于效率的考虑把它们实现成了宏，在java中，我们把它们 　　实现成了private方法，名字保持了原来C中的。 */
 private long F(long x, long y, long z) { return (x &amp; y) | ((~x) &amp; z);
 }
 private long G(long x, long y, long z) { return (x &amp; z) | (y &amp; (~z));
 }
 private long H(long x, long y, long z) { return x ^ y ^ z; }
 private long I(long x, long y, long z) { return y ^ (x | (~z)); }
 /* FF,GG,HH和II将调用F,G,H,I进行近一步变换 FF, GG, HH, and II transformations for rounds 1, 2, 3, and 4. Rotation is separate from addition to prevent recomputation. */
 private long FF(long a, long b, long c, long d, long x, long s, long ac) { a += F(b, c, d) + x + ac; a = ((int) a &lt;&lt; s) | ((int) a &gt;&gt;&gt; (32 - s)); a += b; return a; }
 private long GG(long a, long b, long c, long d, long x, long s, long ac) { a += G(b, c, d) + x + ac; a = ((int) a &lt;&lt; s) | ((int) a &gt;&gt;&gt; (32 - s)); a += b; return a; }
 private long HH(long a, long b, long c, long d, long x, long s, long ac) { a += H(b, c, d) + x + ac; a = ((int) a &lt;&lt; s) | ((int) a &gt;&gt;&gt; (32 - s)); a += b; return a; }
 private long II(long a, long b, long c, long d, long x, long s, long ac) { a += I(b, c, d) + x + ac; a = ((int) a &lt;&lt; s) | ((int) a &gt;&gt;&gt; (32 - s)); a += b; return a; }
 /* md5Update是MD5的主计算过程，inbuf是要变换的字节串，inputlen是长度，这个 函数由getMD5ofStr调用，调用之前需要调用md5init，因此把它设计成private的 */ private void md5Update(byte[] inbuf, int inputLen) {
 int i, index, partLen; byte[] block = new byte[64]; index = (int) (count[0] &gt;&gt;&gt; 3) &amp; 0x3F;// /* Update number of bits */ if ((count[0] += (inputLen &lt;&lt; 3)) &lt; (inputLen &lt;&lt; 3)) { count[1]++; } count[1] += (inputLen &gt;&gt;&gt; 29);
 partLen = 64 - index;
// Transform as many times as possible. if (inputLen &gt;= partLen) { md5Memcpy(buffer, inbuf, index, 0, partLen); md5Transform(buffer);
 for (i = partLen; i + 63 &lt; inputLen; i += 64) {
 md5Memcpy(block, inbuf, 0, i, 64); md5Transform(block); } index = 0;
 } else {
 i = 0; }
///* Buffer remaining input */ md5Memcpy(buffer, inbuf, index, i, inputLen - i);
 }
 /* md5Final整理和填写输出结果 */ private void md5Final() { byte[] bits = new byte[8]; int index, padLen;
///* Save number of bits */ Encode(bits, count, 8);
///* Pad out to 56 mod 64. index = (int) (count[0] &gt;&gt;&gt; 3) &amp; 0x3f; padLen = (index &lt; 56) ? (56 - index) : (120 - index); md5Update(PADDING, padLen);
///* Append length (before padding) */ md5Update(bits, 8);
///* Store state in digest */ Encode(digest, state, 16);
 }
 /* md5Memcpy是一个内部使用的byte数组的块拷贝函数，从input的inpos开始把len长度的 　　　　　 字节拷贝到output的outpos位置开始 */
 private void md5Memcpy(byte[] output, byte[] input, int outpos, int inpos, int len) { int i;
 for (i = 0; i &lt; len; i++) { output[outpos + i] = input[inpos + i]; } }
 /* md5Transform是MD5核心变换程序，有md5Update调用，block是分块的原始字节 */ private void md5Transform(byte block[]) { long a = state[0], b = state[1], c = state[2], d = state[3]; long[] x = new long[16];
 Decode(x, block, 64);
 /* Round 1 */ a = FF(a, b, c, d, x[0], S11, 0xd76aa478L); /* 1 */ d = FF(d, a, b, c, x[1], S12, 0xe8c7b756L); /* 2 */ c = FF(c, d, a, b, x[2], S13, 0x242070dbL); /* 3 */ b = FF(b, c, d, a, x[3], S14, 0xc1bdceeeL); /* 4 */ a = FF(a, b, c, d, x[4], S11, 0xf57c0fafL); /* 5 */ d = FF(d, a, b, c, x[5], S12, 0x4787c62aL); /* 6 */ c = FF(c, d, a, b, x[6], S13, 0xa8304613L); /* 7 */ b = FF(b, c, d, a, x[7], S14, 0xfd469501L); /* 8 */ a = FF(a, b, c, d, x[8], S11, 0x698098d8L); /* 9 */ d = FF(d, a, b, c, x[9], S12, 0x8b44f7afL); /* 10 */ c = FF(c, d, a, b, x[10], S13, 0xffff5bb1L); /* 11 */ b = FF(b, c, d, a, x[11], S14, 0x895cd7beL); /* 12 */ a = FF(a, b, c, d, x[12], S11, 0x6b901122L); /* 13 */ d = FF(d, a, b, c, x[13], S12, 0xfd987193L); /* 14 */ c = FF(c, d, a, b, x[14], S13, 0xa679438eL); /* 15 */ b = FF(b, c, d, a, x[15], S14, 0x49b40821L); /* 16 */
 /* Round 2 */ a = GG(a, b, c, d, x[1], S21, 0xf61e2562L); /* 17 */ d = GG(d, a, b, c, x[6], S22, 0xc040b340L); /* 18 */ c = GG(c, d, a, b, x[11], S23, 0x265e5a51L); /* 19 */ b = GG(b, c, d, a, x[0], S24, 0xe9b6c7aaL); /* 20 */ a = GG(a, b, c, d, x[5], S21, 0xd62f105dL); /* 21 */ d = GG(d, a, b, c, x[10], S22, 0x2441453L); /* 22 */ c = GG(c, d, a, b, x[15], S23, 0xd8a1e681L); /* 23 */ b = GG(b, c, d, a, x[4], S24, 0xe7d3fbc8L); /* 24 */ a = GG(a, b, c, d, x[9], S21, 0x21e1cde6L); /* 25 */ d = GG(d, a, b, c, x[14], S22, 0xc33707d6L); /* 26 */ c = GG(c, d, a, b, x[3], S23, 0xf4d50d87L); /* 27 */ b = GG(b, c, d, a, x[8], S24, 0x455a14edL); /* 28 */ a = GG(a, b, c, d, x[13], S21, 0xa9e3e905L); /* 29 */ d = GG(d, a, b, c, x[2], S22, 0xfcefa3f8L); /* 30 */ c = GG(c, d, a, b, x[7], S23, 0x676f02d9L); /* 31 */ b = GG(b, c, d, a, x[12], S24, 0x8d2a4c8aL); /* 32 */
 /* Round 3 */ a = HH(a, b, c, d, x[5], S31, 0xfffa3942L); /* 33 */ d = HH(d, a, b, c, x[8], S32, 0x8771f681L); /* 34 */ c = HH(c, d, a, b, x[11], S33, 0x6d9d6122L); /* 35 */ b = HH(b, c, d, a, x[14], S34, 0xfde5380cL); /* 36 */ a = HH(a, b, c, d, x[1], S31, 0xa4beea44L); /* 37 */ d = HH(d, a, b, c, x[4], S32, 0x4bdecfa9L); /* 38 */ c = HH(c, d, a, b, x[7], S33, 0xf6bb4b60L); /* 39 */ b = HH(b, c, d, a, x[10], S34, 0xbebfbc70L); /* 40 */ a = HH(a, b, c, d, x[13], S31, 0x289b7ec6L); /* 41 */ d = HH(d, a, b, c, x[0], S32, 0xeaa127faL); /* 42 */ c = HH(c, d, a, b, x[3], S33, 0xd4ef3085L); /* 43 */ b = HH(b, c, d, a, x[6], S34, 0x4881d05L); /* 44 */ a = HH(a, b, c, d, x[9], S31, 0xd9d4d039L); /* 45 */ d = HH(d, a, b, c, x[12], S32, 0xe6db99e5L); /* 46 */ c = HH(c, d, a, b, x[15], S33, 0x1fa27cf8L); /* 47 */ b = HH(b, c, d, a, x[2], S34, 0xc4ac5665L); /* 48 */
 /* Round 4 */ a = II(a, b, c, d, x[0], S41, 0xf4292244L); /* 49 */ d = II(d, a, b, c, x[7], S42, 0x432aff97L); /* 50 */ c = II(c, d, a, b, x[14], S43, 0xab9423a7L); /* 51 */ b = II(b, c, d, a, x[5], S44, 0xfc93a039L); /* 52 */ a = II(a, b, c, d, x[12], S41, 0x655b59c3L); /* 53 */ d = II(d, a, b, c, x[3], S42, 0x8f0ccc92L); /* 54 */ c = II(c, d, a, b, x[10], S43, 0xffeff47dL); /* 55 */ b = II(b, c, d, a, x[1], S44, 0x85845dd1L); /* 56 */ a = II(a, b, c, d, x[8], S41, 0x6fa87e4fL); /* 57 */ d = II(d, a, b, c, x[15], S42, 0xfe2ce6e0L); /* 58 */ c = II(c, d, a, b, x[6], S43, 0xa3014314L); /* 59 */ b = II(b, c, d, a, x[13], S44, 0x4e0811a1L); /* 60 */ a = II(a, b, c, d, x[4], S41, 0xf7537e82L); /* 61 */ d = II(d, a, b, c, x[11], S42, 0xbd3af235L); /* 62 */ c = II(c, d, a, b, x[2], S43, 0x2ad7d2bbL); /* 63 */ b = II(b, c, d, a, x[9], S44, 0xeb86d391L); /* 64 */
 state[0] += a; state[1] += b; state[2] += c; state[3] += d;
 }
 /*Encode把long数组按顺序拆成byte数组，因为java的long类型是64bit的， 只拆低32bit，以适应原始C实现的用途 */ private void Encode(byte[] output, long[] input, int len) { int i, j;
 for (i = 0, j = 0; j &lt; len; i++, j += 4) { output[j] = (byte) (input[i] &amp; 0xffL); output[j + 1] = (byte) ((input[i] &gt;&gt;&gt; 8) &amp; 0xffL); output[j + 2] = (byte) ((input[i] &gt;&gt;&gt; 16) &amp; 0xffL); output[j + 3] = (byte) ((input[i] &gt;&gt;&gt; 24) &amp; 0xffL); } }
 /*Decode把byte数组按顺序合成成long数组，因为java的long类型是64bit的， 只合成低32bit，高32bit清零，以适应原始C实现的用途 */ private void Decode(long[] output, byte[] input, int len) { int i, j;
 for (i = 0, j = 0; j &lt; len; i++, j += 4) { output[i] = b2iu(input[j]) | (b2iu(input[j + 1]) &lt;&lt; 8) | (b2iu(input[j + 2]) &lt;&lt; 16) | (b2iu(input[j + 3]) &lt;&lt; 24); }
 return; }
 /* b2iu是我写的一个把byte按照不考虑正负号的原则的＂升位＂程序，因为java没有unsigned运算 */ public static long b2iu(byte b) { return b &lt; 0 ? b &amp; 0x7F + 128 : b; }
 /*byteHEX()，用来把一个byte类型的数转换成十六进制的ASCII表示， 　因为java中的byte的toString无法实现这一点，我们又没有C语言中的 sprintf(outbuf,"%02X",ib) */ public static String byteHEX(byte ib) { char[] Digit = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'}; char[] ob = new char[2]; ob[0] = Digit[(ib &gt;&gt;&gt; 4) &amp; 0X0F]; ob[1] = Digit[ib &amp; 0X0F]; String s = new String(ob); return s; }  public static String md5(String inbuf){ MD5 m = new MD5(); return m.getMD5ofStr(inbuf); }}
源码：UploadFiles/2006-12/1211616093.rar
使用方法：&lt;%= MD5.md5("xling")%&gt;

日志标题：JSP读写Properties文件
发表时间：2006-12-11 17:09:00
日志内容：&lt;%Properties users = new Properties();InputStream in = application.getResourceAsStream("/WEB-INF/users.properties");users.load(in);//InputStream in = application.getResourceAsStream("/WEB-INF/users.xml");//users.loadFromXML(in);out.println(users.getProperty("userName"));users.setProperty("userName","xling");users.setProperty(users.getProperty("userName") + ".sex","male");users.setProperty(users.getProperty("userName") + ".password","哈哈！～");FileOutputStream fout = new FileOutputStream(application.getRealPath("/") + "/WEB-INF/users.properties",false);FileOutputStream fout2 = new FileOutputStream(application.getRealPath("/") + "/WEB-INF/users.xml",false);users.store(fout,"users.properties");users.storeToXML(fout2,"aaaaaaaaa");%&gt;
生成的XML文件格式：

&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;&lt;!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd"&gt;&lt;properties&gt; &lt;comment&gt;aaaaaaaaa&lt;/comment&gt; &lt;entry key="xling.sex"&gt;male&lt;/entry&gt; &lt;entry key="xling.password"&gt;哈哈！～&lt;/entry&gt; &lt;entry key="userName"&gt;xling&lt;/entry&gt;&lt;/properties&gt;
生成的properties文件格式：

#users.properties#Mon Dec 11 17:12:27 CST 2006xling.sex=malexling.password=\u54C8\u54C8\uFF01\uFF5EuserName=xling可用来允当INI文件噢!

日志标题：图解TOMCAT多站点设置
发表时间：2006-12-12 13:00:00
日志内容：不可否认，偶是一个地道的菜鸟，正在以一天一小步的速度向前冲刺！为了房子，为了车子，为了老婆孩子，拼了！
下面用图片来说说如何在TOMCAT下新建虚拟站点：
首先，偶用的是apach-tomcat-6.0.2，非 Windows Service Installer 版，
下载地址：http://tomcat.apache.org/download-60.cgi
１，本人没钱，暂时没有属于自己的域名，只能修改自己的HOST文件，做完这一步后，确保ping xling.com是ping 127.0.0.1，其它的一样！：
E:\windows\system32\drivers\etc\hosts

２，修改tomcat的server.xml文件，就是复制Host节点，把attribute：name改一下而以：

３，

４，新建ROOT.xml文件，放到上图中新建的域名文件夹内：
&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;Context docBase="D:\WEB\xling.com" path="/" reloadable="true"workDir="D:\WEB\xling.com"&gt;&lt;/Context&gt;


５，新建上图中workDir所指定的文件夹：xling.com，并在其它新建一个WEB-INF/classes文件夹，用以存放class文件。

６，完成，测试：
注意：80端口如果被IIS占用，还要修改server.xml，或者把IIS的端口改掉。
tomcat的端口指定在server.xml的如下节点：

 &lt;Connector port="80" protocol="HTTP/1.1"  maxThreads="150" connectionTimeout="20000"  redirectPort="8443" /&gt;

日志标题：用一天的时间做了一件无用功！
发表时间：2006-12-12 21:36:00
日志内容：搞死！
本想在JBuilder里调试JSP,免得把class文件一次一次的往TOMCAT里考，没想却弄了一天的时间！
我用的是TOMCAT6.0.2,JBuilder2006里默认的只有TOMCAT4和TOMCAT5。于是在Project的Server项时复制了一个TOMCAT5，命名为TOMCAT6，并指向6的bootstart.jar。接着新建一个webModle,一个JSP文件，一开始就报：
package org.apache.jasper.runtime does not exist
等错误，于是费着脑子从baidu.com,google.com上查，看了很多，都没有解决办法，于是只好照着JDeveloper里的Project的属性来弄。表面上错误是没有了，但是一编译，就报：
"index.jsp": java.lang.NoClassDefFoundError: org/apache/juli/logging/LogFactory
最可狠的是在网上跟本查不到这个错误的相关信息！我重做了好几遍，把坏境变量改了又改，看着像的包也一一的加载了一遍，还是没有用！
就在快要绝忘的时候，我试用着把Server设为默认的TOMCAT5，其它的使用默认值，NND，通过了！
走了一天的弯路，终于在睡觉之前搞懂了！
汗...菜死，不过还是很高兴，今天又前进了一小步！

日志标题：学习JSP标签库的一点体会
发表时间：2006-12-13 17:24:00
日志内容：JSP 标签库 
标签库一般包括两个文件，其一是类包JAR文件，其二是以.tld为扩展名的标签符描述文件。这里着重说一下本人在学这部分的体验，不是心得！
一，
标签处理程序（？？？）要继承javax.servlet.jsp.tagext.TagSupport类。标签如果有属性的(attribute)话，可以向bean一样写处理程序，即：setAttributeName()和getAttribute()部分和bean的实现一样，在使用标签时，只需按如下格式调用：代码段一：
&lt;G:test name="xling" sex="M"&gt;Context in testTag.jsp&lt;/G:test&gt;
name和sex是Attribute.
二，tld文件tld文件的完整格式如下：

&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;&lt;!DOCTYPE taglib PUBLIC "-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.1//EN" "http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_1.dtd"&gt;&lt;taglib&gt;&lt;tlibversion&gt;1.0&lt;/tlibversion&gt;&lt;jspversion&gt;1.1&lt;/jspversion&gt; &lt;shortname&gt;DemoTags&lt;/shortname&gt;&lt;uri&gt;http://xling.com&lt;/uri&gt;&lt;info&gt;Test Tags Library&lt;/info&gt;
&lt;tag&gt;&lt;name&gt;test&lt;/name&gt;&lt;tagclass&gt;GTag.TestTag&lt;/tagclass&gt;&lt;bodycontent&gt;JSP&lt;/bodycontent&gt;&lt;info&gt;Your first JSP Tag&lt;/info&gt; &lt;attribute&gt; &lt;name&gt;name&lt;/name&gt; &lt;required&gt;true&lt;/required&gt; &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt; &lt;/attribute&gt; &lt;attribute&gt; &lt;name&gt;sex&lt;/name&gt; &lt;required&gt;false&lt;/required&gt; &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt; &lt;/attribute&gt;&lt;/tag&gt;&lt;/taglib&gt;
水平有限，只说我有所体会的几个属性：tagclass是指标签处理程序，bodycontent的三个可取值：tagdepent,jsp,empty，如果是empty的话，代码一中所示的开始和结束标签之间不能有任何东东（即：Context in testTag.jsp这一句话）。如果指定为jsp的话，就可以加了。tagdepent暂时没有接触到，不了解。
3,tld的存放位置可随意，因为在WEB-INF/WEB.XML里要说明，来看看这个文件：
&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" version="2.4"&gt; &lt;display-name&gt;WebModule1&lt;/display-name&gt; &lt;jsp-config&gt; &lt;taglib&gt; &lt;taglib-uri&gt;testTag&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/testTags.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;testTags2&lt;/taglib-uri&gt; &lt;taglib-location&gt;/testTags2.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;/jsp-config&gt;&lt;/web-app&gt;
&lt;jsp-config&gt;及它的子节点是JBuilder自动维护的，testTags和testTags2要在JSP文件里的如下部分用到：文件1,
&lt;%@ taglib prefix="G" uri="testTags2" %&gt;
文件2
&lt;%@ taglib prefix="G" uri="testTags" %&gt;
4,标签处理程序示例：

package GTag;
import javax.servlet.jsp.*;import javax.servlet.jsp.tagext.*;
public class TestTag extends TagSupport {  private String name,sex;  public TestTag() { }  public void setName(String pName){ name = pName; }  public void setSex(String pSex){ if(pSex.toUpperCase().equals("M")) sex = "先生"; else if(pSex.toUpperCase().equals("F")) sex = "女仕"; else sex = pSex; }  public int doStartTag() throws JspException{ try{ JspWriter jw = pageContext.getOut(); jw.print("&lt;hr size='1' /&gt; " + name + "　" + sex +": welcome you! &lt;br /&gt;"); }catch(Exception e){ e.printStackTrace(); } return EVAL_BODY_INCLUDE;  }  public int doEndTag() throws JspException{ try{ JspWriter jw = pageContext.getOut(); jw.print("&lt;br /&gt;Context in doEndTag &lt;hr size='1' /&gt;"); }catch(Exception e){ e.printStackTrace(); } return EVAL_PAGE; }  public void release(){  }}
doEndTag()可以return的值有如下两个：EVAL_PAGE和SKIP_PAGE,如果是SKIP_PAGE的话，在这个标签后的不管是HTML还是JSP代码都将截断，不信可以在运行JSP文件后，查看网页源码。
5,调用标签的JSP文件：
&lt;%@page contentType="text/html; charset=GBK"%&gt;&lt;%@taglib prefix="G" uri="testTag" %&gt;&lt;%@ page import="java.text.*" %&gt;&lt;%@ page import="java.util.Date" %&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;testTag&lt;/title&gt;&lt;/head&gt;&lt;body bgcolor="#ffffff"&gt;&lt;G:test name="xling" sex="M"&gt;Context in testTag.jsp&lt;/G:test&gt;&lt;%Date d = new Date();SimpleDateFormat sf = new SimpleDateFormat("yyyyMMdd HH:mm:ss");out.println(sf.format(d));%&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：自动汇总函数的应用：ROLLUP
发表时间：2006-12-16 22:15:00
日志内容：有如下要求：
数据如下:trime      tno  salary----      --   ---    2006-12-11    04    100.02006-12-11    04    100.02006-12-11    05    0.02006-12-11    05    100.02006-12-11    05    150.02006-12-11    05    0.02006-12-11    05    0.02006-12-11    05    0.02006-12-12    05    300.02006-12-12    05    300.02006-12-12    69    300.02006-12-12    69    0.02006-12-12    69    0.02006-12-12    69    300.0希望得到查询后的数据效果trime      tno  salary----      --   ---  2006-12-11  04  100.02006-12-11  04  100.0合计      小计  200.02006-12-11  05  0.02006-12-11  05  100.02006-12-11  05  150.02006-12-11  05  0.02006-12-11  05  0.02006-12-11  05  0.0合计      小计  250.0总计      小合计 450.02006-12-12  05  300.02006-12-12  05  300.0合计      小计  600.02006-12-12  69  300.02006-12-12  69  0.02006-12-12  69  0.02006-12-12  69  300.0合计      小计  600.0总计      小合计 1200.0大总计    小计   1650.0
用一句SQL完全可以实现，但是这是出力不讨好的事情，因为用ReportsBuilder可以轻松实现。
现在给我的解决方法：

CREATE TABLE tst1(trime DATE,tno VARCHAR2(8),salary NUMBER(18,1))
数据插入省略。
查询语句，红色字体为枋心：

SELECT DECODE(C.G_TRIME || C.G_TNO,'-1-1',TO_CHAR(C.TRIME,'YYYY-MM-DD'),C.DESP) AS TRIME, C.TNO,C.S_SALARYFROM(SELECT DECODE(G_TRIME || G_TNO,'00','&ETH;&iexcl;&frac14;&AElig;','01','&ETH;&iexcl;&ordm;&Iuml;&frac14;&AElig;','11','×&Uuml;&frac14;&AElig;') AS DESP, TRIME,TNO,S_SALARY, G_TRIME, G_TNOFROM( SELECT TRIME,TNO,SUM(SALARY) AS S_SALARY, GROUPING(TRIME) AS G_TRIME, GROUPING(TNO) AS G_TNOFROMTST1GROUP BY ROLLUP(TRIME,TNO)) AUNION ALLSELECT  '' AS DESP, TRIME,TNO,SALARY, -1, -1FROM TST1 B) C ORDER BY C.TRIME,C.TNO,C.DESP DESC

运行结果：

问题来源：
http://www.oracle.com.cn/viewthread.php?tid=110742&amp;pid=875686&amp;page=1&amp;extra=page%3D1#pid875686

日志标题：pretty young thing
发表时间：2006-12-18 9:56:00
日志内容：
lene - pretty young thing
i wanna bruise your lips with a tender kissi wanna crush your hearti wanna be your scar
and when you’re touching mei hear a symphonyoh oh oh babycome on now baby
someone get a priestmaybe the police, i think that weshould call the justice of the peaceyou’re a pretty young thingit’s a damn cool thingi gotta tell the world, in case they haven’t heardthere never was a doubt oh baby, hush your mouthyou’re a pretty young thingit’s a damn cool thing
let me hear my namebaby say it againi wanna take you oni wanna be the one
and when you’re closing ini hear violinsoh oh oh babycome on now baby
someone get a priestmaybe the police, i think that weshould call the justice of the peaceyou’re a pretty young thingit’s a damn cool thingi gotta tell the world, in case they haven’t heardthere never was a doubt oh baby, hush your mouthyou’re a pretty young thingit’s a damn cool thing
pretty young thingdon’t need no diamond ringi’ll give you everythingi’ll show you anythingjust shh! just shh!don’t say a word

someone get a priestmaybe the police, i think that weshould call the justice of the peaceyou’re a pretty young thingit’s a damn cool thingi gotta tell the world, in case they haven’t heardthere never was a doubt oh baby, hush your mouthyou’re a pretty young thing
it’s a damn cool thing

日志标题：Someday
发表时间：2006-12-20 21:32:00
日志内容：
How the hell did we wind up like thisWhy weren't we ableTo see the signs that we missedAnd try to turn the tablesI wish you'd unclench your fistsAnd unpack your suitcaseLately there's been too much of thisDont think its too lateNothin's wrongjust as long asyou know that someday I willSomeday, somehowgonna make it allright but not right nowI know you're wondering when(You're the only one who knows that)Someday, somehowgonna make it allright but not right nowI know you're wondering whenWell i hoped that since we're here anywayWe could end up sayingThings we've always needed to saySo we could end up stringingNow the story's played out like thisJust like a paperback novelLets rewrite an ending that fitsInstead of a hollywood horrorNothin's wrongjust as long asyou know that someday I willSomeday, somehowgonna make it alright but not right nowI know you're wondering when(You're the only one who knows that)Someday, somehowgonna make it alright but not right nowI know you're wondering when(You're the only one who knows that)How the hell did we wind up like thisWhy weren't we ableTo see the signs that we missedAnd try to turn the tablesNow the story's played out like thisJust like a paperback novelLets rewrite an ending that fitsInstead of a hollywood horrorNothin's wrongjust as long asyou know that someday I willSomeday, somehowgonna make it allright but not right nowI know you're wondering when(You're the only one who knows that)Someday, somehowgonna make it allright but not right nowI know you're wondering when(You're the only one who knows that)I know you're wondering when(You're the only one who knows that)I know you're wondering when

日志标题：Forms Trigger 的优先级
发表时间：2006-12-21 10:24:00
日志内容：昨天做了两个简单的程序。数据库原来存在的数据可以正常读出，但是能过这个两个程序写进去的数据却读不出来，原因是公司别没有写入，其它的都正常写入了。
这种现象很是让我纳闷，以前是因为公司别被FormsBuilder自动设为非Database Item而导致没有写入公司别这个栏位，但是现在这个栏位是Database Item啊！而且对这个栏位的维护是放在Form-level的TRIGGER:PRE-INSERT里的！
COPY(:GLOBAL.CO_NAME,:SYSTEM.TRIGGER_BLOCK || '.COMP_NL');
木有错啊！可是为什么就写不入呢？我加了一个调试对话框在这个TRIGGER里,编译，运行，居然连这个对话框也没有出来！
后来，我把Block-level的TRIGGER:PRE-INSERT没删除了，在运行，一切正常！
汗。。。原来是：
如果Form-level和Block-level里有相同的Trigger，则只会运行Block-level里的Trigger!

日志标题：拉灯新转
发表时间：2006-12-21 13:44:00
日志内容：http://www.oracle.com.cn/thread-110903-1-1.html





日志标题：struts的一点体会
发表时间：2006-12-21 16:50:00
日志内容：
下面是我这几天学struts的一些认识，算不上心得，更算不上是总结。仅供参考，如有错误之处，请指出。谢谢。
附件，JBuilder2006工程：http://files.myopera.com/xlingFairy/soft/StrutsTest.rar
1,Map支持的ActionForm首先要声明一个HashMap (java.util.HashMap)类型的变量。一开始，我没有注意，声明成Map了，而Map是一个接口，所以无论我怎么更改，都是失败。
ActionForm里：

 public HashMap getMap(){ return map; }
 public void setMap(HashMap pMap){ map = pMap; }
 public void setValue(String key,Object value){ getMap().put(key,value); }
 public Object getValue(String key){ return getMap().get(key); }
JSP里：
&lt;html:text property="value(age)"&gt;&lt;/html:text&gt;
2,Message Resources：如下是struts-config.xml里的关于message-resources的片段（多资源文件）：
 &lt;message-resources parameter="resource.Application" /&gt; &lt;message-resources key="ZHS" parameter="resource.App" /&gt;
其中，resource.Application是指存放在WEB-INF/class/resource文件夹下的Application.properties文件。resource.App同理。上面的代码片段中，Key="ZHS"要结合如下JSP代码段：
&lt;bean:message bundle="ZHS" key="ZHS.userName.required"/&gt;
即:bundle="ZHS"是指出所用的资源是哪个资源文件里的。如果不加bundle，则默认是：resource.Application
properties文件的格式为：key1 = value1key2 = value2...
3，从properties文件里提取的汉字为乱码properties文件好像只能为ascii编码，（我试过把编码改为utf8,运行错误！）百度一下，普遍推荐使用：native2ascii命令转换，我转换过，它是把汉字转成所指定的编码的文字编码
比如：
native2ascii -encoding utf-8 application.properties app1.properties
生成的app1.properties内容如下：
ZHS.userName.required = \ufffd\u00fb\ufffd\ufffd\ufffd\ufffd\ufffd\u03aa\ufffd\ufffd
都是一堆编码，横竖是看不懂，而且还麻烦。我说说我的方法，不过你要有Dreamweaver：新建一html页面，然后：Modify-&gt;Page property-&gt;Title/Encoding ,把Encoding设为：西欧，在设计模式下输入汉字，比如：
密码不能为空
纱屋入的密a不一致
在Code模式下，自动被转换成了：
&amp;#23494;&amp;#30721;&amp;#19981;&amp;#33021;&amp;#20026;&amp;#31354;&amp;#20841;&amp;#27425;&amp;#36664;&amp;#20837;&amp;#30340;&amp;#23494;&amp;#30908;&amp;#19981;&amp;#19968;&amp;#33268;
这样做还不会涉及到简体和繁体的问题。
4，表单验证：现在我还说不出哪个是什么业务层，逻辑层了，它们对我来说，有点抽象，我只知道实现！首先在ActionForm里进行验证：

 public ActionErrors validate(ActionMapping actionMapping, HttpServletRequest httpServletRequest) { ActionErrors errors = new ActionErrors();
 String userName =(String) getValue("userName"); String password = (String) getValue("password"); if(Validate.isNull(userName)){ errors.add("userName",new ActionMessage("ZHS.userName.required")); }
 if(Validate.isNull(password)) errors.add("password",new ActionMessage("ZHS.password.required"));
 return errors; }
ActionError以不赞成使用，所以用ActionMessage。当这一层验证不成功的时候，会转发到配置文件中指定的input文件。注意：
errors.add("userName",new ActionMessage("ZHS.userName.required"))　
要理解它，请看下面的JSP代码：
&lt;html:errors bundle="ZHS" property="userName"/&gt;
一开始，我用：
if(password == null)errors.add(....)
无论如何，我都不到自定的错误提示，后来换成了下面的代码才行：
public class Validate { public static boolean isNull(String para){ if(para == null || para.trim().equals("")) return true; else return false; }}
如果在struts-config.xml里，设置action的validate为false或no的话，上面的验证方法将不被执行。
 &lt;action input="/MapSupportInput.jsp" name="mapSupportForm" path="/mapSupportAction" scope="request" type="App.MapSupportAction" validate="true"&gt; &lt;forward name="success" path="/success1.jsp" /&gt; &lt;forward name="failure" path="/failure.jsp" /&gt; &lt;/action&gt;
在Action里的验证：如下代码：

package App;
import org.apache.struts.action.ActionMapping;import org.apache.struts.action.ActionForm;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.apache.struts.action.*;
public class MapSupportAction extends Action { public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) { MapSupportForm mForm = (MapSupportForm) form;
 String userName = (String) mForm.getValue("userName"); String password = (String) mForm.getValue("password"); String password1 = (String) mForm.getValue("password1");
 if(!Validate.isNull(password) &amp;&amp; !Validate.isNull(password1) &amp;&amp; password.equals(password1)){
 UserBean ubean = new UserBean(); ubean.setValue("userName",userName);
 request.setAttribute("ubean",ubean); request.setAttribute("valid",request.getRemoteAddr()); return mapping.findForward("success"); }else{ ActionErrors errors = new ActionErrors(); errors.add("passwordEqual",new ActionMessage("ZHS.password.equals")); saveErrors(request,errors); /* ActionMessages msgs = new ActionMessages(); msgs.add("passwordEqual",new ActionMessage("ZHS.password.equals")); saveMessages(request,msgs); */ return new ActionForward(mapping.getInput()); } }}
saveErrors以不赞成使用，换成saveMessages后，在JSP里用&lt;html:errors /&gt;又得不到错误！return new ActionForward(mapping.getInput());不能写成：return mapping.findForward(mapping.getInput());


日志标题：ROWNUM的作用顺序
发表时间：2006-12-25 14:59:00
日志内容：1. The FROM/WHERE clause goes first.2. ROWNUM is assigned and incremented to each output row from the FROM/WHERE clause.3. SELECT is applied.4. GROUP BY is applied.5. HAVING is applied.6. ORDER BY is applied. 
http://www.oracle.com/technology/oramag/oracle/06-sep/o56asktom.html

日志标题：汉字编码转换
发表时间：2007-1-4 14:56:00
日志内容：做Java的时候，读取资源文件（properties）中的中文，一显示就会成乱码，百度一下，很多人推荐用汉字的Unicode码来表示汉字，还列出一个Java命令，我没有记住。不过不要紧，下面贴出我写的用JavaScript对汉字进行转换的程序，在第一个框里输入汉字，点Convert，或在第一个框里输入转换后的汉字的编码，点Reconvert。


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.btn{font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #666666;text-align: left;text-decoration: none;display: block;overflow: visible;margin-right: 10px;margin-left: 10px;}.btn a:hover {background-color: #d8dfea;border-top-width: 1px;border-bottom-width: 1px;border-top-style: solid;border-bottom-style: solid;border-top-color: #333366;border-bottom-color: #333366;}.btn a {display: block;text-decoration: none;color: #666666;border-top-width: 1px;border-bottom-width: 1px;border-top-style: solid;border-bottom-style: solid;border-top-color: #CCCCCC;border-bottom-color: #CCCCCC;width: 100px;padding-top: 5px;padding-right: 10px;padding-bottom: 5px;padding-left: 30px;overflow: visible;float: left;}html {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #333333;line-height: 18px;margin: 0px;}--&gt;body{margin:0px;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt; &lt;textarea name="source" rows="14" id="source" style="width:99%"&gt;中华人民共和国万岁中A人民共和fq\u4E2D\u534E\u4EBA\u6C11\u5171\u548C\u56FD\u4E07\u5C81\u4E2D\u83EF\u4EBA\u6C11\u5171\u548C\u570B\u842C\u6B72&lt;/textarea&gt;&lt;/p&gt;&lt;div class="btn"&gt; &lt;a href="javascript:action('CONVERT_FMT1')"&gt; &lt;strong&gt;Convert&lt;/strong&gt;&lt;br /&gt; Fmort &amp;amp;#xxxx &lt;/a&gt;&lt;/div&gt;
&lt;div class="btn"&gt; &lt;a href="javascript:action('CONVERT_FMT2')"&gt; &lt;strong&gt;Convert&lt;/strong&gt;&lt;br /&gt;Fmort \uxxxx &lt;/a&gt; &lt;/div&gt;
&lt;div class="btn"&gt; &lt;a href="javascript:action('RECONVERT')"&gt; &lt;strong&gt;ReConvert&lt;/strong&gt;&lt;br /&gt;To &amp;#27721;&amp;#23383; &lt;/a&gt; &lt;/div&gt;
&lt;p&gt;&lt;div id="tt" style="display:none"&gt;&lt;/div&gt; &lt;textarea name="show2" rows="14" id="show2" style="width:99%"&gt;&lt;/textarea&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;var oSource = document.getElementById("source");var oShow2 = document.getElementById("show2");var oTt = document.getElementById("tt");
function action(pChoice){switch(pChoice){case "CONVERT_FMT1":oShow2.value = ascii(oSource.value);break;case "CONVERT_FMT2":oShow2.value = unicode(oSource.value);break;case "RECONVERT":oShow2.value = reconvert(oSource.value);break;}}
function ascii(str){return str.replace(/[^\u0000-\u00FF]/g,function($0){return escape($0).replace(/(%u)(\w{4})/gi,"\&amp;#x$2;")});}
function unicode(str){return str.replace(/[^\u0000-\u00FF]/g,function($0){return escape($0).replace(/(%u)(\w{4})/gi,"\\u$2")});}
function reconvert(str){str = str.replace(/(\\u)(\w{4})/gi,function($0){return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\w{4})/g,"$2")),16)));});str = str.replace(/(&amp;#x)(\w{4});/gi,function($0){return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\w{4})(%3B)/g,"$2"),16));});return str;}&lt;/script&gt;

日志标题：臭长：去除以逗号分隔的字符串的重复值
发表时间：2007-1-5 21:41:00
日志内容：中午就看这个题了，只是第一反应是：这题不算很难，要有谁能用一句SQL能把它实现就更NB了！
下午又看这题，心里痒痒，就试着写了一下，还好，我还是奈着性子把它给写下来了。就当学习了吧！
要求：
如:'1,1,1,2,2,2,3,3,4,5,6,7,8,9,123,234,......'去除重复值1,2,3等.效果为'1,2,3,4,5,6,7,8,9,123,234,....'
注，不是表，是一个字符串！
贴出我写SQL语句，当然如果用存储过程很容易解决，还好理解，不过吗...俺就用一句SQL来实现它！

SELECT * FROM ( SELECT  FF.TTT, FF.LEN  FROM( SELECT EE.TT, EE.RN, EE.RNN, SYS_CONNECT_BY_PATH(EE.TT,',') AS TTT, LENGTH(SYS_CONNECT_BY_PATH(EE.TT,',')) AS LEN FROM ( SELECT  DD.TT, ROWNUM RN, ROWNUM + 1 AS RNN FROM ( SELECT  CC.TT,CC.RN, ROW_NUMBER() OVER (PARTITION BY CC.TT ORDER BY CC.RN) AS RNN  FROM ( SELECT TT,ROWNUM AS RN FROM( SELECT  SUBSTR(VAL, INSTR(AA.VAL,',',1,ROWNUM) + 1, INSTR(AA.VAL,',',1,ROWNUM + 1) - INSTR(AA.VAL,',',1,ROWNUM) - 1 ) AS TT  FROM ( SELECT ',' || 'AA,AA,CC,BB,CC,AA,DD,CC,FF,CC' || ',' AS VAL FROM DUAL ) AA CONNECT BY ROWNUM &lt; LENGTH(AA.VAL) ) BB  WHERE BB.TT IS NOT NULL ) CC ORDER BY CC.RN ) DD WHERE DD.RNN = 1 )EE  CONNECT BY PRIOR RNN = RN )FF ORDER BY LEN DESC) GGWHERE ROWNUM = 1
结果图：

问题来源：
http://www.oracle.com.cn/viewthread.php?tid=111703&amp;pid=884479&amp;page=1&amp;extra=page%3D1#pid884479

日志标题：内部方法的运用
发表时间：2007-1-15 8:28:00
日志内容：Java有内部类。Oracle也有内部方法。
在Oracle中定义的的方法（Procedure/Function）是保存在数据库中的，但是内部方法除外。内部方法可以写在匿名块中，可以调用、修改父块中的变量。
很久以前，在俺开始学Java的时候，就对内部类做了大量的关注，学Oracle的时候，也做了大量的关注。只不过，基本上没有怎么使用它。
阶乘：
SET SERVEROUT ONDECLARE NUM NUMBER:= 1;  PROCEDURE FACTORIAL(I_NUM IN NUMBER) AS BEGIN NUM := NUM * I_NUM; END;BEGIN FOR I IN 1..10 LOOP  FACTORIAL(I); DBMS_OUTPUT.PUT_LINE(NUM); END LOOP;END;

日志标题：兼容FireFox的JGrid预览版
发表时间：2007-1-18 22:30:00
日志内容：一切都在紧锣密鼓的进行中。
先放个雏形出来，支持FireFox2.0,IE6,其它的浏览器没有测试。
真JB扯淡，这个破BLOG居然把图片的地址给转换掉了！
大家可以保存为本地在运行看效果。
上一张效果图：


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.oOutline {border: 3px double #666666;overflow: hidden;background-image: url(UploadFiles/2006-4/425110653.gif);background-repeat: no-repeat;background-position: 90% 90%;}.oFrameTable {}.oDataTable {
}.oFrameTable td{line-height: 22px;}
.oTopLeftAreaTd {background-image: url(UploadFiles/2007-1/118360867.gif);}
.oTitleAreaTd {background-image: url(UploadFiles/2007-1/118360867.gif);}.oRowNumAreaTd {background-color: #DEE6EB;border-right-width: 1px;border-right-style: ridge;border-right-color: #85ADD6;}.oDataTableAreaTd {}.oDataTable td{font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #666666;overflow: hidden;word-break:break-all;white-space:normal;}.rowStyle1 {background-color: #E7E7E7;}.rowStyle2 {
}.oTitleItem {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #333333;}.oRowNum {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #333333;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;table border="1" cellpadding="0" cellspacing="0" bordercolor="#D1DED8" id="tab1"&gt; &lt;tr&gt; &lt;td&gt;1 sadf sdf asdf sdf sadf asdf sdf sadf adsf asdf sadf &lt;/td&gt; &lt;td align="center"&gt;2&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;2&lt;/td&gt; &lt;td&gt;&lt;img src="UploadFiles/2006-10/104113798.gif" width="98" height="98" /&gt;&lt;/td&gt; &lt;td&gt;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa。&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;3&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;5&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;6&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;7&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;8&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;9&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;10&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;
&lt;textarea name="ht" cols="100" rows="6" id="ht"&gt;&lt;/textarea&gt;&lt;br /&gt;
&lt;input type="button" name="Button" value="Button" onclick="getHTML()" /&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function JGrid(pBody,pWidth,pHeight){var self=this;this.debug=true;this.width=pWidth|| 100;this.height=pHeight|| 100;//***************************************************************var $= function(pObjID){try{return document.getElementById(pObjID);}catch(e){debugMsg("object: " + pObjID + " 不存在！");}}//***************************************************************var htmlObject = function(pTag){try{return document.createElement(pTag);}catch(e){debugMsg("不能产生控件：　" + pTag );return false;}}//***************************************************************this.body=$(pBody)|| document.body;this.rowCountAreaWidth = 30;this.titleAreaHeight = 30;this.fieldDefaultLabel= "栏位名称";this.fieldDefaultWidth= 100;this.fieldDefaultAlign= "left";this.fieldDefaultClassName = "";var isIE = (document.all == null) ? false : true;var oOutline = null;var oFrameTable = null;var oTopLeftAreaTd=null;var oTitleAreaTd= null;var oRowNumAreaTd = null;var oDataTableAreaTd = null;var oTopLeftArea=null;var oTitleArea= null;var oTitleAreaInner= null;var oRowNumArea = null;var oDataTableArea = null;var oRowNumTable = null;var oDataTable= null;var oColGroup= null;//***************************************************************var debugMsg= function(pMsg){if(self.debug)alert(pMsg);}//***************************************************************var isRate = function(pRateString){if(!isNaN(pRateString)) return false;if(pRateString.substr(pRateString.length-1,1) != "%")return false;if(isNaN(pRateString.substring(0,pRateString.length - 1)))return false;return true;}//***************************************************************var check = function(){if(isNaN(self.width) &amp;&amp; !isRate(self.width)){debugMsg(self.width + " :不是一个有效的Width值，必须以数字或百分数为值" );return false;}if(isNaN(self.height) &amp;&amp; !isRate(self.height)){debugMsg(self.height + " :不是一个有效的Width值，必须以数字或百分数为值" );return false;}return true;}//***************************************************************var createFrameTable = function(){oFrameTable = htmlObject("TABLE");oFrameTable.border = 0;oFrameTable.className = "oFrameTable";oFrameTable.style.cssText += "border-collapse:collapse;width:100%;height:" + pHeight + "px";var tTbody = htmlObject("TBODY");var tTr1= htmlObject("TR");oTopLeftAreaTd = htmlObject("TD");oTopLeftAreaTd.className = "oTopLeftAreaTd";oTopLeftAreaTd.style.cssText += "width:" + self.rowCountAreaWidth + "px;height:" + self.titleAreaHeight + "px;"; oTitleAreaTd= htmlObject("TD");oTitleAreaTd.className = "oTitleAreaTd";tTr1.appendChild(oTopLeftAreaTd);tTr1.appendChild(oTitleAreaTd);var tTr2= htmlObject("TR");oRowNumAreaTd= htmlObject("TD");oRowNumAreaTd.className = "oRowNumAreaTd";oRowNumAreaTd.style.cssText += "height:" + (pHeight - self.titleAreaHeight - 4 ) + "px";oDataTableAreaTd= htmlObject("TD");oDataTableAreaTd.className = "oDataTableAreaTd";tTr2.appendChild(oRowNumAreaTd);tTr2.appendChild(oDataTableAreaTd);tTbody.appendChild(tTr1);tTbody.appendChild(tTr2);oFrameTable.appendChild(tTbody);}
//***************************************************************var createOutline = function(){oOutline = htmlObject("DIV");oOutline.className = "oOutline";with(oOutline.style){width = (isRate(self.width) ? self.width : self.width + "px");height = (isRate(self.height) ? self.height : self.height + "px");overflow = "hidden";}self.body.appendChild(oOutline);createFrameTable();oOutline.appendChild(oFrameTable);}//***************************************************************var bindRowNum = function(){oRowNumArea = htmlObject("DIV");oRowNumArea.style.cssText = "overflow:hidden;width:" + self.rowCountAreaWidth + "px;height:" + oRowNumAreaTd.style.height;
oRowNumAreaTd.appendChild(oRowNumArea)oRowNumTable = oDataTable.cloneNode(true);oRowNumTable.removeAttribute("id");oRowNumTable.width = 100; /*----------------------------*/var tRow = null,tCell = null;
for(var i=0;tRow = oRowNumTable.rows[i];i++){tCell = tRow.insertCell(0);tCell.innerHTML = i + 1;tCell.width = self.rowCountAreaWidth;tCell.className = "oRowNum";oDataTable.rows[i].className = (i % 2 == 0 ? "rowStyle1" : "rowStyle2");}oRowNumArea.appendChild(oRowNumTable);/*------------------下面这段，必须要。否则滚到最后一行后，行号和内容会错位一行。-----------------------*/tRow = oRowNumTable.insertRow(-1);tCell = tRow.insertCell(-1);tCell.colSpan = oRowNumTable.rows[0].cells.length;tCell.innerHTML = "&amp;nbsp;";}//***************************************************************this.bindDataTable = function(pTab){
oDataTable = $(pTab);oDataTable.border = 1;oDataTable.width = 100;/*------------oDataTable.width = 100;这一句至关重要，不能删除它。否则会引影FireFox下的单元格内容截断。值是大于0的数字。----------------*/oDataTable.className = "oDataTable";with(oDataTable.style){borderCollapse = "collapse";tableLayout="fixed";}oDataTableArea = htmlObject("DIV");oDataTableArea.style.cssText = "overflow:auto;width:" + (self.width - self.rowCountAreaWidth - 4) + "px;height:" + (pHeight - self.titleAreaHeight - 4) + "px;margin:0px";
oDataTableArea.onscroll = function(){oRowNumArea.scrollTop = this.scrollTop;oTitleArea.scrollLeft = this.scrollLeft;}var tTbody = oDataTable.firstChild;oColGroup = htmlObject("COLGROUP");var tCol;for(var i=0;i&lt;oDataTable.rows[0].cells.length;i++){tCol = htmlObject("COL");oColGroup.appendChild(tCol);}oDataTableArea.appendChild(oDataTable);oDataTableAreaTd.appendChild(oDataTableArea);bindRowNum();}//***************************************************************var getFieldLabel = function(pField){return pField[0] || self.fieldDefaultLabel;}var getFieldWidth = function(pField){return pField[1] || self.fieldDefaultWidth;}var getFieldAlign = function(pField){return pField[2] || self.fieldDefaultAlign;}var getFieldClassName = function(pField){return pField[3] || self.fieldDefaultClassName;}//***************************************************************var createFieldLabel = function(pFieldLabel,pFieldWidth){var tLabel = htmlObject("DIV");tLabel.innerHTML = pFieldLabel;tLabel.className = "oTitleItem";pFieldWidth += (isIE ? 1 : 0);/*--------------------------------至关重要，如果不这样做的话IE下的标题的位置和FireFox的标题位置会不一致。---------------------------------*/tLabel.style.cssText += "text-indent:2px;float:left;width:" + (pFieldWidth)  + "px;height:"  + self.titleAreaHeight  + "px;line-height:" + self.titleAreaHeight + "px;overflow:hidden;cursor:default;";oTitleAreaInner.appendChild(tLabel);}//***************************************************************this.bindTitle = function(pFields){oTitleArea = htmlObject("DIV");oTitleArea.style.cssText += "overflow:hidden;width:" + (self.width - self.rowCountAreaWidth - 4) + "px;height:" + self.titleAreaHeight + "px;";oTitleAreaInner = htmlObject("DIV");var tField,tRealWidth = 0;var tCol = null;for(var i =0;tCol = oColGroup.childNodes[i];i++){tField = pFields[i] || [self.fieldDefaultLabel,self.fieldDefaultWidth,self.fieldDefaultAlign];tRealWidth += getFieldWidth(tField);oColGroup.childNodes[i].className = getFieldClassName(tField);oColGroup.childNodes[i].style.cssText += "width:" + getFieldWidth(tField) + "px;text-align:" + getFieldAlign(tField);
createFieldLabel(getFieldLabel(tField),getFieldWidth(tField));}oDataTable.width = tRealWidth;oRowNumTable.width = tRealWidth + self.rowCountAreaWidth;oTitleAreaInner.style.width = (tRealWidth + 200) + "px";oTitleArea.appendChild(oTitleAreaInner);oTitleAreaTd.appendChild(oTitleArea);oDataTable.appendChild(oColGroup);}//***************************************************************this.create = function(){if(!check())return false;createOutline();}this.runtimeHTML = function(){return oOutline.innerHTML;}}
var grid = new JGrid("aa","800","300");grid.create();grid.bindDataTable("tab1");var fields = [["用户名",150,"center"],["性别",50,"left"],["年龄",100,"right"],["说明",300],["出生地",300],["测试测试测试测试测试测试测试测试",100] ];grid.bindTitle(fields);//alert("here");
function getHTML(){document.getElementById("ht").value = grid.runtimeHTML();}&lt;/script&gt;

日志标题：全新体验：支持FireFox的JGrid！
发表时间：2007-1-20 17:16:00
日志内容：JGrid : JavaScript DataGrid作者：xlingFairyE-mail: 1fairy1@163.comBlog: http://xling.blueidea.com本版日期：2007/01/20支持FireFox2.0,IE6.0,其它浏览器没有测试。功能：自己慢慢体会吧！此版仅为预览版。更强的功能仍在开发中。
如果商业用户有意本程序，可与我联系。暂时拒绝普通用户的提问。
下载：UploadFiles/2007-1/120718197.rar
效果：


日志标题：来自TIBCO的同志请注意
发表时间：2007-1-21 10:57:00
日志内容：TIBCO 的同志：
　　谢谢关注我的Blog，您发的短消息显示不全。
　　如果有意的话，请联系Email:1fairy1@163.com
　　谢谢。

日志标题：JSF入门
发表时间：2007-1-23 10:03:00
日志内容：早就看完了，还不错。
http://www.javaworld.com.tw/confluence/pages/viewpage.action?pageId=2630
EJB２也大致看了一遍，但是有些疑问没有得到解决。又找了本EJB3,把它看完在说。
下了个JBuilder2007,IDE完全是Eclipse的，晕，卸掉在装回2006版的。
快年了，心也浮燥了很多，那个JGrid不准备在写下去了，反正对我来说以经够用了。如果以后在需要，在更新。

日志标题：订票
发表时间：2007-1-25 9:09:00
日志内容：从早上8点开始订十天后的火车票，一直打到9点，都是线路正忙。过了9点，连打三次，三次都通，第一次是不知洛阳的区号（忘了），第二次是不知到哪个站，第三次是没票了！
汗，俺的电话还是：您的余额以不多，请及时充值，MD都听了一百多遍了。

日志标题：关于JBOSS-IDE中，无法启动JBOSS的问题
发表时间：2007-1-25 13:03:00
日志内容：对着教程下了一个JBossIDE2.0和一个JBOSS4.0.GA在IDE里配置和启动JBoss时遇到一个问题:
Could not create deployment: file:/C:/javaServer/jboss/server/all/deploy/ejb3.deployer/org.jboss.deployment.DeploymentException: Unexpected error during load of: org.jboss.ejb3.JarsIgnoredForScanning, msg=org/jboss/ejb3/JarsIgnoredForScanning (Unsupported major.minor version 49.0); - nested throwable: (java.lang.ClassNotFoundException: Unexpected error during load of: org.jboss.ejb3.JarsIgnoredForScanning, msg=org/jboss/ejb3/JarsIgnoredForScanning (Unsupported major.minor version 49.0))
把JBoss卸掉，重装，问题照旧，更改配置，也是无效。
偶然间，发现居然是JDK指向错误引起的。如下图所示，修改后，一切正常！汗。。。



日志标题：困惑：Stateful Session Bean为什么不能运行？
发表时间：2007-2-7 13:20:00
日志内容：接口： 

package ejb;
import java.io.Serializable;
public interface Stf extends Serializable {public int add(int a,int b);}
Bean：

package ejb;
import javax.ejb.*;import ejb.Stf;
@SuppressWarnings("serial")@Remote(Stf.class)@Statefulpublic class StfBean implements Stf {private int result = 0;public int add(int a,int b){result += a + b;return result;}}

错误：
Exception in thread "main" java.lang.NoClassDefFoundError: Lorg/jboss/invocation/Invoker;at java.lang.Class.getDeclaredFields0(Native Method)at java.lang.Class.privateGetDeclaredFields(Unknown Source)at java.lang.Class.getDeclaredField(Unknown Source)at java.io.ObjectStreamClass.getDeclaredSUID(Unknown Source)at java.io.ObjectStreamClass.access$700(Unknown Source)at java.io.ObjectStreamClass$2.run(Unknown Source)at java.security.AccessController.doPrivileged(Native Method)at java.io.ObjectStreamClass.&lt;init&gt;(Unknown Source)at java.io.ObjectStreamClass.lookup(Unknown Source)at java.io.ObjectStreamClass.initNonProxy(Unknown Source)at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)at java.io.ObjectInputStream.readClassDesc(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.defaultReadFields(Unknown Source)at java.io.ObjectInputStream.readSerialData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.defaultReadFields(Unknown Source)at java.io.ObjectInputStream.readSerialData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.readObject(Unknown Source)at org.jboss.aop.joinpoint.InvocationResponse.readExternal(InvocationResponse.java:107)at java.io.ObjectInputStream.readExternalData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.defaultReadFields(Unknown Source)at java.io.ObjectInputStream.readSerialData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.readObject(Unknown Source)at org.jboss.remoting.serialization.impl.java.JavaSerializationManager.receiveObject(JavaSerializationManager.java:128)at org.jboss.remoting.marshal.serializable.SerializableUnMarshaller.read(SerializableUnMarshaller.java:66)at org.jboss.remoting.transport.socket.SocketClientInvoker.transport(SocketClientInvoker.java:279)at org.jboss.remoting.RemoteClientInvoker.invoke(RemoteClientInvoker.java:143)at org.jboss.remoting.Client.invoke(Client.java:525)at org.jboss.remoting.Client.invoke(Client.java:488)at org.jboss.aspects.remoting.InvokeRemoteInterceptor.invoke(InvokeRemoteInterceptor.java:41)at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:88)at org.jboss.aspects.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:34)at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:88)at org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:46)at $Proxy0.createProxy(Unknown Source)at org.jboss.ejb3.JndiProxyFactory.getObjectInstance(JndiProxyFactory.java:52)at javax.naming.spi.NamingManager.getObjectInstance(Unknown Source)at org.jnp.interfaces.NamingContext.getObjectInstance(NamingContext.java:1125)at org.jnp.interfaces.NamingContext.getObjectInstanceWrapFailure(NamingContext.java:1142)at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:705)at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:587)at javax.naming.InitialContext.lookup(Unknown Source)at test.StfClient.main(StfClient.java:15)

同样的代码，热上面的Statefull换成Stateless后就可以正常运行了！不解。
还有，仍然不懂local的怎么写。照着教程上写的，一样运行不出来！

日志标题：上一遍中关于Stateful Session Bean的错误
发表时间：2007-2-8 15:27:00
日志内容：上一篇的链接：
http://xling.blueidea.com/archives/2007/4260.shtml
在网上搜了好长时间，终于找到的解决办法。
在此批评一下《EJB3.0实例教程》（http://www.foshanshop.net/）的作者（也要感谢），对EJB3的配置写得很糊涂（特别是在写如何在JBOSS-IDE里新建支持EJB3的服务器那一块，写的好像根本就不对，俺还是摸索着弄出来的），对着教程配置行不通。
在此感谢一下http://hi.baidu.com/vsandjava的写手，是他指点了俺了迷津，要不是看到他写的一篇文章，俺现在可能还在打MOP的猫游记呢。
上一次说到写Stateful Session Bean的时候，会报如下错误：
Exception in thread "main" java.lang.NoClassDefFoundError: Lorg/jboss/invocation/Invoker;at java.lang.Class.getDeclaredFields0(Native Method)at java.lang.Class.privateGetDeclaredFields(Unknown Source)at java.lang.Class.getDeclaredField(Unknown Source)at java.io.ObjectStreamClass.getDeclaredSUID(Unknown Source)at java.io.ObjectStreamClass.access$700(Unknown Source)at java.io.ObjectStreamClass$2.run(Unknown Source)at java.security.AccessController.doPrivileged(Native Method)at java.io.ObjectStreamClass.&lt;init&gt;(Unknown Source)at java.io.ObjectStreamClass.lookup(Unknown Source)at java.io.ObjectStreamClass.initNonProxy(Unknown Source)at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)at java.io.ObjectInputStream.readClassDesc(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.defaultReadFields(Unknown Source)at java.io.ObjectInputStream.readSerialData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.defaultReadFields(Unknown Source)at java.io.ObjectInputStream.readSerialData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.readObject(Unknown Source)at org.jboss.aop.joinpoint.InvocationResponse.readExternal(InvocationResponse.java:107)at java.io.ObjectInputStream.readExternalData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.defaultReadFields(Unknown Source)at java.io.ObjectInputStream.readSerialData(Unknown Source)at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)at java.io.ObjectInputStream.readObject0(Unknown Source)at java.io.ObjectInputStream.readObject(Unknown Source)at org.jboss.remoting.serialization.impl.java.JavaSerializationManager.receiveObject(JavaSerializationManager.java:128)at org.jboss.remoting.marshal.serializable.SerializableUnMarshaller.read(SerializableUnMarshaller.java:66)at org.jboss.remoting.transport.socket.SocketClientInvoker.transport(SocketClientInvoker.java:279)at org.jboss.remoting.RemoteClientInvoker.invoke(RemoteClientInvoker.java:143)at org.jboss.remoting.Client.invoke(Client.java:525)at org.jboss.remoting.Client.invoke(Client.java:488)at org.jboss.aspects.remoting.InvokeRemoteInterceptor.invoke(InvokeRemoteInterceptor.java:41)at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:88)at org.jboss.aspects.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:34)at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:88)at org.jboss.aspects.remoting.PojiProxy.invoke(PojiProxy.java:46)at $Proxy0.createProxy(Unknown Source)at org.jboss.ejb3.JndiProxyFactory.getObjectInstance(JndiProxyFactory.java:52)at javax.naming.spi.NamingManager.getObjectInstance(Unknown Source)at org.jnp.interfaces.NamingContext.getObjectInstance(NamingContext.java:1125)at org.jnp.interfaces.NamingContext.getObjectInstanceWrapFailure(NamingContext.java:1142)at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:705)at org.jnp.interfaces.NamingContext.lookup(NamingContext.java:587)at javax.naming.InitialContext.lookup(Unknown Source)at test.StfClient.main(StfClient.java:15)
而stateless Session bean　就不会有这个错误。
搜了N多关键字，终于有找到如下解释：
（http://hi.baidu.com/vsandjava/blog/item/15ae560fdb14972a6159f3ab.html）
解决方法:加入jboss-EJB-3.0_Embeddable_ALPHA_9包中的hibernate-all.jar,jboss-ejb3-all.jar,thirdparty-all.jar三个Jar文件即可.
在哪里找jboss-EJB-3.0_Embeddable_ALPHA_9？http://sourceforge.net/project/showfiles.php?group_id=22866&amp;package_id=132063
只加入jboss-ejb3-all.jar，上面的错误就不在出现了！

日志标题：关于：Bad version number in .class file
发表时间：2007-2-12 20:53:00
日志内容：从开始学EJB3，到现在，摸索着搞清了好几个对我来说的难题。
这两天是这个错误：
org.apache.jasper.JasperException: Bad version number in .class fileroot cause java.lang.UnsupportedClassVersionError: Bad version number in .class file   java.lang.ClassLoader.defineClass1(Native Method)   java.lang.ClassLoader.defineClass(Unknown Source)   java.security.SecureClassLoader.defineClass(Unknown Source)   org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1815)   org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:869)   org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1322)   org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1201)   org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:127)   org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:65)   java.lang.ClassLoader.loadClassInternal(Unknown Source)   org.apache.jsp.index_jsp._jspService(index_jsp.java:57)   org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)   javax.servlet.http.HttpServlet.service(HttpServlet.java:810)   org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:334)   org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)   org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)   javax.servlet.http.HttpServlet.service(HttpServlet.java:810)   org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
baidu,google上说是因为编译和运行的版本不一样，可是并没有啊，如附图，

无意间在百度上搜了一个关键字，大致提了一下这个东东，于是照着看了一下我的IDE（JBoss-IDE2.0.0）里面的Java-Compiler选项，发现Compiler Compliance level 居然默认的是6.0的JDK，而我装的是5.0的JDK。改成5.0，重新Deploye一下，这个问题总算是没有了，如附图：


但是又发生如下错误，看不懂：
java.lang.ClassCastException: $Proxy96org.apache.jsp.index_jsp._jspService(index_jsp.java:63)org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)javax.servlet.http.HttpServlet.service(HttpServlet.java:810)org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:334)org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)javax.servlet.http.HttpServlet.service(HttpServlet.java:810)org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)


日志标题：拦截器：Interceptors
发表时间：2007-2-14 11:14:00
日志内容：拦截器可以写在外部，也可以写在内部。

package ejb;
public interface InterceptorTest {public void setName(String name);public String getName();}

package ejb;
import javax.interceptor.*;
public class OutInterceptor {@AroundInvokepublic Object log(InvocationContext ctx) throws Exception{System.out.println("-----------Interceptor-----------");long start = System.nanoTime();try{System.out.println(ctx.getMethod().getName());return ctx.proceed();}catch(Exception e){throw e;}finally{System.out.println("Time: " + (System.currentTimeMillis() - start) + " ms");}}}

package ejb;
import javax.ejb.*;import javax.interceptor.*;import ejb.InterceptorTest;
@Stateful@Remote(InterceptorTest.class)@Interceptors(OutInterceptor.class)public class InterceptorTestBean implements InterceptorTest {private String name;public void setName(String name){this.name = name;}public String getName(){System.out.println("name:" + name);return name;}}


package ejb;
public interface InnerInterceptor {public void setName(String name);public String getName();}


package ejb;
import javax.ejb.*;import javax.interceptor.*;import ejb.InnerInterceptor;
@Remote(InnerInterceptor.class)@Statefulpublic class InnerInterceptorBean implements InnerInterceptor {private String name;public void setName(String name){this.name = name;}public String getName(){return name;}@AroundInvokepublic Object interceptor(InvocationContext ctx) throws Exception{try{System.out.println("Method: " + ctx.getMethod().getName()+ " has been called!");return ctx.proceed();}catch(Exception e){throw e;}}}


&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%&gt;&lt;%@ page import = "ejb.*" %&gt;&lt;%@ page import = "javax.naming.*" %&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;%InitialContext ctx = new InitialContext();InterceptorTest remote = (InterceptorTest) ctx.lookup("InterceptorTestBean/remote");remote.setName("xling");out.println(remote.getName());
InnerInterceptor remote2 = (InnerInterceptor) ctx.lookup("InnerInterceptorBean/remote");remote2.setName("xlingFairy");out.println(remote2.getName());%&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：依赖注入：dependency injection
发表时间：2007-2-24 14:52:00
日志内容：说实话，并不懂什么叫依赖注入，也不懂用它有什么好处，教程上只是这样写到：
4.7 依赖注入(dependency injection)上面，你学到了如何开发藕合松散的服务组件。但是，为了存取那些服务对象，你需要通过服务器的JNDI 来查找存根对象（session bean）或消息队列（MDB）。JNDI查找是把客户端与实际的服务端实现解藕的关键步骤。但是，直接使用一个字符串来进行JNDI查找并不优雅。有这样几个原因：・客户端与服务端必须有一致的基于字符串的名字。它没有在编译时得到认证或在部署时得到检查。・从JNDI返回的服务对象的类型没有在编译时进行检查，有可能在运行时出现转换(casting)错误。・冗长的查找代码，有着自己的try-catch代码块，在应用之间是重复的和杂乱的
上面的这段，照旧是看不懂。
偶是照着例子写的。

package ejb;
public interface LR {public int add(int a,int b);public int getResult(int a,int b);}

package ejb;
import javax.ejb.*;import ejb.LR;
@Stateless@Remote({LR.class})@Local(LR.class)public class LRBean implements LR{private int total = 0;public int add(int a,int b){System.out.println("LRBean---------------&gt;&gt;");return a + b;}public int getResult(int a,int b){return total + add(a,b);}}


package ejb;public interface InjectionTest {public int add(int c,int d);}

package ejb;
import javax.ejb.Stateless;import javax.ejb.EJB;import javax.ejb.Remote;import ejb.InjectionTest;
@Remote(InjectionTest.class)@Stateless
public class InjectionTestBean implements InjectionTest {@EJB(beanName = "LRBean")LR lr;public int add(int c,int d){System.out.println("Injection-----------&gt;&gt;");return lr.add(c, d);}}


&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%&gt;&lt;%@ page import = "ejb.*" %&gt;&lt;%@ page import = "javax.naming.*" %&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;%InitialContext ctx = new InitialContext();InjectionTest it = (InjectionTest) ctx.lookup("InjectionTestBean/remote");out.println(it.add(256,789));%&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：定时服务：Timer Service
发表时间：2007-2-25 12:34:00
日志内容：定时服务用作在一段特定的时间后执行某段程序
使用容器对象SessionContext创建定时器，并使用@Timeout 注释声明定时器方法
通过依赖注入@Resource SessionContext ctx，获得SessionContext对象，调用ctx.getTimerService().createTimer(Date arg0, long arg1, Serializable arg2)方法创建定时器，
当定时器创建完成后，还需声明定时器方法。定时器方法的声明很简单，只需在方法上面加入@Timeout 注释

package ejb;
public interface TimerTest {public void schedule(long m);}

package ejb;
import javax.ejb.Stateless;import javax.ejb.Remote;import javax.ejb.SessionContext;import javax.ejb.Timeout;import javax.ejb.Timer;import javax.annotation.Resource;import java.util.Date;
import ejb.TimerTest;
@Remote(TimerTest.class)public @Stateless class TimerTestBean implements TimerTest {private @Resource SessionContext ctx;private int count = 0;public void schedule(long m){ctx.getTimerService().createTimer((new Date(new Date().getTime() + m)),m,"我是一棵葱！");}@Timeoutpublic void timeoutHandle(Timer timer){System.out.println(timer.getNextTimeout() + " " + count + " " + timer.getInfo());count ++;if(count &gt; 5){System.out.println("Timer canceled!");timer.cancel();System.out.println("Timer canceled!");}}}

&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%&gt;&lt;%@ page import = "ejb.*" %&gt;&lt;%@ page import = "javax.naming.*" %&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;%InitialContext ctx = new InitialContext();TimerTest tt = (TimerTest) ctx.lookup("TimerTestBean/remote");tt.schedule(3000l);%&gt;&lt;/body&gt;&lt;/html&gt;




日志标题：消息驱动：MDB(Message&nbsp;Driven&nbsp;Bean)
发表时间：2007-2-26 8:56:00
日志内容：
Java消息服务(JMS Java Message Services)提供了点对点模式(Point-to-Point　Queue)和发布-订阅模式(Publish-Subscribe　Topics).
Queue仅允许一个消息传送给一个客户（一对一）:消息的接收者和发送者之间不存在时间上的依赖关系。不论发送者发送消息时接收者是否在运行，接收者都可以提取信息。接收者对于成功处理的消息给出回执。
Topics可以有多个客户端（一对多，多对多）:向某个话题订阅的客户程序只能收到那些在它订阅之后发布的消息。为了接收到消息，订阅者必须保持活动状态。因此，发布者和订阅者之间存在时间上的依赖关系。
点对点消息模式通过一个消息队列(Queue)实现，消息的生产者向队列写入消息，消息的订阅者从队列提取消息。发布-订阅消息模式通过一个话题（Topic）节点构成的层次结构实现，消息的生产者向这个层次结构发布消息，消息的订阅者向这个结构订阅消息。 
消息驱动的Bean只有一个Bean类。从某些方面看，消息驱动的Bean类似于无状态会话Bean：消息驱动的Bean不为特定的客户保留数据或对话状态。 
@MessageDriven(activationConfig={@ActivationConfigProperty(propertyName="destinationType",propertyValue="javax.jms.Queue"),@ActivationConfigProperty(propertyName="destination",propertyValue="queue/Msg")})@MessageDriven注释指明这是一个消息驱动Bean，并使用@ActivationConfigProperty注释配置消息的各种属性，其中destinationType属性指定消息的类型，消息有两种类型topics 和queues，下面是这两种消息类型的介绍：Topics 可以有多个客户端。用topic发布允许一对多，或多对多通讯通道。消息的产生者被叫做publisher, 消息接受者叫做subscriber。destinationType属性对应值：javax.jms.Topic
Queue 仅仅允许一个消息传送给一个客户。一个发送者将消息放入消息队列，接受者从队列中抽取并得到消息，消息就会在队列中消失。第一个接受者抽取并得到消息后，其他人就不能再得到它。destinationType属性对应值：javax.jms.Queuedestination属性用作指定消息路径，消息驱动Bean在发布时，如果路径不存在，容器会自动创建该路径，当容器关闭时该路径会自动被删除
当一个消息到达queue/Msg队列时，就会触发onMessage方法，消息作为一个参数传入.


package ejb;
import javax.jms.Message;import javax.jms.MessageListener;import javax.ejb.MessageDriven;import javax.jms.TextMessage;import javax.jms.JMSException;import javax.ejb.ActivationConfigProperty;
@MessageDriven(activationConfig={@ActivationConfigProperty(propertyName="destinationType",propertyValue="javax.jms.Queue"),@ActivationConfigProperty(propertyName="destination",propertyValue="queue/Msg")})public class Msg implements MessageListener {
public void onMessage(Message msg) {// TODO Auto-generated method stubTextMessage tmsg = (TextMessage) msg;try{System.out.println(tmsg.getText());}catch(JMSException e){e.printStackTrace();}}
}


package test;
import javax.jms.QueueConnection;import javax.jms.QueueConnectionFactory;import javax.jms.JMSException;import javax.jms.QueueSession;import javax.jms.Queue;import javax.jms.TextMessage;import javax.jms.QueueSender;import javax.naming.*;
public class MsgTest {public static void main(String[] args){QueueConnection conn;QueueSession ssn;Queue queue;QueueSender sender;TextMessage msg;try{InitialContext ctx = new InitialContext();QueueConnectionFactory qcf =(QueueConnectionFactory) ctx.lookup("ConnectionFactory");conn = qcf.createQueueConnection();ssn = conn.createQueueSession(false, QueueSession.AUTO_ACKNOWLEDGE);queue =(Queue) ctx.lookup("queue/Msg");msg = ssn.createTextMessage("胡辣汤！好久没有喝了！很想啊！");sender = ssn.createSender(queue);sender.send(msg);sender.close();}catch(NamingException e){e.printStackTrace();}catch(JMSException e1){e1.printStackTrace();}}}
(1) 得到一个JNDI初始化上下文(Context)；例子对应代码：Properties props = new Properties();props.setProperty("java.naming.factory.initial", "org.jnp.interfaces.NamingContextFactory");props.setProperty("java.naming.provider.url", "localhost:1099");props.setProperty("java.naming.factory.url.pkgs", "org.jboss.naming");InitialContext ctx = new InitialContext(props);
(2) 根据上下文来查找一个连接工厂TopicConnectFactory/ QueueConnectionFactory (有两种连接工厂，根据是topic/queue来使用相应的类型)；例子对应代码：QueueConnectionFactory qcf =(QueueConnectionFactory) ctx.lookup("ConnectionFactory");
(3) 从连接工厂得到一个连接(Connect 有两种[TopicConnection/ QueueConnection]);例子对应代码：conn = qcf.createQueueConnection();
(4) 通过连接来建立一个会话(Session);例子对应代码：ssn = conn.createQueueSession(false, QueueSession.AUTO_ACKNOWLEDGE);这句代码意思是：建立不需要事务的并且能自动接收消息收条的会话，在非事务Session 中，消息传递的方式有三种：Session.AUTO_ACKNOWLEDGE ：当客户机调用的receive方法成功返回，或当MessageListenser 成功处理了消息，session将会自动接收消息的收条。
Session.CLIENT_ACKNOWLEDGE ：客户机通过调用消息的acknowledge方法来接收消息。接收发生在session层。接收到一个被消费的消息时，将自动接收该session已经消费的所有消息。例如：如果消息的消费者消费了10条消息，然后接收15 个被传递的消息，则前面的10 个消息的收据都会在这15 个消息中被接收。
Session.DUPS_ACKNOWLEDGE ：指示session缓慢接收消息。
(5) 查找目的地(Topic/ Queue);例子对应代码：queue =(Queue) ctx.lookup("queue/Msg");
(6) 根据会话以及目的地来建立消息制造者(TopicPublisher/QueueSender)和消费者(TopicSubscriber/QueueReceiver).例子对应代码：msg = ssn.createTextMessage("胡辣汤！好久没有喝了！很想啊！");sender = ssn.createSender(queue);sender.send(msg);


日志标题：回收站：Recyclebin与闪回
发表时间：2007-2-26 13:26:00
日志内容：
在Oracle 10g数据库中，引入了一个回收站(Recycle Bin)的数据库对象。 
回收站，从原理上来说就是一个数据字典表，放置用户Drop掉的数据库对象信息。用户进行Drop操作的对象并没有被数据库删除，仍然会占用空间。除非是由于用户手工进行Purge或者因为存储空间不够而被数据库清掉。数据库有了这样的功能，能够减少很多不必要的麻烦。常常看到开发人员误把表删除，急急忙忙找DBA 来想办法的情况。相信随着10G的大范围应用，这种情形应该比较少见了，我们可以充分利用10g的闪回(FLASHBACK,闪回，回闪?)功能来避免大量的人工误操作。
原文参考：http://www.dbanotes.net/Oracle/Oracle-10G-RecycleBin.htm
SELECT * FROM RECYCLEBIN
PURGE RECYCLEBIN　清空RECYCLEBIN
PURGE TABLE table_name　从RECYCLEBIN中删除指定的名称，可以为RECYCLEBIN表中的OBJECT_NAME或ORIGINAL_NAME栏位的值，如为ORIGINAL_NAME，则只影响最后一次操作的记录。
FLASHBACK TABLE table_name TO BEFORE DROP 闪回，table_name同PURGE TABLE　的table_name 一样。
CREATE TABLE TTT AS SELECT 1000 AS VAL,1 AS N FROM DUALCREATE TABLE TTT AS SELECT 'aaaa' AS VAL,2 AS N FROM DUALDROP TABLE TTT
SELECT * FROM RECYCLEBIN
PURGE RECYCLEBINPURGE TABLE "BIN$jXFaaCT8Quy0qv/TVQq13A==$0"PURGE TABLE TTT
FLASHBACK TABLE TTT TO BEFORE DROPFLASHBACK TABLE "BIN$d1ZsOybpSHW03cJ0SRfPCw==$0" TO BEFORE DROP


日志标题：实体(Entity)Bean
发表时间：2007-2-27 10:43:00
日志内容：persistence.xml
&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;persistence&gt;&lt;persistence-unit name="webapp"&gt;&lt;jta-data-source&gt;java:/webappDS&lt;/jta-data-source&gt;&lt;properties&gt;&lt;property name="hibernate.hbm2ddl.auto" value="update" /&gt;&lt;/properties&gt;&lt;/persistence-unit&gt;&lt;/persistence&gt;
persistence-unit 节点可以有一个或多个，每个persistence-unit 节点定义了持久化内容名称、使用的数据源名称及Hibernate属性。name 属性用作设置持久化名称。jta-data-source 节点用作指定实体Bean使用的数据源名称，指定数据源名称时java:/ 前缀不能缺少，数据源名称大小写敏感。properties 节点用作指定Hibernate的各项属性，如果hibernate.hbm2ddl.auto的值设为create-drop，在实体Bean发布及卸载时将自动创建及删除相应数据库表(注意：Jboss服务器启动或关闭时会引发实体Bean的发布及卸载)。
如果你的表已经存在,并且想保留数据，发布实体bean时可以把hibernate.hbm2ddl.auto的值设为none或update,以后为了实体bean 的改动能反应到数据表，建议使用update，这样实体Bean添加一个属性时能同时在数据表增加相应字段
persistence.xml要放到META-INF文件下，并打包进JAR文件里才行。
实体Bean

package ejb;
import java.io.Serializable;import java.util.Date;import javax.persistence.*;
@Entity@Table(name="T_USER")//表名为T_USER,后面getUserList()方法里，用的是：from TUser u order by name，和EntityBean的类名相同。@SuppressWarnings("serial")public class TUser implements Serializable {private String name;private String sex;private Date birthday;@Id@Column(name="name",length=20,nullable=false)public String getName(){return name;}public void setName(String name){this.name = name;}@Column(name="sex",length=1,nullable=false)public String getSex(){return sex;}public void setSex(String sex) throws Exception{if(sex.matches("[FMSfms]")){this.sex = sex;}else{throw new Exception("Sex Error!Must be in S,F,M"); }}@Column(name="birthday")public Date getBirthday(){return birthday;}public void setBirthday(Date birthday){this.birthday = birthday;}}
@Entity注释指明这是一个实体Bean，每个实体Bean类映射数据库中的一个表，@Table注释的name属性指定映射的数据表名称.
实体Bean的每个实例代表数据表中的一行数据，行中的一列对应实例中的一个属性。
@Column注释定义了映射到列的所有属性,如列名是否唯一，是否允许为空，是否允许更新等，他的属性介绍如下：・name: 映射的列名。如：映射Person表的PersonName列，可以在name属性的getName 方法上面加入@Column(name = "PersonName")，如果不指定映射列名，容器将属性名称作为默认的映射列名。・unique: 是否唯一・nullable: 是否允许为空・length: 对于字符型列，length属性指定列的最大字符长度・insertable: 是否允许插入・updatable: 是否允许更新・columnDefinition: 定义建表时创建此列的DDL・secondaryTable: 从表名。如果此列不建在主表上（默认建在主表），该属性定义该列所在从表的名字。@Id 注释指定personid属性为表的主键，它可以有多种生成方式：・TABLE：容器指定用底层的数据表确保唯一。・SEQUENCE：使用数据库的SEQUENCE 列来保证唯一・IDENTITY：使用数据库的INDENTIT列来保证唯一・AUTO：由容器挑选一个合适的方式来保证唯一・NONE：容器不负责主键的生成，由调用程序来完成。@GeneratedValue注释定义了标识字段的生成方式
实体bean需要在网络上传送时必须实现Serializable接口，否则将引发java.io.InvalidClassException例外。
用户实体Bean的Session Bean

package ejb;
import java.util.Date;import java.util.List;import ejb.TUser;
public interface TUserDAO {public boolean addUser(String name,String sex,Date birthday);public boolean updateUser(TUser user);public boolean deleteUser();public List getUserList(); }
package ejb;
import javax.ejb.Stateless;import javax.ejb.Remote;import javax.persistence.*;import java.util.Date;import java.util.List;import ejb.TUserDAO;import ejb.TUser;
@Remote(TUserDAO.class)@Statelesspublic class TUserDAOBean implements TUserDAO {@PersistenceContext(unitName="webapp")protected EntityManager em;public boolean addUser(String name,String sex,Date birthday){try{TUser user = new TUser();user.setName(name);user.setSex(sex);user.setBirthday(birthday);em.persist(user);}catch(Exception e){//e.printStackTrace();return false;}return true;}public boolean updateUser(TUser user){try{em.merge(user);}catch(Exception e){e.printStackTrace();return false;}return true;}public boolean deleteUser(){return false;}public List getUserList(){try{Query query = em.createQuery("from TUser u order by name");List list = query.getResultList();em.clear();return list;}catch(Exception e){e.printStackTrace();return null;}}}
EntityManager em，EntityManager 是由EJB容器自动地管理和配置的，不需要用户自己创建，他用作操作实体Beanem.find()方法用作查询主键记录。em.persist()方法用作向数据库插入一条记录。在类中并没有看到对EntityManager em进行赋值，后面却可以直接使用他。这是因为在实体Bean加载时，容器通过@PersistenceContext注释动态注入EntityManager 对象。如果persistence.xml文件中配置了多个不同的持久化内容。你需要指定持久化名称注入EntityManager 对象，可以通过@PersistenceContext注释的unitName属性进行指定，例：@PersistenceContext(unitName="webapp")EntityManager em;如果只有一个持久化内容配置，不需要明确指定。
JSP调用：

&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%&gt;&lt;%@ page import = "ejb.*" %&gt;&lt;%@ page import = "java.text.SimpleDateFormat" %&gt;&lt;%@ page import = "javax.naming.*" %&gt;&lt;%@ page import = "java.util.Iterator" %&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;%InitialContext ctx = new InitialContext();TUserDAO userDao = (TUserDAO) ctx.lookup("TUserDAOBean/remote");SimpleDateFormat sdf = new SimpleDateFormat("yyyyMMdd");try{if(userDao.addUser("werewi","M",sdf.parse("19830714")))out.println("Success");elseout.println("Failure");Iterator it = userDao.getUserList().iterator();while(it.hasNext()){TUser user = (TUser) it.next();out.println(user.getName() + " " + user.getSex() + " " + sdf.format(user.getBirthday()));}}catch(Exception e){out.println(e.toString());}%&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：Java&nbsp;泛型
发表时间：2007-3-2 9:55:00
日志内容：在看实体Bean的一对多关系时，出现了这尖括号（&lt;&gt;）的语法，网上一查，原来是泛型。
从介绍来看，应该是泛型可以让参数的类型不确定，其它的还在领会中。

import java.util.Hashtable;
public class First&lt;K,V&gt; {private Hashtable&lt;K,V&gt; tab = new Hashtable&lt;K,V&gt;();public void putValue(K k,V v){tab.put(k, v);}public V getValue(K k){return tab.get(k);}public static void main(String[] args) {First&lt;String,String&gt; f = new First&lt;String,String&gt;();f.putValue("name", "xling");f.putValue("sex", "男");System.out.println(f.getValue("name"));First&lt;Integer,String&gt; ff = new First&lt;Integer,String&gt;();ff.putValue(1,"xling");ff.putValue(2, "fairy love snow");System.out.println(ff.getValue(2));}}
如果写成：First&lt;int,String&gt; ff = new First&lt;int,String&gt;();
Eclipse就会提示以下问题：
Syntax error on token "int", Dimensions expected after this token
换成：First&lt;Integer,String&gt; ff = new First&lt;Integer,String&gt;();　就没事了，不懂ing。
---------------------------
针对上面的情况，找到了如下的说明：
Tiger 中类型变量的限制之一就是，它们必须用引用类型进行实例化 － 基本类型不起作用。因此，在上面这个示例中，无法完成创建从 int 映射到 String 的 Hashtable 。 
这很遗憾，因为这意味着只要您想把基本类型用作泛型类型的参数，您就必须把它们组装为对象。另一方面，当前的这种情况是最糟的；您不能将 int 作为键传递给 Hashtable ，因为所有的键都必须是 Object 类型。 
我们真正想看到的是，基本类型可以自动进行包装（boxing）和解包装（unboxing），类似于用 C# 所进行的操作（或者比后者更好）。遗憾的是，Tiger 不打算包括基本类型的自动包装（但是人们可以一直期待 Java 1.6 中出现该功能！）。
http://www.ibm.com/developerworks/cn/java/j-djc02113/

日志标题：抽了个小奖
发表时间：2007-3-4 21:39:00
日志内容：今天是元宵节，我在食堂里吃了可能有10个汤圆吧，饭全都TMD倒掉了，菜真TMD的太有特色了！糯米蒸肉（不知是不是这个名字，我们那没有），MD给我打的全是糯米，一天吃两顿米饭就够烦的了！
吃完饭抽奖，抽了个床上四件套，两个被套，两个枕套，给我女朋友开完笑说：留我们结婚在用。
昨天投了富士康　无线通讯事业部　一份简历，让我去周二去面试，不知考俺啥，俺做过一年的PHP,两年的ASP,现在对Oracle是比较熟点，又自学了java/JSP/EJB3(进行中)，那个岗位的要求是：.NET/C++/java/Oracle/SQLServer,最好还有ERP维护经验，我样着我差不多合要求，就递了简历。谁知能不能通过呢？原来在学校时，我们班有两名额可以去富士康（听说是去修手提），MD，那个辅导员对俺有意见，就没俺的份！
哎！哎哎！哎哎哎！

日志标题：That's the Way It Is
发表时间：2007-3-5 21:48:00
日志内容：

Celine Dion - That's the Way It Is
I can read your mindAnd I know your storyI see what you're going through, yeahIt's an uphill climbAnd I'm feeling sorry But I know it will come to you, yeahDon't surrender 'cause you can winIn this thing called love When you want it the mostThere's no easy way outWhen you're ready to goAnd your heart's left in doubtDon't give up on your faithLove comes to those who believe itAnd that's the way it is 
When you question me For a simple answerI don't know what to say, noBut it's plain to seeIf you stick togetherYou're gonna find the way, yeahSo don't surrender 'Cause you can winIn this thing called love When you want it the most There's no easy way outWhen you're ready to go And your heart's left in doubtDon't give up on your faithLove comes to those who believe itAnd that's the way it is That's the way it is 
When life is emptyWith no tomorrowAnd loneliness starts to callBaby don't worryForget your sorrow'Cause love's gonna conquer it all... all 
When you want it the most There's no easy way outWhen you're ready to go And your heart's left in doubtDon't give up on your faithLove comes to those who believe it
(And that's the way it isWhen you want it the most There's no easy way outWhen you're ready to go And your hearts left to doubt)
Don't give up on your faithLove comes to those who believe itAnd that's the way it isThat's the way it isThat's the way it isDon't give up on your faithLove comes to those who believe itAnd that's the way it is 
* Written by Max Martin, Kristian Lundin, Andreas Carlsson

日志标题：关于JSP数据乱码
发表时间：2007-3-7 21:12:00
日志内容：刚刚在做一个小例子时，遇到了点麻烦，我把所有的encode相关的字眼全改为UTF-8了，数据写入数据库还照样是乱码。
如下：
&lt;?xml version="1.0" encoding="utf-8" ?&gt;&lt;%@ page language="java" contentType="text/html; charset=utf-8"%&gt;&lt;%@ page import = "app.*" %&gt;&lt;%response.setCharacterEncoding("UTF-8");String isSend = request.getParameter("isSend");if(isSend != null &amp;&amp; isSend.equals("true")){GUser user = new GUser();user.setUserNo(request.getParameter("userNo"));user.setUserName(request.getParameter("userName"));user.setCompNo(request.getParameter("compNo"));user.addUser();response.sendRedirect("register.jsp");}%&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;title&gt;Register&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;form action="register.jsp" method="post"&gt;用ID：&lt;input type="text" name="userNo" id="userNo"/&gt;&lt;br /&gt;用裘：&lt;input type="text" name="userName" id="userName" /&gt;&lt;br /&gt;公司e：&lt;input type="text" name="compNo" id="compNo" /&gt;&lt;br /&gt;&lt;input type="submit" value="Send" /&gt;&lt;input type="hidden" name="isSend" value="true" /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;
在QQ群里请教了好人：Jerry，他给我做了详细的指导。
最后，我在response.setCharacterEncoding("UTF-8");的下面加了一句：
request.setCharacterEncoding("UTF-8");
一切正常了，谢谢Jerry.

日志标题：JGrid更新
发表时间：2007-3-8 21:50:00
日志内容：感谢大家的观注，这个JGrid我反复修改了N遍，仍有不少Bug,
最下面是最新更新的！请不要下载了以前的包，然后对我说：有××Bug!
现正式公开问答，如果在分析中有什么问题，可直接发Mail到：1fairy1#163.com
－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
这个东东又面临着一个重大的更新，祝贺吧！即将加入动态设定皮肤的功能，把部分CSS写入文件，以提高速度！
我忠实的Fans们，期待吧！20070530
－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
这些天，我在找工作，WEB程序员也在我的计划之中，故，抽时间在对这个东东进行修改。
--------------------------------------------------------------------
2007/03/08
更新了冗余的行号产生方法，一下子快了多许（兼容IE6／FireFox）。
对它的更新，我用到哪，就更新哪，没有办法！请见谅。
下载：UploadFiles/2007-3/38159666.rar
-----------------------------------------------------------------------
2007/03/09
更新内容：更新调整列宽的方法。仍有少许对不齐的现象。注：调整后，没有调整行号表格的高度。
UploadFiles/2007-3/39542704.rar
2007/03/09
对上面提出的Bug进行修改。加入reBindRowNum()方法，也没有比原来慢多少。
UploadFiles/2007-3/39148982.rar
2007/03/10
修改了一个参数，克服了拉伸列后，对不齐的Bug.加入minColumnWidth（栏位最小宽度）参数，注：miniColumnWidth &gt; plitBarWidth,否则splitBar会被隐藏。
UploadFiles/2007-3/310268980.rar
2007/03/11
更改了鼠标行为的实现方式，主要是为减轻IE的内存泄露，测试了一些数据，表面上是减轻了许了，但是不知是否属实，故数据不公开。更改了两个参数，使拉伸列宽变的更容易。
UploadFiles/2007-3/311681255.rar
2007/03/12
加入排序功能，但是FireFox下，排序的图示不能用background-position来控制，还得想办法。
UploadFiles/2007-3/312735597.rar
2007/03/14处理了FireFox下排序图标位置错误的问题。预加入指定皮肤的功能，但有Bug,具体请见Demo2.htmlUploadFiles/2007-3/314571488.rar
2007/03/22如果表格里没有行(没有tr)，也就是说，像这个样子：&lt;table&gt;&lt;/table&gt;，会出错。现以做判断。
UploadFiles/2007-3/322296610.rar
2007/03/22 下午更新重大BUG，百分号带来的问题。由于机问题，现规定function JGrid(pBody,pWidth,pHeight)　中的pWidth可为百分数，而pHeight只能为数字。运行后，pWidth分自动转换为相应的数值（这个只是暂时的，等有时间在处理）。
UploadFiles/2007-3/322241047.rar
======================================================
2007/05/30更新：
在oAdjustBar_mouseup方法里，少加了一句：
evt = arguments[0] || window.event;
导至FireFox下newPos.getMousePos(evt);没有成功执行，出现style.width解析错误，不能拉伸标题栏。
现以更正。
UploadFiles/2007-5/530735954.rar

日志标题：旧作品：JAccordion(QQ菜单)
发表时间：2007-3-11 21:00:00
日志内容：UploadFiles/2007-3/311740952.rar
没有什么好说的，这是我初学JavaScript时做的东东，现在搬出来，为的是找工作多出条门路。


日志标题：Dom4j操作XML文件
发表时间：2007-3-15 20:22:00
日志内容：下面是写XML的示例：

import java.sql.*;import org.dom4j.Document;import org.dom4j.DocumentHelper;import org.dom4j.Element;import org.dom4j.io.OutputFormat;import org.dom4j.io.XMLWriter;import java.io.FileWriter;import java.io.File;import java.io.IOException;import java.util.Date;import java.io.FileOutputStream;
public class GetUserListXML {Connection conn;public GetUserListXML(String file) {try{Class.forName("oracle.jdbc.driver.OracleDriver");conn = DriverManager.getConnection("jdb:oracle:thin:@ruang:1521:webapp","xling","webapp");Statement stmt = conn.createStatement();ResultSet rst = stmt.executeQuery("SELECT USER_NO,USER_NAME,SEX,COMP_NO,REGISTER_DATE FROM G_USER");this.exportToXML(rst, file);conn.close();}catch(ClassNotFoundException e){e.printStackTrace();}catch(SQLException e1){e1.printStackTrace();}}private void exportToXML(ResultSet rst,String file){Document doc = DocumentHelper.createDocument();//doc.setXMLEncoding("UTF-8");Element root = doc.addElement("UserList");root.addAttribute("createTime", (new Date()).toString());Element user;try{while(rst.next()){System.out.println(rst.getString(2));user = root.addElement("User");user.addAttribute("userNo", rst.getString(1));user.addAttribute("userName", rst.getString(2));user.addAttribute("sex", rst.getString(3));user.addAttribute("compNo", rst.getString(4));user.addAttribute("registerDate", rst.getString(5));}root.addAttribute("count",(new Integer(rst.getRow() + 1)).toString());}catch(SQLException e){//}OutputFormat opf = OutputFormat.createCompactFormat();opf.setEncoding("UTF-8");//当用FileWriter时，UTF-8编码输出的文件用Notepad打开，中文是乱码？//FileWriter fw;FileOutputStream fos;XMLWriter xw;try{//fw = new FileWriter(new File(file));fos = new FileOutputStream(new File(file));//xw = new XMLWriter(fw,opf);xw = new XMLWriter(fos);xw.write(doc);xw.close();//fw.close();fos.close();}catch(IOException e){e.printStackTrace();}}/** * @param args */public static void main(String[] args) {// TODO Auto-generated method stubGetUserListXML userList = new GetUserListXML("userList.XML");}
}
关于上面所说的用FileWriter处理，选用UTF-8编码时，用Notepad打开，中文是乱码的解释请看：
http://blog.csdn.net/redez/archive/2005/11/11/527897.aspx

下面是读取XML的代码：

import java.io.File;import java.util.Iterator;
import org.dom4j.io.SAXReader;import org.dom4j.Document;import org.dom4j.DocumentException;import org.dom4j.Element;import org.dom4j.Attribute;
public class First {
public Document parse(String sFile) throws DocumentException {SAXReader reader = new SAXReader();Document doc = reader.read(new File(sFile));return doc;}public void show(Document doc){System.out.println(doc.getName());Element root = doc.getRootElement();System.out.println(doc.getName());System.out.println(doc.getName());subShow(root,1);}public void subShow(Element elem,int leval){Iterator it = elem.elementIterator();Element subElem;while(it.hasNext()){subElem = (Element) it.next();System.out.print(this.getPrefix(leval) + subElem.getName());showAttribute(subElem);if(subElem.nodeCount() == 1)System.out.println(subElem.getStringValue());elseSystem.out.println();subShow(subElem,leval + 1);}}public void showAttribute(Element elem){Iterator it = elem.attributeIterator();Attribute att;System.out.print("[");while(it.hasNext()){att = (Attribute) it.next();System.out.print(" " + att.getName() + "=" + att.getValue());}System.out.print("]");}private String getPrefix(int len){return String.format("%" + len * 2 + "s", " ");}public static void main(String[] args) {// TODO Auto-generated method stubFirst first = new First();try{first.show(first.parse("D:\\WEB\\WEBAPP\\WEBAPP_STRUTS_MODULE\\WEB-INF\\web.xml"));}catch(DocumentException e){System.out.println("Failure");}}
}


日志标题：dom4j 生成XML字符串
发表时间：2007-3-16 14:21:00
日志内容：前面学习了用dom4j生成XML文件，这里我来学习一下，如何生成XML字符串。
import java.sql.*;
import org.dom4j.Document;import org.dom4j.DocumentHelper;import org.dom4j.Element;import org.dom4j.io.XMLWriter;import org.dom4j.io.OutputFormat;
import java.io.IOException;import java.io.StringWriter;
public class GetUserListXML2 {Connection conn;public GetUserListXML2() {try{Class.forName("oracle.jdbc.driver.OracleDriver");conn = DriverManager.getConnection("jdbc:oracle:thin:@ruang:1521:webapp","xling","webapp");Statement stmt = conn.createStatement();ResultSet rst = stmt.executeQuery("SELECT USER_NO,USER_NAME,SEX,COMP_NO,REGISTER_DATE FROM G_USER");expendToXML(rst);rst.close();conn.close();}catch(ClassNotFoundException e){e.printStackTrace();}catch(SQLException e1){e1.printStackTrace();}}
public void expendToXML(ResultSet rst){Document doc = DocumentHelper.createDocument();doc.setXMLEncoding("UTF-8");Element root = doc.addElement("UserList");Element userElem;XMLWriter xw;StringWriter sw = new StringWriter();OutputFormat opf;try{while(rst.next()){userElem = root.addElement("User");userElem.addAttribute("userNo", rst.getString("USER_NO"));userElem.addAttribute("userName", rst.getString("USER_NAME"));userElem.addAttribute("sex", rst.getString("SEX"));userElem.addAttribute("compNo",rst.getString("COMP_NO"));userElem.addAttribute("registerDate",rst.getString("REGISTER_DATE"));}root.addAttribute("count", (new Integer(rst.getRow() + 1)).toString());opf = OutputFormat.createCompactFormat();opf.setEncoding("UTF-8");xw = new XMLWriter(sw);xw.write(doc);xw.close();System.out.println(sw.toString());sw.close();}catch(SQLException e){e.printStackTrace();}catch(IOException e1){e1.printStackTrace();}}public static void main(String[] args) {GetUserListXML2 gu = new GetUserListXML2();}
}

日志标题：转：FCKeditor For JSP　的配置
发表时间：2007-3-19 17:03:00
日志内容：源：http://www.blogjava.net/myblogs/archive/2006/06/28/55533.html

1.下载FCKeditor.java 2.3 (FCKeditot for java)FCKeditor 2.2 (FCKeditor基本文件) 
2.建立项目:tomcat/webapps/TestFCKeditor.
3.将FCKeditor2.2解压缩,将整个目录FCKeditor复制到项目的根目录下，目录结构为：tomcat/webapps/TestFCKeditor/FCKeditor然后将FCKeditor-2.3.zip（java）压缩包中\web\WEB-INF\lib\目录下的两个jar文件拷到项目的\WEB-INF\lib\目录下。把其中的src目录下的FCKeditor.tld文件copy到TestFCKedit/FCKeitor/WEB-INF/下
4.将FCKeditor-2.3.zip压缩包中\web\WEB-INF\目录下的web.xml文件合并到项目的\WEB-INF\目录下的web.xml文件中。
5. 修改合并后的web.xml文件，将名为SimpleUploader的Servlet的enabled参数值改为true，以允许上传功能，Connector Servlet的baseDir参数值用于设置上传文件存放的位置。添加标签定义:&lt;taglib&gt;&lt;taglib-uri&gt;/TestFCKeditor&lt;/taglib-uri&gt;&lt;taglib-location&gt;/WEB-INF/FCKeditor.tld&lt;/taglib-location&gt;&lt;/taglib&gt;
6. 上面文件中两个servlet的映射分别为：/editor/filemanager/browser/default/connectors/jsp/connector和/editor/filemanager/upload/simpleuploader，需要在两个映射前面加上/FCKeditor，即改为/FCKeditor/editor/filemanager/browser/default/connectors/jsp/connector和/FCKeditor/editor/filemanager/upload/simpleuploader。
7.进入skin文件夹，如果你想使用fckeditor默认的这种奶黄色，那就把除了default文件夹外的另两个文件夹直接删除.
8.删除/FCKeditor/目录下除fckconfig.js, fckeditor.js, fckstyles.xml, fcktemplates.xml四个文件以外的所有文件 删除目录/editor/_source,删除/editor/filemanager/browser/default/connectors/下的所有文件删除/editor/filemanager/upload/下的所有文件删除/editor/lang/下的除了fcklanguagemanager.js, en.js, zh.js, zh-cn.js四个文件的所有文件
9.打开/FCKeditor/fckconfig.js修改 FCKConfig.DefaultLanguage = 'zh-cn' ; 把FCKConfig.LinkBrowserURL等的值替换成以下内容：FCKConfig.LinkBrowserURL= FCKConfig.BasePath + "filemanager/browser/default/browser.html?Connector=connectors/jsp/connector" ;FCKConfig.ImageBrowserURL= FCKConfig.BasePath + "filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors/jsp/connector" ;FCKConfig.FlashBrowserURL= FCKConfig.BasePath + "filemanager/browser/default/browser.html?Type=Flash&amp;Connector=connectors/jsp/connector" ;
FCKConfig.LinkUploadURL = FCKConfig.BasePath + 'filemanager/upload/simpleuploader?Type=File' ;FCKConfig.FlashUploadURL = FCKConfig.BasePath + 'filemanager/upload/simpleuploader?Type=Flash' ;FCKConfig.ImageUploadURL = FCKConfig.BasePath + 'filemanager/upload/simpleuploader?Type=Image' ;
10.其它fckconfig.js总配置文件，可用记录本打开，修改后将文件存为utf-8 编码格式。找到：
FCKConfig.TabSpaces = 0 ; 改为FCKConfig.TabSpaces = 1 ; 即在编辑器域内可以使用Tab键。
如果你的编辑器还用在网站前台的话，比如说用于留言本或是日记回复时，那就不得不考虑安全了，在前台千万不要使用Default的toolbar，要么自定义一下功能，要么就用系统已经定义好的Basic，也就是基本的toolbar，找到：FCKConfig.ToolbarSets["Basic"] = [['Bold','Italic','-','OrderedList','UnorderedList','-',/*'Link',*/'Unlink','-','Style','FontSize','TextColor','BGColor','-','Smiley','SpecialChar','Replace','Preview'] ] ;这是改过的Basic，把图像功能去掉，把添加链接功能去掉，因为图像和链接和flash和图像按钮添加功能都能让前台页直接访问和上传文件， fckeditor还支持编辑域内的鼠标右键功能。FCKConfig.ContextMenu = ['Generic',/*'Link',*/'Anchor',/*'Image',*/'Flash','Select','Textarea','Checkbox','Radio','TextField','HiddenField',/*'ImageButton',*/'Button','BulletedList','NumberedList','TableCell','Table','Form'] ;这也是改过的把鼠标右键的“链接、图像，FLASH，图像按钮”功能都去掉。
　　找到： FCKConfig.FontNames = 'Arial;Comic Sans MS;Courier New;Tahoma;Times New Roman;Verdana' ;加上几种我们常用的字体 FCKConfig.FontNames = '宋体;黑体;隶书;楷体_GB2312;Arial;Comic Sans MS;Courier New;Tahoma;Times New Roman;Verdana' ;7、添加页面&lt;%@ page language="java" import="com.fredck.FCKeditor.*" %&gt;&lt;%@ taglib uri="/WEB-INF/tlds/FCKeditor.tld" prefix="FCK" %&gt;&lt;script type="text/javascript" src="FCKeditor/fckeditor.js"&gt;&lt;/script&gt;
&lt;form action="show.jsp" method="post" target="_blank"&gt;&lt;table border="0" width="700"&gt;&lt;tr&gt;&lt;td&gt;&lt;textarea id="content" name="content" style="WIDTH: 100%; HEIGHT: 400px"&gt;input&lt;/textarea&gt;&lt;script type="text/javascript"&gt;var oFCKeditor = new FCKeditor('content') ;oFCKeditor.BasePath = "FCKeditor/" ;oFCKeditor.Height = 400;oFCKeditor.ToolbarSet = "Default" ; oFCKeditor.ReplaceTextarea();&lt;/script&gt;&lt;input type="submit" value="Submit"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/form&gt;编辑web.xml 文集 添加 如下片断&lt;servlet&gt;&lt;servlet-name&gt;SimpleUploader&lt;/servlet-name&gt;&lt;servlet-class&gt;com.fredck.FCKeditor.uploader.SimpleUploaderServlet&lt;/servlet-class&gt;&lt;init-param&gt;&lt;param-name&gt;baseDir&lt;/param-name&gt;&lt;param-value&gt;/UserFiles/&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;debug&lt;/param-name&gt;&lt;param-value&gt;true&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;enabled&lt;/param-name&gt;&lt;param-value&gt;false&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;AllowedExtensionsFile&lt;/param-name&gt;&lt;param-value&gt;&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;DeniedExtensionsFile&lt;/param-name&gt;&lt;param-value&gt;php|php3|php5|phtml|asp|aspx|ascx|jsp|cfm|cfc|pl|bat|exe|dll|reg|cgi&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;AllowedExtensionsImage&lt;/param-name&gt;&lt;param-value&gt;jpg|gif|jpeg|png|bmp&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;DeniedExtensionsImage&lt;/param-name&gt;&lt;param-value&gt;&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;AllowedExtensionsFlash&lt;/param-name&gt;&lt;param-value&gt;swf|fla&lt;/param-value&gt;&lt;/init-param&gt;&lt;init-param&gt;&lt;param-name&gt;DeniedExtensionsFlash&lt;/param-name&gt;&lt;param-value&gt;&lt;/param-value&gt;&lt;/init-param&gt;&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;
 &lt;servlet-mapping&gt; &lt;servlet-name&gt;Connector&lt;/servlet-name&gt; &lt;url-pattern&gt;/FCKeditor/editor/filemanager/browser/default/connectors/jsp/connector&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;  &lt;servlet-mapping&gt; &lt;servlet-name&gt;SimpleUploader&lt;/servlet-name&gt; &lt;url-pattern&gt;/FCKeditor/editor/filemanager/upload/simpleuploader&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;taglib&gt;&lt;taglib-uri&gt;/WEB-INF/FCKeditor.tld&lt;/taglib-uri&gt;&lt;taglib-location&gt;/WEB-INF/tlds/FCKeditor.tld&lt;/taglib-location&gt;&lt;/taglib&gt;OK！

日志标题：关于JTree在JSP环境下运行错误的解决办法
发表时间：2007-3-21 19:53:00
日志内容：很早以前，有同志向我反映JTree(JavaScript Tree)在JSP页面下运行不正确的问题，由于当时我没有JSP的运行环境，所以，无从考证，故不了了之（因为在非JSP页面下运行正常）。
今天我在做一个示例时，遇到这个问题，现对造成原因和解决方法作一下说明：
首先，在JTree.js里找到这一段：

var createImg=function(pSrc){var tmp=createTag("IMG");tmp.align="absmiddle";tmp.src=pSrc;tmp.onerror=function(){try{this.parentNode.removeChild(this);}catch(e){}}return tmp;}
看红色标注的那段，它的作用是当图片载入错误时，将图片删除。
什么会造成图片加载错误呢？最常见的原因是，图片路径错误，但是在非JSP环境下，JTree运行并没有错误，那是为什么呢？
相信大家的JSP运行环境对文件名大小写是敏感的，所以，弄错了大小写，文件就不会被调用。
解决办法，将　JTreePic目录　下　图片名的大小写　与　JTree.js　里的　图片变量　的大小写完全符合，包括扩展名。
OK!

日志标题：SQLServer 与 Oracle的建立外键的语法不同。
发表时间：2007-3-27 14:16:00
日志内容：Oracle：
ALTER TABLE X_GNO_RULE ADD CONSTRAINT X_GNO_RULE_SLIP_FK FOREIGN KEY (SLIP_TYPE) REFERENCING X_GNO(SLIP_TYPE)
SQLServer：
ALTER TABLE G_USER ADD CONSTRAINT G_USER_FK FOREIGN KEY (COMP_NO) REFERENCES G_COMP(COMP_NO)

日志标题：jsp:带中文字符的验证图片的实现
发表时间：2007-3-27 21:31:00
日志内容：首先看这一个，在向propertyes里写汉字时要用到：
http://xling.blueidea.com/archives/2007/4041.shtml
实现主要用awt的画图功能，bufferedImage，偶原来学过一点点J2ME，所以Graphics啦，Font啦，理解起来不是太难。

package com.xling.tools.validate;
import java.awt.image.BufferedImage;import javax.imageio.ImageIO;import java.awt.Graphics;import java.awt.Color;import java.util.Random;import java.util.Locale;import java.util.Properties;import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.OutputStream;import java.io.IOException;import java.awt.Font;
public class ValidateImg { private int width = 120,height = 40; private BufferedImage bImg; private Graphics g; private Random random = new Random(); private String ISO3Country; private static int FONT_SIZE = 18; private static int CODE_LENGTH = 4;  private String DEFAULT_TEMPLATE_CODE = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"; private String templateCode; private int templateCodeLength;  public ValidateImg(int pWidth,int pHeight) { width = pWidth; height = pHeight; init(); }  public ValidateImg(){ init(); }  public void setLocale(Locale pLocale,String pLangFile){ ISO3Country = pLocale.getISO3Country(); Properties prop = new Properties(); File file = new File(pLangFile); try{ FileInputStream fis = new FileInputStream(file); prop.load(fis); templateCode = prop.getProperty(ISO3Country,DEFAULT_TEMPLATE_CODE); fis.close(); }catch(FileNotFoundException e){ // }catch(IOException e1){ // } }  private void init(){ templateCode = DEFAULT_TEMPLATE_CODE; bImg = new BufferedImage(width,height,BufferedImage.TYPE_INT_RGB); g = bImg.getGraphics(); drawOutline(); drawDisturb(); }  private void drawOutline(){ g.setColor(Color.white); g.fillRect(0,0,width,height); g.setColor(Color.BLACK); g.drawRect(0,0,width-1,height-1); }  private void drawDisturb(){//燥点 int x,y,x1,y1; for(int i=0;i&lt;width;i++){ x = random.nextInt(width); y = random.nextInt(height); x1 = random.nextInt(12); y1 = random.nextInt(12); g.setColor(getRandomColor(120,255)); g.drawLine(x,y,x+x1,y+y1); g.fillArc(x,y,x1,y1,random.nextInt(360),random.nextInt(360)); } }   private String drawCode(){ templateCodeLength = templateCode.length(); Font font1 = new Font("Verdana",Font.BOLD,FONT_SIZE); Font font2 = new Font("serif",Font.BOLD,FONT_SIZE);
 StringBuffer sb = new StringBuffer();  int x,y; for(int i=0;i&lt;CODE_LENGTH;i++){ x = (width/CODE_LENGTH) * i + random.nextInt(width/(CODE_LENGTH * 2));// FONT_WIDTH/2; y = random.nextInt(height - FONT_SIZE) + FONT_SIZE; sb.append(getRandomChar()); g.setColor(getRandomColor(70,150)); if(sb.substring(i).getBytes().length &gt; 1) g.setFont(font2); else g.setFont(font1); g.drawString(sb.substring(i),x,y); } return sb.toString();  }  private Color getRandomColor(int pMin,int pMax){ pMax = (Math.abs(pMax) &gt; 255 ? 255 : Math.abs(pMax)); pMin = (Math.abs(pMin) &gt; 255 ? 255 :Math.abs(pMin));
 int r = pMin + random.nextInt(Math.abs(pMax - pMin)); int g = pMin + random.nextInt(Math.abs(pMax - pMin)); int b = pMin + random.nextInt(Math.abs(pMax - pMin));
 return new Color(r,g,b); }   private char getRandomChar(){ return templateCode.charAt(random.nextInt(templateCodeLength)); }   public String output(OutputStream pOps){ String code = drawCode(); g.dispose(); try{ ImageIO.write(bImg, "JPEG", pOps); }catch(IOException e){ // } return code; }}
原来学PHP时，也做过图片验证这一块，知道在图片输出之前，页面不能有任何输出，包括空格，换行等。JSP也一样，所以这里把图片输出到一个servlet中，可以在jsp页面里直接用：&lt;img src="servletName" /&gt;这样的方式来显示验证图片，以下是servlet：

package com.xling.tools.validate;
import javax.servlet.*;import javax.servlet.http.*;import javax.servlet.ServletContext;import java.io.*;import com.xling.tools.validate.ValidateImg;
public class ValidateImgServlet extends HttpServlet { private static final String CONTENT_TYPE = "image/jpeg";
 //Initialize global variables public void init() throws ServletException { }
 //Process the HTTP Get request public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { ServletContext application = this.getServletContext(); String fileName = application.getRealPath("/") + "/WEB-INF/properties/validateImage.properties"; System.out.println(fileName);  response.setContentType(CONTENT_TYPE); response.setHeader("Pragma", "No-cache"); response.setHeader("Cache-Control", "no-cache"); response.setDateHeader("Expires", 0);
  ValidateImg img = new ValidateImg(); img.setLocale(request.getLocale(),fileName); img.output(response.getOutputStream());//output会返回一个字符串，就是图片中所表现的文字，这里我没有取得，示例而以。 }
 //Clean up resources public void destroy() { }}
以下是用到的properties文件的内容：
CHN = ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\u4E2D\u534E\u4EBA\u6C11\u5171\u548C\u56FD\u4E07\u5C81\u5BC6\u7801\u5F3A\u5EA6\u63D0\u793A\u662F\u6700\u8FD1\u6D41\u884C\u7684\u4E00\u4E2A\u529F\u80FD\u4E8B\u5B9E\u4E0A\u662F\u8FD9\u6837\u4E48\u6839\u672C\u6CA1\u6709\u5BF9\u5E94\u7528\u6237\u7684\u5FC3\u7406\u6A21\u578B\u5927\u6982\u80FD\u770B\u51FA\u662F\u6309\u4F7F\u7528\u4E60\u60EF\u8FDB\u884C\u5224\u65AD\u5982\u679C\u60F3\u66F4\u5B8C\u5584TWN = ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\u6700\u8FD1\u767C\u73FE\u6C38\u548C\u9806\u7684\u8CC7\u4EBA\u54E1\u8ACB\u5047\u6C92\u6709\u5411\u53F0\u5317\u5831\u5099\u9020\u6210\u4EBA\u529B\u652F\u63F4\u8ABF\u914D\u554F\u984C\u8ACB\u5354\u52A9\u628A\u95DC\u6C92\u6709\u53F0\u5317\u540C\u610F\u8ACB\u4E0D\u8981\u653E\u884C\u6587\u4EF6\u670D\u52D9\u5668\u8CC7\u6599\u4EDF\u8FFB\u904E\u7A0B\u4E2D\u8ACB\u5404\u4F4D\u6838\u5C0D\u4E00\u4E0B\u81EA\u5DF2\u7684\u8CC7\u6599
可以用开头我给出的链接里的示例解出上面写的倒底是什么，嘿嘿。。
效果：
简体：
繁体（台湾）：
其它（没有设定，取默认）：

日志标题：Listener Servlet 的运用
发表时间：2007-3-28 15:10:00
日志内容：Listener是Servlet的监听器，它可以监听客户端的请求、服务端的操作等。通过监听器，可以自动激发一些操作，比如监听在线的用户的数量。当增加一个HttpSession时，就激发sessionCreated(HttpSessionEvent se)方法，这样就可以给在线人数加1。常用的监听接口有以下几个： ServletContextAttributeListener监听对ServletContext属性的操作，比如增加、删除、修改属性。 ServletContextListener监听ServletContext。当创建ServletContext时，激发contextInitialized(ServletContextEvent sce)方法；当销毁ServletContext时，激发contextDestroyed(ServletContextEvent sce)方法。 HttpSessionListener监听HttpSession的操作。当创建一个Session时，激发session Created(HttpSessionEvent se)方法；当销毁一个Session时，激发sessionDestroyed (HttpSessionEvent se)方法。 HttpSessionAttributeListener监听HttpSession中的属性的操作。当在Session增加一个属性时，激发attributeAdded(HttpSessionBindingEvent se) 方法；当在Session删除一个属性时，激发attributeRemoved(HttpSessionBindingEvent se)方法；当在Session属性被重新设置时，激发attributeReplaced(HttpSessionBindingEvent se) 方法。
以上转自：http://zhidao.baidu.com/question/19883181.html
下面让我来体验一下它的功能：

package com.xling.tools.application;
import javax.servlet.*;import javax.servlet.http.*;import java.io.*;import java.util.*;
public class AppListener extends HttpServlet implements ServletContextListener, ServletContextAttributeListener, HttpSessionListener, HttpSessionAttributeListener, ServletRequestListener, ServletRequestAttributeListener { //Notification that the web module is ready to process requests int userCount = 0; public void contextInitialized(ServletContextEvent sce) {  System.out.println("Application Run!"); }
 //Notification that the servlet context is about to be shut down public void contextDestroyed(ServletContextEvent sce) { System.out.println("Application ended!"); }
 //Notification that a new attribute has been added to the servlet context public void attributeAdded(ServletContextAttributeEvent scab) {
 }
 //Notification that an attribute has been removed from the servlet context public void attributeRemoved(ServletContextAttributeEvent scab) {
 }
 //Notification that an attribute of the servlet context has been replaced public void attributeReplaced(ServletContextAttributeEvent scab) {
 }
 //Notification that a session was created public void sessionCreated(HttpSessionEvent se) { userCount ++; System.out.println(userCount + " users on line!"); }
 //Notification that a session was invalidated public void sessionDestroyed(HttpSessionEvent se) { userCount --; System.out.println(userCount + " users on line"); }
 //Notification that a new attribute has been added to a session public void attributeAdded(HttpSessionBindingEvent se) {  }
 //Notification that an attribute has been removed from a session public void attributeRemoved(HttpSessionBindingEvent se) {
 }
 //Notification that an attribute of a session has been replaced public void attributeReplaced(HttpSessionBindingEvent se) { System.out.println(se.getName() + " : " + se.getValue() + " " + se.getSession().getAttribute(se.getName())); }
 //Notification that a request was created public void requestInitialized(ServletRequestEvent sre) {
 }
 //Notification that a request was invalidated public void requestDestroyed(ServletRequestEvent sre) {
 }
 //Notification that a new attribute has been added to a request public void attributeAdded(ServletRequestAttributeEvent srae) {
 }
 //Notification that an attribute has been removed from a request public void attributeRemoved(ServletRequestAttributeEvent srae) {
 }
 //Notification that an attribute of a request has been replaced public void attributeReplaced(ServletRequestAttributeEvent srae) {
 }}
上面的代码基本上是JBuilder自动生成的（得益于JBuilder的强大功能，我几乎不用为繁杂的配置而苦恼），
蓝色部分是实现的计数功能，红色部分是当session的attribute改变后才被触发，所以se.getValue()是旧值啦！

日志标题：Trigger的怪现象
发表时间：2007-3-29 10:42:00
日志内容：以下是建表SQL:

CREATE TABLE G_FORBIDDEN_IP(IP_S VARCHAR2(100) NOT NULL,IP_E VARCHAR2(100),START_TIME DATE DEFAULT SYSDATE,END_TIME DATE,FORBIDDEN_FLAG VARCHAR2(1) DEFAULT 'Y',MSG VARCHAR2(300),
CONSTRAINT G_FORGIDDEN_IP_CK CHECK(UPPER(FORBIDDEN_FLAG) IN ('Y','N')))
加入一个Trigger,Before insert or Update：

CREATE OR REPLACE TRIGGER G_T_FORBIDDEN_IP_IUBEFORE INSERT OR UPDATE ON G_FORBIDDEN_IP REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROWBEGINIF :NEW.IP_E IS NULL AND :OLD.IP_E IS NULL THEN:NEW.IP_E := :NEW.IP_S;END IF;END;
新增一条记录后：
INSERT INTO G_FORGIDDEN_IP (IP_S,IP_E,MSG) VALUES ('192.168.0.249','192.168.0.250');
用以下语句更新记录：
UPDATE G_FORBIDDEN_IP SET IP_S = '192.168.0.249',IP_E = NULL
按理说IP_E应该等于IP_S的，但是第一次UPDATE之后，IP_E居然为NULL，然后在执行一次UPDATE,IP_E才等于IP_S，在执行一次UPDATE，IP_E又等于NULL了！怪事！

日志标题：getResource
发表时间：2007-3-29 20:25:00
日志内容：JSP页面中：

out.println(GComp.class.getResource("") + "&lt;br /&gt;");out.println(GComp.class.getResource("/") + "&lt;br /&gt;");out.println(GComp.class.getClassLoader().getResource("") + "&lt;br /&gt;");out.println(GComp.class.getClassLoader().getResource("/") + "&lt;br /&gt;");
结果为：
file:/C:/javaServer/JBoss405GA/server/all/./tmp/deploy/tmp51009CMS-exp.war/WEB-INF/classes/com/xling/cms/sys/file:/C:/javaServer/JBoss405GA/server/all/./tmp/deploy/tmp51009CMS-exp.war/WEB-INF/classes/file:/C:/javaServer/JBoss405GA/server/all/./tmp/deploy/tmp51009CMS-exp.war/WEB-INF/classes/file:/C:/javaServer/JBoss405GA/server/all/./tmp/deploy/tmp51009CMS-exp.war/WEB-INF/classes/

客户测试中：

 System.out.println(IPConvert.class.getResource("")); System.out.println(IPConvert.class.getResource("/")); System.out.println(IPConvert.class.getClassLoader().getResource("")); System.out.println(IPConvert.class.getClassLoader().getResource("/"));
结果为：
file:/D:/WEB/CMS/classes/com/xling/test/file:/D:/WEB/CMS/classes/file:/D:/WEB/CMS/classes/null


日志标题：我在永和顺最后的日子
发表时间：2007-3-30 12:44:00
日志内容：
　　渔人节那天，我就要走了，掐指一算，我来这里上班以有一年带一月了。　　　　在这里，我并不是没有收获，但是收获也不是很多。最起码我应拿的工资够
我每天去吃我爱吃的兰州拉面的了。四块的是小碗，五块的是大碗，六块的是羊
肉的，七块的是炒着吃的。味道比同行都好，就靠着这面，在这一年里，我硬是
长了二十斤，以至于我现在看起来有点“横”行的样子。
　　我是做ERP的，听起来很有“钱”途的一个职业，但是一旦上了这船，才发
现自己上的是贼船。做ERP的有很多种，比方说开发，比方说顾问，比方说实施
，在比方说维护。开发我是没有机会做的，最多就是修修补补，写一些外围程序
（台湾人管它叫：客制程式），因为开发是软件公司的事；顾问也是没有资格做
的，一般都是有权力的人来做，比如经理。顾问的薪水很高，别看他们就是讲讲
课而以，具内部透露，我们经理去另一家分厂（那时还没有收购）讲课时，每天
的薪水是：RMB 4000,讲了大概一周吧。而我去支援时，最好的待遇是那个厂的
领导带着我们去洗了一回脚。实施怎么说呢？一般实施都是从一个模组开始上的
时候就跟进，在顾问的大方向下制定一些小的细节。做实施也是很好的。但是我
们厂没有实施这一说，让什么模组就是经理一句话（当然有大量的前期工作），
然后让我们这些维护做哪些哪些东东，输入哪些哪些数据，然后，他过来讲课，
这就是实施；维护呢？我就是搞维护的，不过，不是前台操作，前台操作都是
ERP使用者自己搞的，在他们操作期间，有什么不对啊，不通啊，错误啊，这些
问题都是要我们来处理的，用挺传统的一句话来说：我们是擦屁股的！
　　说到“擦屁股”，我在这里插一段，别看这个厂没多大，但是里面的人都很
diao噢！像生管，船务，采购这些人都管我们叫：啊猫啊狗。并且很不配合我们
工作，故意制造麻烦给我们。我呢，只要不犯我，我就什么也不说，只要一犯我
，我让你好看！上次一个生管装大，结果让我发邮件骂了他一通，还抄送给了他
的直接上司（厂里的领导）。
　　本来是打算找到工作在辞职的，但是我接二连三的被人家忽悠，感觉到一个
大男人决不是像我这样的。所以，我辞了，就批到“渔人”节那天！
　　前前后后去富士康面试过三次。第一次人家开会开到四点半，我等到四点半
，完后一看我简历，做ERP的，白眼了，意思是说：我们招的是程序员，你会写
程序吗？其它的，就没有领会到了。之后他们把我推到系统部，出来一个人，听
说我做过网页，就和我聊了半天，说什么他们要上一套系统，软件公司要钱要的
太多，准备自己做，用C#，关于这个C#，他也不会，ASP什么的，他也不会，我
说我也不会。后面，我去做了考试题，英文和智力题，做完后，差不多六点了吧
，副理们都以经下班了，这次就这样，浪费了一天。
　　第二次是我同学帮我投的简历，没什么好说的，就是想靠关系进去，可是这
关系不硬，在加之我不会C#，让人家副理推了。
　　第三次是在网上投的简历，他上面并没有写要求会什么，我就试了一次，结
果面试地点很偏,我从早上六点就在找如何去的路，找到九点，末了还是打的过
去的，试题很简单，英语86，智力84，面试也很简历，出来一个看起来像刚毕业
没多久的男生，随便问了我两句，又问我会C#不，我说不会，但是我有信心在很
短的时间里使用上它。回答也很简单：你回去等通知吧。
　　还去过其它几家，就不说了，但是有两家还是要说一下滴。
　　车公庙，一家美资公司在中国设的办事处，是网友推荐我去的，因为我对
javaScript比较熟点。本来以为有人推荐，就一切暗箱操作了，结果是没有结果
，我发邮件去资询，返回来的信息大至意思是说我不够自信（其实我也想自信啊
，但是打击太大了啊，去面试人家就不把我当程序员看啊！），在者就是说我形
象不佳，那天是衣服没有干，就将就穿着运动裤，运动鞋去了，看着一幅吊儿郎
当的样子，至于我写的工资吗，我认为是很高了，不过是他们推荐我那样写的。
　　ECS，精英主板，在深圳开的工厂。英语加智力一共得了六十几分（主要是
一些化学方程式，三角函数我记不得了），算过关了。专业试题是一些
SQLServer的题，很简单，后面还一道类似鸡兔同笼的题，我傻B西西的推了半天
，后来才想起来：是一个二元方程式，不过，我答的还算可以。面试我的那位胖
哥哥，很和善，问了我一些ERP方面的问题，感觉我还可以，就给他们经理说我
很合适做ERP工程师。后面就去见了经理，他问我什么时候能去上班，我说四月
一号，因为我辞职书批到三月三十一。工资也谈了，不是很理想，也过得去。让
我回来等，说这周通知。从周一到现在我是电话不离身，充电都放到夜里去，结
果，想想，这算是给我在渔人节最大的礼物吧！我又被忽悠了一次！
　　上面说干了这一行，是上了贼船，为什么呢？因为我们没有机会接触到数据
库（Oracle）服务器，所以干不成DBA；我们只是做一些修修补补的工作，虽然
自己也要写一些程序加进来，但总体来说，我们不是做开发的，就是说：不像程
序员！市场上招Oracle的一般都要三到五年工作经验，还要求本科以上学历，加
之这种工作机会几近于零，所以，我们是可以不被考虑的。虽然在工作之余自学
了java，但是没有过实际的项目开发经验，人家还是不愿召用。假如我当初不跳
槽来搞什么ERP的话，可能要比现在滋润的多了，因为最起码我做的是程序员的
事情！
　　就要失业了，本来有两个同学在深圳人才市场里上班，可以去投靠他们，可是上次要得的电话中，手机打不通，办公室又让我给误删了！投靠也无门了！
　　完蛋中。。。　　如有谁愿意召我去做程序员，可发邮件至：1fairy1#163.com，我会尽快发送简历给您。前题：4月1日之前。

日志标题：永&nbsp;/&nbsp;别&nbsp;/&nbsp;了
发表时间：2007-3-31 13:43:00
日志内容：永别了！
永别了，我用了一年零一月的电脑！
永别了，我坐了大半年的转椅和另一个被坐坏的转椅！
永别了，我的口杯，因为我不方便带上你！
永别了，我带了一年零一月的耳麦，还有那七百M歌曲！
别了，我的同志们！
别了，暗恋我的女孩们！
别了，把我们称为阿猫阿狗的阿猫阿狗们！
我走了，轻轻的走了！
正如我轻轻的来！

日志标题：深圳的小偷行业特别发达！
发表时间：2007-4-20 9:44:00
日志内容：和东莞相比，这里的摩托车是很少，治安要比东莞强多了。
没有了飞车抢夺，但并不代表没有其它。。。比如：小偷。
昨天下午，我在小公交上丢了我的电话，用了两年多了，虽然有点破，但那也得钱买啊！
当时我刚从坂田车站上车，到九鼎皇就一站路，下车了几个人，我的手机就不见了！用售票员的电话打过去，那贼人居然还接了！考！什么世道！
我来深圳两个多周，在人才市场投了N多简历，全都留的这个号码，居然。。。
幸好，昨天下午面试成功了！
找到了工作，丢了手机！

日志标题：让我哭笑不得的招聘单位
发表时间：2007-4-28 8:07:00
日志内容：来这家上班都整整一周了！
从来深圳到现在，以有28天了！
投了N多简历，就面试了4家，我现在就在第4家上班。
来深的时候，本来是想找份和Oracle相关的工作的，但是造化弄人啊！就投了几张简历到有这样要求的公司，来深圳的第二个星期的星期三（好像是吧），我就去了第二家面试，做Oracle的工作。那家公司没有懂这个的，于是就和我面谈了其它的一事情。我当时是很想去那家上班的，但是人家说我年轻，意思是怕我不懂，没有资历！昨天晚上8点多的时候，我正在超市买东西，那家公司居然打电话来问我是不是还在找工作！汗。。。我真的有那么笨吗？一个月还找不到一份工作？我是年轻了点，但并不代表我没有资历，并不代表我不懂！
还有一家，就是第3次面试的那家，做网站维护，不包吃住。面谈的时候，猛砍我的薪水，我没有傻到食不裹腹就上班吧！当时就没打算去！结果前天中午，那家又打电话来问我去不去上班，给我要求的薪水，相比起来，还是没这边划算，我就说：不必了吧！
来深找工作的时候，碰过N次壁，心都恢了，一次一次降低自己的要求，你们都还挑来挑去的，等我稳定下来的时候，你们又要我去上班！何必呢？在去招吧！愿你们早日招到合适的人选！

日志标题：钱！钱！钱！
发表时间：2007-5-3 9:39:00
日志内容：钱！钱！钱！
吃饭，穿衣，住房，坐车，订婚，结婚，亲情，友情，爱情！
钱啦！你把我压的透不过气来啊！

日志标题：Windows上安装配置Apache2.2.3及实现多站点
发表时间：2007-5-17 15:27:00
日志内容：转自：http://huidot.spaces.live.com/blog/cns!fb6cf34a083f7d5!184.entry
在Windows上安装配置Apache2.2.3及实现多站点

1、下载 Apache for Windows
关于Apache最新版本的有关信息可以在http://httpd.apache.org/download.cgi上找到。你应该下载带有.msi扩展名的Apache for Windows版本。 这是一个单一的Microsoft Installer文件，包含了Apache ，可以立即安装并运行。
2、安装 Apache for Windows
运行已下载的上述Apache .msi文件。安装程序会要求提供下列信息：
Network Domain 你的服务器已经或者将要注册的DNS域名。比如你的服务器的全称DNS域名是server.mydomain.net ，你应当在这里输入：mydomain.net ，本地的话设置为localhost
Server Name 你的服务器的全称DNS域名，如上情况你应当在这里输入：server.mydomain.net，本地的话设置为localhost
Administrator's Email Address 服务器管理员的email地址。这个地址将会在默认的出错页面上显示给客户端。
For whom to install Apache 如果你希望Apache在80端口监听，并被安装为服务(即使无人登陆，Apache仍将运行)，就选择"for All Users, on Port 80, as a Service - Recommended"；如果你希望将Apache安装为个人试验使用，或者已经有一个运行于80端口的WWW服务器，就选择"only for the Current User, on Port 8080, when started Manually"。
The installation type 选择Typical会安装除开发模块需要使用的源码和库以外的所有内容。选择Custom可以自定义安装哪些项目。完整安装大约需要13MB磁盘空间，这其中并不包含你的网站文件所用空间。
Where to install 安装Apache的文件夹，默认为C:\Program Files\Apache Group文件夹下的Apache2子文件夹。也可以选择其他文件夹，比如：D:\Apache2.2
注意：安装之前，请完全卸载以前版本的Apache，并删除所有的目录与文件，这是因为新安装的配置文件不会覆盖旧的已经存在的配置文件，旧的文件可能导致Apache服务不能启动。
3、配置Apache支持PHP
找到 DirectoryIndex index.html index.html.var 在后面加入 index.htm index.php (默认index.php为首页文件)--------------模块化安装PHP----------------------------------------找到 #LoadModule ssl_module modules/mod_ssl.so 这行，在此行后加入一行LoadModule php5_module d:/php/php/php5apache2.dll其中d:/php/php/php5apache2.dll 为你php目录中php5apache2.dll所在的位置再找到 AddType application/x-gzip .gz .tgz 这行，在此行后加入一行AddType application/x-httpd-php .php(其实:上面两行红色的,你可以直接加在httpd.conf文件的最后面也可以的)

注意：PHP提供的Php5Apache2.dll居然在Apache2.2.x不适用

解决方法: 
下载 这个文件并解压.共有三个文件.vcredist_x86.exephp5apache2.dllhttpd.exe.manifest
好,开始 
1.将 php5apache2.dll 覆盖掉你原来PHP目录下的 php5apache2.dll 文件. 
2.将 httpd.exe.manifest 文件复制到你的apache安装目录下的bin文件夹下. 
3.双击运行vcredist_x86.exe安装.(如果您的系统里已安装了 .NET framework 2.就可以省掉这一步) 
完成!去重启你的apache2.2试试吧.
4、配置Apache及实现多站点
安装好Apache以后，可以在浏览器中输入http://localhost 测试，如果配置正常会显示It's Working.
更改第一个站点的根目录：在文件Apache2.2\conf\httpd.conf中查找 DocumentRoot属性，将后面的路径改为你的主站点的路径，如：D:\www\web1
为第二个Apache服务建立配置文件：复制并重命名httpd.conf为web2.conf（举个例子而已，也可以叫my.conf等等），修改web2.conf中的Listen 8080（原来为80）、ServerName localhost:8080（原来为80）、DocumentRoot "D:/www/web2" （原来为web1）
添加第二个Apache服务：Apache安装目录的bin子目录下，使用如下命令将Apache安装为Windows NT服务：httpd.exe -k install -n "服务名" -f "d:\apache2.2\conf\web2.conf"
其他的命令：
将Apache安装为Windows NT服务：
apache -k install
指定服务的名称，当你在同一机器上安装多个Apache服务时，你必须为它们指定不同的名字。
apache -k install -n "服务名" 
为不同名称的服务使用不同的配置文件，则安装时需要指定配置文件：
apache -k install -n "服务名" -f "c:\files\my.conf" 
如果你使用的是第一个命令，也就是除 -k install 外没有其它命令行参数，那么被安装的服务名称将是：Apache2 ，配置文件将使用conf\httpd.conf 。
移除一个Apache服务：
apache -k uninstall 
使用下述命令移除特定名称的Apache服务：
apache -k uninstall -n "服务名" 
通常，启动、重启、关闭Apache服务的方法是使用Apache Service Monitor工具，另外也可以使用控制台命令：NET START Apache2 和 NET STOP Apache2 或者通过Windows服务控制面板。在启动Apache服务之前，你应当使用下面的命令检查一下配置文件的正确性：
apache -n "服务名" -t 
你可以通过命令行开关来控制Apache服务。要启动一个已经安装的Apache服务，可以使用：
apache -k start 
要停止一个已经安装的Apache服务，可以使用：
apache -k stop 
或
apache -k shutdown 
要重启一个运行中的Apache服务，强制它重新读取配置文件，可以使用：
apache -k restart

5、学习中遇到的一些问题
Fatal error: Class 'mysqli' not found 
Had to add this to the php.ini;



CODE 

extension=php_mysqli.dll
And the driver, libmysqli.dll, works fine from the apache bin.

日志标题：magic_quotes 魔术引号
发表时间：2007-5-21 9:32:00
日志内容：用fckeditor生成文件时，遇到一个问题：
写入到文件里的双引号及单引号都会自动加上一个反斜线：\"
如果是写入到数据库也就算了，不会有影响，因为读取的时候，会自动转义。但是生成文件就来带来了麻烦，比如：
&lt;script&gt;
var aa = \"A string!\";
&lt;/script&gt;
这个写到文件里后跟本就不能运行。
其实这个根本就不是FCKEditor的问题，查了一下PHP中有这个函数：
get_magic_quotes_runtime(). 默认为 0，即自动加上一个反斜线，
可以用函数：
set_magic_quotes_runtime ( int new_setting)
参数为：0或1，为1时就可以不自动加入反斜线了。
OK!
下面是PHP Manul里的解释：
当打开时，所有的 '（单引号），"（双引号），\（反斜线）和 NULL 字符都会被自动加上一个反斜线进行转义。这和 addslashes() 作用完全相同。

日志标题：差点抓狂！关于multiple Select
发表时间：2007-5-21 16:54:00
日志内容：做两个多选SELECT之间的增删，然后把其中的一个所有的值全传到后台，效果很简单，所以，不多说。贴代码：

function moveOption(pOrg,pDes){var node = parent.artCatTree.selectNode;if(node == null || getNodeAtt(node,"leafFlag") == 0){alert("请选择最终分类");return ;}var ops = $(pOrg).options;var ops_ = $(pDes).options;var op;for(var i=ops.length - 1;i&gt;=0;i--){op = ops[i];if(op.selected)try{ops_.add(op);//For Firefox}catch(e){//For IE!ops_.add(new Option(op.text,op.value));ops.remove(i);}}}
FireFox下，可以直接把另一个multiple Select的option add到自已的options里，但是IE下不行，提示参数不正确。按上面的写，保证没有问题。
我的目的是把其中一个multiple Select的值全传到后台进行处理。在FireFox下，执行moveOption后，提交，有值。在IE下，却没值！找了好长时间，在IE下就是没值！差点吐血！
后来猛然想到：在IE下执行moveOption后，要取值的那个multiple Select并没有选中它里面的option！而在Firefox下，add(op)后，op默认被选中！
吐血！不知道你看懂了没有！
IE下，在submit之前：

function selectAll(pObj){var ops = $(pObj).options;for(var i=0;i&lt;ops.length;i++){ops[i].selected = true;}}

日志标题：Apache2.0.59支持shtml
发表时间：2007-5-22 14:12:00
日志内容：百度了一下，按照大部分转贴中说的配置，根本就不行。
在CSDN上看到这个：
&lt;Directory /&gt; Options Indexes FollowSymLinks Includes AddType text/html .shtml AddHandler server-parsed .shtml AllowOverride None&lt;/Directory&gt;
OK!虽然不懂是什么意思，通过就行了！

日志标题：我也发一个所谓的滑动门：JMenuTab
发表时间：2007-5-23 15:58:00
日志内容：滑动门：我不理解为什么这样叫。我就命名为：JMenuTab吧，因为写它是为了当我的菜单。
简单使用说明：http://xling.blueidea.com/archives/2007/5513.shtml
=============分===隔===线================
2007/09/03 见：http://xling.blueidea.com/archives/2007/5476.shtml
=============分===隔===线================
2007/08/21修正在FF,Opera,Safari下的表现不一致的若干问题。
UploadFiles/2007-8/827474918.rar
=============分===隔===线================
更新：请找到下面的代码，把红色标注的部分加入，由于更只是少量更改，所以就不另打包了：
this.setFixHeight = function(pHeight,pAutoExpend,pXScroll,pYScroll){oPageArea_.style.height = pHeight + "px";oPageArea_.style.width = "100%";if(pAutoExpend){oPageArea_.style.height= "100%";//For FireFoxoPageArea_.style.overflow = "visible";}else{//oPageArea_.style.overflow = pXScroll ? "auto" : "hidden";oPageArea_.style.overflowY = pYScroll ? "auto" : "hidden";oPageArea_.style.overflowX = pXScroll ? "auto" : "hidden";}}
＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
最新更新：2007/05/28加入功能：设定最小高度
源码：UploadFiles/2007-5/528227630.rarsetFixHeight = function(pHeight,pAutoExpend,pXScroll,pYScroll)第一个参数为数值。其余参数为boolean值，可不写(解析为false)。如果pAutoExpend值为true，就是自动扩展，即内容高度大于设定的高度，自动扩展高度。pXScroll:如果超出，是否显示横向滚动条。pYScroll:垂直滚动条，同上。另：有同志说不知道如何在标签上加链接，我在发一段示例：
var menuTab = new JMenuTab(null,null,"menuBar");   menuTab.onTabChange = function(pOld,pNew){      document.getElementById("info").innerHTML =(pOld ? (pOld.index + ":" + pOld.label + " -&gt; ") : "") + pNew.index + ":" + pNew.label;   }   menuTab.create();   menuTab.setSkin("JMenuTabStand");   //menuTab.setFixHeight(10,true);//注意这里，不要写！因为高度的问题，会在FireFox下变形！   //menuTab.setFixHeight(10,false);可以这样写！   menuTab.addTab("首页","page1");   menuTab.addTab("组织架构","menuBar2");   menuTab.addTab("员工信息","page2");   menuTab.addTab("业务知识","page3");   menuTab.addTab("ISO系统");   menuTab.addTab("办公环境");   menuTab.addTab("公司新闻");   menuTab.addTab("公共政策");   menuTab.addTab("&lt;a href='http://xling.blueidea.com' target='_blank'&gt;链接总部&lt;/a&gt;");   menuTab.addTab("&lt;a href='http://www.baidu.com' target='_blank'&gt;Help&lt;/a&gt;","pageHelp");   menuTab.setActiveTab(1);
　　另，你可以把iframe的id值当作addTab的第二个参数，或把iframe放到div里，把div的id当第二个参数。
=============分===隔===线================
2007/05/25更新：
更新功能：１，设定皮肤。２，添加一个自定事件。

2007/05/25把24日加入的自定义事件：onTabChange完善了一下，加入两个参数。onTabChange(oldTab,self.activedTab);oldTab:上次点击的那个tab, newTab:本次点击的tabtab有三个属性：index, label,tabPage:那addTab方法中的第二个参数。
加入方法:setSkin(pSkinName)pSkinName是CSS文件中的。示例：#JMenuTabBlue {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;padding: 2px; }#JMenuTabBlue .oInnerline {background-color: #FFFFFF;}...要想使用这个skin,要先引用这个css文件，然后：setSkin("JMenuTabBlue");具体见示例文件：Demo2.htm
源码：UploadFiles/2007-5/525872610.rar
效果：

=============分===隔===线================




JMenuTab 帮助：

Author:xling　Blog:http://xling.blueidea.com 　2007/05/23 

写这个程序只是为了解决燃眉之急（汉，虽然是急，我还是写了一天）！

程序中用到图片是修改了网上现有图片，所以，外表和某些网站上的一样，请不要见怪。因为除了图片，全是原创(不曾参考任何类似程序)！

IE6,Firefox下测试通过。

调用方法(注意顺序)：

var menuTab = new JMenuTab(null,null,"menuBar");menuTab.create();menuTab.addTab("首页");menuTab.addTab("组织架构","page1");menuTab.addTab("员工信息","page2");menuTab.addTab("业务知识","page3"); menuTab.addTab("Help","pageHelp");menuTab.setActiveTab(2);
效果展示：
源码下载：
UploadFiles/2007-5/523277480.rar

日志标题：php5以上时间不对解决
发表时间：2007-5-25 11:10:00
日志内容：
在 PHP4 中使用 date 等函数的时候，并不需要考虑时区问题，会自动获得本地时间，但 PHP5 中则不行，如果你们有设置好时区，同样的代码在不同的系统可能会产生莫名其妙的问题（比如 Windows 和 Unix 之间）。想要正常使用时间函数，需要在 php.ini 中设置统一设置
1.添加 date.timezone = PRC 其中，PRC 代表中华人民共和国

2.或者调用php api date_default_timezone_set(‘Asia/Shanghai’);



List of timezones in the group Asia

TableI.5.Asia











Asia/Aden
Asia/Almaty
Asia/Amman
Asia/Anadyr
Asia/Aqtau

Asia/Aqtobe
Asia/Ashgabat
Asia/Ashkhabad
Asia/Baghdad
Asia/Bahrain

Asia/Baku
Asia/Bangkok
Asia/Beirut
Asia/Bishkek
Asia/Brunei

Asia/Calcutta
Asia/Choibalsan
Asia/Chongqing
Asia/Chungking
Asia/Colombo

Asia/Dacca
Asia/Damascus
Asia/Dhaka
Asia/Dili
Asia/Dubai

Asia/Dushanbe
Asia/Gaza
Asia/Harbin
Asia/Hong_Kong
Asia/Hovd

Asia/Irkutsk
Asia/Istanbul
Asia/Jakarta
Asia/Jayapura
Asia/Jerusalem

Asia/Kabul
Asia/Kamchatka
Asia/Karachi
Asia/Kashgar
Asia/Katmandu

Asia/Krasnoyarsk
Asia/Kuala_Lumpur
Asia/Kuching
Asia/Kuwait
Asia/Macao

Asia/Macau
Asia/Magadan
Asia/Makassar
Asia/Manila
Asia/Muscat

Asia/Nicosia
Asia/Novosibirsk
Asia/Omsk
Asia/Oral
Asia/Phnom_Penh

Asia/Pontianak
Asia/Pyongyang
Asia/Qatar
Asia/Qyzylorda
Asia/Rangoon

Asia/Riyadh
Asia/Saigon
Asia/Sakhalin
Asia/Samarkand
Asia/Seoul

Asia/Shanghai
Asia/Singapore
Asia/Taipei
Asia/Tashkent
Asia/Tbilisi

Asia/Tehran
Asia/Tel_Aviv
Asia/Thimbu
Asia/Thimphu
Asia/Tokyo

Asia/Ujung_Pandang
Asia/Ulaanbaatar
Asia/Ulan_Bator
Asia/Urumqi
Asia/Vientiane

Asia/Vladivostok
Asia/Yakutsk
Asia/Yekaterinburg
Asia/Yerevan

http://cn.php.net/manual/en/timezones.asia.php

日志标题：Cannot send session cache limiter - headers already sent
发表时间：2007-5-30 9:00:00
日志内容：Warning: session_start() [function.session-start]: Cannot send session cache limiter - headers already sent (output started at ×××.php:1) in ×××on line 2
这个问题很常见，多数是因为在session_start之前有输出了！对于老鸟来说，这个错误基本上不会发生，但是如果你是用DW写代码的，连高手也有可能发生这个错误！
如上面的提示：在第×××文件的第１行，×××文件的第２行，随你看，这两处是不会有任何输出语句的，但是它还是照常提示，现在看我抓的图：

看红色框框住的地方，对，问题就出在这里！
查DW的帮助文件：
包括 Unicode 签名 (BOM) 可在文档中包括字节顺序标记 (BOM)。BOM 是位于文本文件开头的 2 到 4 个字节，可将文件标识为 Unicode，如果是这样，还标识后面字节的字节顺序。由于 UTF-8 没有字节顺序，因此可以选择添加 UTF-8 BOM。对于 UTF-16 和 UTF-32，这是必需的。
看见没有！如果选了这个选项，就会在页面的最前面输出2到4个字节！
OK!
很早以前就想写了，但是拖到了今天。。。



日志标题：JavaScript 静态方法
发表时间：2007-6-5 10:08:00
日志内容：有人说javascript 中，其实不存在类，所谓的封装不能用class来归类。我不去扣字眼，没有意思！
假设javascript中是存在类的吧，类中有私有 private、公有public 之分（javascript中没有办法做protect等），也有静态static和普通方法，属性之分。
我以前没有用javascript写过所谓的static类的方法，搜了一下，做个例子出来：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function JObj(){this.author = "xling";this.aa = function(pParm){alert(pParm);}var bb = function(pParm){alert(pParm);}}
JObj.cc = function(pParm){alert(pParm);}
JObj.prototype.dd = function(pParm){alert(pParm);}
document.write("&lt;br /&gt;===========以下是Class中的，即所谓的静态，不能由实例调用，只能用类名调用================&lt;br /&gt;");
for(var o in JObj){document.write(o," = ",eval("JObj." + o),"&lt;br /&gt;");}
document.write("&lt;br /&gt;===========以下是实例中的，只能用实例来调用================&lt;br /&gt;");
var obj = new JObj();for(var o in obj)document.write(o," = ",eval("obj." + o),"&lt;br /&gt;");&lt;/script&gt;

日志标题：Oracle&nbsp;Java存储过程：检查文件是否存在
发表时间：2007-6-15 12:01:00
日志内容：离开原单位以经两月有余了。
走之后，那边的头又招了一个程序员，又从MIS内部提拔了一个做程序员。
原来ERP里有一个料号图片检查报表，出了大问题，不能DESC排序！而且放到那个垃圾报表工具里执行还选不出全部的记录！不知道是怎么搞的，那个程序写出来差不多一年了，一直都没有出过问题。其核心如下，很简单：

CREATE OR REPLACE FUNCTION JD_checkFile(fileName VARCHAR2) RETURN INTEGERIS fil BFILE:=NULL; fil_exists INTEGER;
BEGIN  fil:=BFILENAME('JD_CHECKFILE',fileName); fil_exists:=DBMS_LOB.FILEEXISTS(fil); RETURN FIL_EXISTS;END;
JD_CHECKFILE是一个DIRECTORY,具体见：
http://xling.blueidea.com/archives/2006/1219.shtml
有一次，那个××上司把文件目录给更改了，这个报表一直不能得到正确结果，还害得我们DEBUG了好多次！
这次不是那个问题，因为它有在TOAD里运行是正确的！
原来同事问我除了DBMS_LOB.FILEEXISTS之外，有没有其它方法了，我说没有，其实是错的，因为：有！用JAVA！
现在写个Java 存储过程，来达到同样的效果：

CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED "FileExists" ASimport java.io.File;public class FileExists { public FileExists() {
 }  public static boolean exists(String path){ File file = new File(path); return file.exists(); }}

CREATE OR REPLACE FUNCTION JAVA_FILEEXISTS(I_PATH IN VARCHAR2) RETURN BOOLEAN ASLANGUAGE JAVANAME 'FileExists.exists(java.lang.String) return java.lang.Boolean';
然后用SYSTEM用户给当前用户授权：

grant javauserpriv to xling
好了，用如下语句检查一下：

SELECT JAVA_FILEEXISTS('E:\\AA.TXT') FROM DUAL;
如果文件存在，就返回1,反之返回0，测试成功！
测试环境：WINXP + ORACLE 10G
==========================分隔线==============================
刚才花了我N大一会工夫去帮那哥们儿调试。上面的代码在10G里运行无误，但是在8.17里运行却返回 ORA-00932:类型不一致 的错误！
看来8.17里还不能把java.lang.Boolean映射为BOOLEAN数据类型。
做了如下修改：

CREATE OR REPLACE AND RESOLVE JAVA SOURCE NAMED "FileExists" ASimport java.io.File;public class FileExists { public FileExists() {
 }  public static int exists(String path){ File file = new File(path); if(file.exists()) return 1; else return 0; }}
CREATE OR REPLACE FUNCTION JAVA_FILEEXISTS(I_PATH IN VARCHAR2) RETURN NUMBER ASLANGUAGE JAVANAME 'FileExists.exists(java.lang.String) return int';
本身并不麻烦，但是由于是通过QQ的远程控制，在他的电脑上在用运程桌面连接服务器！靠，那个麻烦。。。字都打不上，只好把屏幕小键盘打开，一个一个的点上去的！
汗。。。

日志标题：PHP 用正则替换全部
发表时间：2007-6-20 13:22:00
日志内容：做公司网站，开始计划生成静态文件，但是考虑来考虑去，考虑生成静态文件之后，修改是件麻烦。结果还是采用了伪静态。
在做JS调用这块时，要对生成的JS代码里的URL进行批量替换，于是用了类似这样的写法：
preg_replace("/(.*)(artList.php\?)(PAGE=){1}([0-9]+)(&amp;catId=)([0-9]+)/U","$1fileList/$4-$6.html",$url);
以开始做测试的时候，由于数据少，不超过10条，就是说：PAGE,catId都是小于10的，没有什么问题，但是随着数据的加多，发现居然生成了如下的数据：
http://localhost/comp/fileList/2.html1原本是要得到：
http://localhost/comp/fileList/21.html
的。查了N多参考资料，试了所有资料上提供的修饰符（汗...就会一个一个试），只有U这个修饰符可以进行全局替换，但是用了U就会出现上面的错误数据！
查看：http://www.php.net/manual/zh/reference.pcre.pattern.modifiers.php中对U的叙述，更是一头雾水。
还好：http://www.phpnet.cn/bbs/viewthread.php?tid=340中对U做了举例，于是对着写了一下：

&lt;?php$str = "http://localhost/comp/artList.php?catId=21 http://localhost/comp/artList.php?catId=21";$pattern = "/(.*)(artList.php\?)(catId=)([0-9]+?)/U";$replacement = "$1fileList/$4.htm";
if(preg_match($pattern,$str,$match)){echo preg_replace($pattern,$replacement,$str);}elseecho "no";?&gt;
OK,通过！结果正确！
http://localhost/comp/fileList/21.htm http://localhost/comp/fileList/21.htm

日志标题：深圳*求职 招人的进
发表时间：2007-6-21 15:33:00
日志内容：公司网站管它好坏，也算做完了！现在经理要我辅助另一个程序员做PB!天啦！那个东东我只学过一个学期，而且还是没有看过书，听过课的学法！所以不来兴趣，因为说白了：我不会，让我做，不是让我从头学吗？如果Oracle,Java我到很乐意，但是这个玩意...不感兴趣。虽然在这家刚做还不到两月，但是仍想重找工作：目标：深圳。本人没啥特长，就会用PHP/ASP写点东东，JAVA学过一点，但是没做过项目（说白了是还没学会），会一点Flash,会一点Photoshop（汗...不要把我当作美工，没那细包）。到是用Javascript写过一些东东，也有一些粉丝。05年毕业，做过ERP维护，做过Oracle(不是DBA，是程序员，用的工具大部分人都没有听说过Developer Suit 2000里的FormsBuilder和ReportsBuilder)。如果哪家对本人有兴趣，请用如下方式联系：1fairy1#163.com (#换成@)。附本人Javascript作品一堆（其它语言的就免了）：1,JMenuTab JS实现的所谓的滑动门http://xling.blueidea.com/archives/2007/4928.shtmlhttp://bbs.blueidea.com/thread-2748975-1-1.html2,JTree javascript树,用XML做数据源http://xling.blueidea.com/archives/2006/3838.shtmlhttp://bbs.blueidea.com/viewthread.php?tid=2362559&amp;page=3,JGrid 表格辅助http://xling.blueidea.com/archives/2007/4405.shtmlhttp://bbs.blueidea.com/thread-2726246-1-1.html4,JAccordion 类似QQ菜单http://xling.blueidea.com/archives/2007/4417.shtmlhttp://bbs.blueidea.com/thread-2132676-1-1.html

日志标题：PHP 分页
发表时间：2007-6-21 16:22:00
日志内容：网站做完了，是时候把里面用的到的好东东提取出来啦！
下面是PHP的分页代码，本人原创：
UploadFiles/2007-6/621713816.rar
ASP版（原创）：
http://xling.blueidea.com/archives/2006/2192.shtml
由于数据少，所以就设置了一页10条，２个标签。下面是效果：



日志标题：懒的结果：表单项目(Form)辅助
发表时间：2007-6-21 16:56:00
日志内容：做网站后台，对界面要求不高，但是也得保证条条框框对整齐，给每一个&lt;input&gt;赋样式，太麻烦;用后台控制SELECT,Radio到底先哪个，太麻烦，懒人有懒招，我就用下面的这个包里的东东控制所有条目样式保持一至，省了很多麻烦。
但是不推荐使用，可以参考。因为懒的原因，我只是用到写到哪，请见谅。
UploadFiles/2007-6/621205479.rar

日志标题：浏览器检测
发表时间：2007-6-26 9:34:00
日志内容：长期以来，我写Javascript判断浏览器类型都用的是一种混乱的方法，比如：用document.all判断是不是IE，用：
document.body.onclick = function(evt){evt = evt || window.event;var target = evt.target || evt.srcElement;alert(target.tagName);}
这样的方法来做一些简单的兼容。
但是这样写有弊端。一直想把自己写的东东用类似包(package)的写法，整合到一起，但是却抽不出时间去写它。
前些天在网上看到我的初爱：Delphi，出了一个叫Delphi for PHP的软件，试用了一下，感觉很好，特别是那些控件可以和Delphi做软件一样，随便拖拉，简直爽死了。
看了一下它里面的：dynapi.js，发现下面一段：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;aaaaa&lt;/div&gt;&lt;input type="text" value="aaa" /&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="JavaScript" type="text/javascript"&gt;&lt;!--
function _UserAgent() { var b = navigator.appName; var v = this.version = navigator.appVersion; var ua = navigator.userAgent.toLowerCase(); this.v = parseInt(v); this.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera this.opera = ua.indexOf("opera")&gt;-1; // before ns or ie this.ns = !this.opera &amp;&amp; !this.safari &amp;&amp; (b=="Netscape"); this.ie = !this.opera &amp;&amp; (b=="Microsoft Internet Explorer"); this.gecko = ua.indexOf('gecko')&gt;-1; // check for gecko engine if (this.ns) { this.ns4 = (this.v==4); this.ns6 = (this.v&gt;=5); this.b = "Netscape"; }else if (this.ie) { this.ie4 = this.ie5 = this.ie55 = this.ie6 = false; if (v.indexOf('MSIE 4')&gt;0) {this.ie4 = true; this.v = 4;} else if (v.indexOf('MSIE 5')&gt;0) {this.ie5 = true; this.v = 5;} else if (v.indexOf('MSIE 5.5')&gt;0) {this.ie55 = true; this.v = 5.5;} else if (v.indexOf('MSIE 6')&gt;0) {this.ie6 = true; this.v = 6;} this.b = "MSIE"; }else if (this.opera) { this.v=parseInt(ua.substr(ua.indexOf("opera")+6,1)); // set opera version this.opera6=(this.v&gt;=6); this.opera7=(this.v&gt;=7); this.b = "Opera"; }else if (this.safari) { this.ns6 = (this.v&gt;=5); // ns6 compatible correct? this.b = "Safari"; } this.dom = (document.createElement &amp;&amp; document.appendChild &amp;&amp; document.getElementsByTagName)? true : false; this.def = (this.ie||this.dom); this.win32 = ua.indexOf("win")&gt;-1; this.mac = ua.indexOf("mac")&gt;-1; this.other = (!this.win32 &amp;&amp; !this.mac); this.supported = (this.def||this.ns4||this.ns6||this.opera)? true:false; this.broadband=false; this._bws=new Date; // bandwidth timer start};
var ua = new _UserAgent();for(o in ua)document.write(o," = ",eval("ua." + o),"&lt;br /&gt;");document.body.onclick = function(evt){evt = evt || window.event;var target = evt.target || evt.srcElement;alert(target.tagName);}
//--&gt;&lt;/script&gt;
是用来检测浏览器类型的，写的很全面！在FireFox下运行，gecko 和 ns都为 true，可见判断fireFox应该是用gecko吧！
下面是检测以安装的FlashPlayer的版本的代码，摘自Google的一个产品：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;input type="button" name="button" id="button" value="Button" onclick="aa()" /&gt;&lt;/body&gt;&lt;/html&gt;&lt;!-- 检测flash版本，6.0以下需要用户自行安装--&gt;&lt;script language="javascript" type="text/javascript"&gt;&lt;!--
if(document.all){var f = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.9");//版本9alert(f.FlashVersion().toString(16));}
function getFlash() {var f="-1";var n=navigator;if (n.plugins &amp;&amp; n.plugins.length) {for (var ii=0;ii&lt;n.plugins.length;ii++) {if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {f=n.plugins[ii].description.split('Shockwave Flash ')[1];break;}}} else if (window.ActiveXObject) {for (var ii=10;ii&gt;=2;ii--) {try {var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if (fl) { f=ii + '.0'; break; }}catch(e) {}}}if(f == "-1") return f;else return f.substring(0,f.indexOf(".")+2);}
alert(getFlash());
&lt;/script&gt;

日志标题：关于AJAX只能运行一次，数据被缓存的猜解
发表时间：2007-6-28 15:04:00
日志内容：先来看看只能执行一次（猜测是由于这个原因）的情况：下面是代码，请修改附件中JAjax/JAjax.js中相应的部分，查看效果。
this.createXMLHttp = function(){var xmlHttp;if (window.ActiveXObject){xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");}else{xmlHttp=new XMLHttpRequest();}return xmlHttp;}this.xmlHttp = this.createXMLHttp();//在这里被初始化了this.loadXMLFile = function(pUrl,pCallBack){self.requiredURL = pUrl;//self.xmlHttp = self.createXMLHttp();//原本在这里被赋值self.xmlHttp.onreadystatechange = function(){//在IE下，这段代码只在第一次执行的时候，才被触发，这就是只执行一次的原因if(self.xmlHttp.readyState == 4 &amp;&amp; self.xmlHttp.status == 200){eval(pCallBack);}else if(self.xmlHttp.readyState == 4){alert("XML文件：" + pUrl + "　加载失败！");}else{//}}self.xmlHttp.open("GET",pUrl,!document.all);self.xmlHttp.send(null);}
如上面代码所示：方法loadXMLFile里的seelf.xmlHttp.onreadystatechange在IE下只被执行了一次，而在FireFox下每次能执行，原因不得而知，因为没有深入分析。而回调方法callBack又在这个event里写着，所以，在IE下，就出现了只执行一次的情况。
假使在loadXMLFile时，才生成xmlHttp对象呢？当然在IE下每次都能执行了！如下面这段代码：
this.loadXMLFile = function(pUrl,pCallBack){self.requiredURL = pUrl;self.xmlHttp = self.createXMLHttp();self.xmlHttp.onreadystatechange = function(){if(self.xmlHttp.readyState == 4 &amp;&amp; self.xmlHttp.status == 200){eval(pCallBack);}else if(self.xmlHttp.readyState == 4){alert("XML文件：" + pUrl + "　加载失败！");}else{//}}self.xmlHttp.open("GET",pUrl,!document.all);self.xmlHttp.send(null);}
关于XML数据被缓存的解决办法：一般Ajax程序是要求实时更新XML内容的（如果不是，你就没有XML文件被缓存的烦恼了！）。如果是要求实时更新的，你完全可以通过后台来控制XML文件是否被浏览器缓存，当然在请求XML数据的时候，在URL后面加个随机数也可以达到相同的效果。JS加随机数的方法：ajax.loadXMLFile("aa.xml?tmp=" + (new Date().getTime().toString(36)),"callBack()")
下面是PHP的示例，生成的XML数据不被缓存：
&lt;?php$vAction = $_REQUEST["action"];if($vAction == "XML"){header("Content-type: text/xml");header("Cache-Control: no-store, no-cache, must-revalidate");$dom = new DOMDocument("1.0","UTF-8");$root = $dom-&gt;createElement("List");$dom-&gt;appendChild($root);$root-&gt;setAttribute("updDate",date("Ymd H:i:s"));echo $dom-&gt;saveXML();exit();}?&gt;
附件中的代码不完善，我只是用到哪里写到哪，有哪里不好的地方，请大家不要大惊小怪。
附件：UploadFiles/2007-6/628449801.rar

日志标题：js动画，未完成
发表时间：2007-6-28 18:08:00
日志内容：下决心，要写几个够绚的效果，这是第一步：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--#apDiv1 {position:absolute;left:213px;top:135px;width:134px;height:90px;z-index:1;background-color: #FF00FF;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt; &lt;div id="apDiv1"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function $(pId){return document.getElementById(pId);}
function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
function JAniObj(){this.obj = null;this.interval = null;this.orgPos = null;this.targetPos = null;this.targetWidth = null;this.targetHeight = null;this.xStep = 10;this.yStep = 10;}
function JAni(pDiv,x,y,w,h,xStep,yStep){var self = this;var aniObjs = {};this.popup = function(pDiv,pW,pH,pXStep,pYStep){var aniObj = new JAniObj();aniObjs[pDiv] = aniObj;with(aniObj){obj = $(pDiv);orgPos = JPos.getAbsPos(obj);targetWidth = pW;targetHeight = pH;xStep = pXStep;yStep = pYStep;with(obj.style){overflow = "hidden";position = "absolute";width = 0;height = 0;top = orgPos.x + "px";left = orgPos.y + "px";}//alert(aniObj);interval = setInterval("popup_('" + pDiv + "')",10);}}popup_ = function(pDivId){pObj = aniObjs[pDivId];var w = parseInt(pObj.obj.style.width);var h = parseInt(pObj.obj.style.height);if(w &gt;= pObj.targetWidth &amp;&amp; h &gt;= pObj.targetHeight){clearInterval(pObj.interval);aniObjs[pObj.obj.id] = null;}else{if(w &lt; pObj.targetWidth) w += pObj.xStep;if(h &lt;pObj.targetHeight)h += pObj.yStep;}pObj.obj.style.width = w + "px";pObj.obj.style.height = h + "px";}}
var ani = new JAni();ani.popup("apDiv1",200,100,8,8);&lt;/script&gt;

日志标题：用代码得到汉字列表
发表时间：2007-6-29 9:47:00
日志内容：看坛子里有兄弟想输出所有汉字，来了三层255的循环，算起来，共要执行：16777216,一千六百多万次，这样弄，不是要把服务器搞死啊！
根据判断是否有汉字的正则表达式[\u4e00-\u9fa5]，可得范围是：19968~40869 共20901个汉字。进制转换，请参考：http://xling.blueidea.com/archives/2006/2566.shtml
这个Blog系统的运行HTML代码在FireFox下可能问题，请保存代码在运行。
如何将这些数字转换为汉字呢？方法很多。先来看这些数字和汉字之间的关系：
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;document.write(String.fromCharCode(19968),String.charCodeAt("一"),"&lt;br /&gt;");document.write(String.fromCharCode(40869),String.charCodeAt(""));&lt;/script&gt;
汗：IE居然不能执行：String.charCodeAt("一");FireFox下无问题。下面是IE的代码：
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;document.write(String.fromCharCode(19968),"一".charCodeAt(),"&lt;br /&gt;");document.write(String.fromCharCode(40869),"".charCodeAt());&lt;/script&gt;
结果是：
一1996840869
即：一的ascii码是：19968,的是40869,你可以用String.fromCharCode(..)来将ascii码转换为汉字，但是两万多个汉字，每次调用这个函数，可能效果不高（木有做具体测试）。
假使用在DW里新建一个西欧编码的网页，你在Design模式下输入一个汉字“一”，在Code模式里你可以看到实际上是：&amp;#19968;
于是我们可以这样（JS）：
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;for(var i= 19968;i&lt;=40869;i++)document.write("&amp;#" + i);&lt;/script&gt;
PHP：
&lt;?phpfor($i= 19968;$i&lt;=40869;$i++)echo "&amp;#".$i.";";?&gt;
有关于从ascii转换为汉字和反转换，请见：http://xling.blueidea.com/archives/2007/4041.shtml

日志标题：JS动画2
发表时间：2007-6-29 12:31:00
日志内容：
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--#apDiv1 {position:absolute;left:46px;top:31px;width:134px;height:90px;z-index:1;background-color: #FF00FF;}#apDiv2 {position:absolute;left:163px;top:70px;width:95px;height:81px;z-index:2;background-color: #00FFFF;}#apDiv3 {position:absolute;left:233px;top:46px;width:141px;height:61px;z-index:3;background-color: #99FF00;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt; &lt;div id="apDiv1"&gt;&lt;/div&gt; &lt;div id="apDiv2"&gt;&lt;/div&gt;&lt;div id="apDiv3"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function $(pId){return document.getElementById(pId);}
function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
function JAniObj(){this.obj = null;this.interval = null;this.orgPos = null;this.targetPos = null;this.orgSize= {w:50,y:50};//初始长宽this.targetSize= {w:100,y:100};//目标长宽this.step= {x:10,y:10};//步长 x:x方向　y:y方向this.alpha= {s:10,e:90,t:10};//透明度，s初始，e结束,t步长}
function JAni(){var self = this;var aniObjs = {};this.popup = function(pDiv,pOrgSize,pTargetSize,pStep,pAlpha){var aniObj = new JAniObj();aniObjs[pDiv] = aniObj;with(aniObj){obj = $(pDiv);orgPos= JPos.getAbsPos(obj);orgSize= pOrgSize;targetSize= pTargetSize;step= pStep;alpha= pAlpha;with(obj.style){overflow = "hidden";position = "absolute";width = pOrgSize.w + "px";height = pOrgSize.h + "px";left = orgPos.x + "px";top = orgPos.y + "px";if(document.all){filter = "Alpha(opacity=" + pAlpha.s + ")";}elseopacity = pAlpha.s / 100;}}aniObj.interval = setInterval("popup_('" + pDiv + "')",10);}popup_ = function(pDivId){pObj = aniObjs[pDivId];var w = parseInt(pObj.obj.style.width);var h = parseInt(pObj.obj.style.height);if(w &gt;= pObj.targetSize.w &amp;&amp; h &gt;= pObj.targetSize.h){clearInterval(pObj.interval);if(document.all)pObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";elsepObj.obj.style.opacity = pObj.alpha.e / 100;delete aniObjs[pObj.obj.id];}else{if(w &lt; pObj.targetSize.w) w += pObj.step.x;if(h &lt;pObj.targetSize.h)h += pObj.step.y;if(document.all){var pattern = /opacity=(\d{1,3})/;var result = pattern.exec(pObj.obj.style.filter);if(result != null){if(result[1] &lt; pObj.alpha.e)pObj.obj.style.filter = "Alpha(opacity=" + (result[1] + pObj.alpha.t) + ")"elsepObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";}}else{if(pObj.obj.style.opacity &lt; pObj.alpha.e / 100){pObj.obj.style.opacity = parseFloat(pObj.obj.style.opacity) + pObj.alpha.t / 100;}elsepObj.obj.style.opacity = pObj.alpha.e / 100;}}pObj.obj.style.width = w + "px";pObj.obj.style.height = h + "px";}}
var ani = new JAni();ani.popup("apDiv1",{w:50,h:50},//初始长宽{w:200,h:500},//目标长宽{x:8,y:8},//步长{s:10,e:80,t:10}//透明度 起始，结束，步长 ); ani.popup("apDiv2",{w:30,h:50},//初始长宽{w:400,h:400},//目标长宽{x:8,y:8},//步长{s:10,e:80,t:2}//透明度 起始，结束，步长 ); ani.popup("apDiv3",{w:10,h:10},//初始长宽{w:200,h:500},//目标长宽{x:8,y:8},//步长{s:10,e:80,t:10}//透明度 起始，结束，步长 );  &lt;/script&gt;

日志标题：PHP实现Socket服务器
发表时间：2007-6-29 16:05:00
日志内容：
下面的代码是我对着帮助一点一点的敲出来的噢！

&lt;?phpob_implicit_flush();set_time_limit(0);
$address = "192.40.7.93";//换成你自己的地址$port = 10000;
if(($socket = socket_create(AF_INET,SOCK_STREAM,SOL_TCP)) == false)echo "错误(socket_create)：".socket_strerror(socket_last_error())."&lt;br /&gt;";if(socket_bind($socket,$address,$port) == false)echo "错误(socket_bind)：".socket_strerror(socket_last_error())."&lt;br /&gt;";if(socket_listen($socket) == false)echo "错误(socket_listen)：".socket_strerror(socket_last_error())."&lt;br /&gt;";/*After the socket socket has been created using socket_create() and bound to a name with socket_bind(), it may be told to listen for incoming connections on socket. */
while(true){if(($msgSocket = socket_accept($socket)) == false){echo "错误(socket_accept)：".socket_strerror(socket_last_error())."&lt;br /&gt;";break;}/*this function will accept incoming connections on that socket. Once a successful connection is made, a new socket resource is returned, which may be used for communication. If there are multiple connections queued on the socket, the first will be used. If there are no pending connections, socket_accept() will block until a connection becomes present. If socket has been made non-blocking using socket_set_blocking() or socket_set_nonblock(), FALSE will be returned.*/$msg = "Welcome!&lt;br /&gt;";//socket_write($msg,$msg,strlen($msg));$command = "";while(true){if(($buf = socket_read($msgSocket,2048,PHP_BINARY_READ)) == false){echo "错误(socket_read)：".socket_strerror(socket_last_error())."&lt;br /&gt;";break 2;}/*The function socket_read() reads from the socket resource socket created by the socket_create() or socket_accept() functions. The maximum number of bytes read is specified by the length parameter. Otherwise you can use \r, \n, or \0 to end reading (depending on the type parameter, see below). *//*if(!$buf = trim($buf))continue; // ????if($buf == "quit")break;if($buf == "shutdown"){socket_close($msgSocket);break 2;}$tallBack = "You say:$buf\n";socket_write($msgSocket,$tallBack,strlen($tallBack));*/if(ord($buf) != 13)$command .= $buf;else{$command1 = "You Say:$command\r\n";socket_write($msgSocket,$command1,strlen($command1));echo "User typed:".$command."&lt;br /&gt;";$command = "";}}socket_close($msgSocket);}
socket_close($socket);?&gt;

然后打开CMD，输入：telnet 192.40.7.93 10000，自己体验去吧！

注，要把：php_sockets.dll　打开

日志标题：得到元素的非行内(in-line)样式值
发表时间：2007-7-2 14:32:00
日志内容：无论是IE还是FireFox，用obj.style.***的方法只能得到行内(in-line)的样式值。
那如何得到非行内样式的值呢？IE有个currentStyle，这个是IE专有！查了一下，写个例子出来：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style&gt;.div_1 {width:200px;height:200px;position:absolute;left:20px;top:20px;background-color:#CC9900;}
.div_2 {width:200px;height:200px;position:absolute;left:40px;top:40px;background-color:#00FF00;}&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="div1" class="div_1"&gt;&lt;/div&gt;&lt;div id="div2" class="div_2"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function getCurrentStyleProperty(pObj,pProperty){try{if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}
var div1 = document.getElementById("div1");var div2 = document.getElementById("div2");alert(getCurrentStyleProperty(div1,"right"));alert(div2.style.left);&lt;/script&gt;注意无论IE还是FireFox，第二次alert都是是空的！

日志标题：JS动画3
发表时间：2007-7-2 17:27:00
日志内容：慢慢来，这次实现了向任意方向扩展！

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--#apDiv1 {position:absolute;left:300px;top:100px;width:100px;height:100px;z-index:1;background-color: #FF00FF;}#apDiv2 {position:absolute;left:402px;top:100px;width:100px;height:100px;z-index:2;background-color: #00FFFF;}#apDiv3 {position:absolute;left:402px;top:200px;width:100px;height:100px;z-index:3;background-color: #99FF00;}#apDiv4 {position:absolute;left:300px;top:200px;width:100px;height:100px;z-index:4;background-color: #FFFF00;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt; &lt;div id="apDiv1"&gt;&lt;/div&gt; &lt;div id="apDiv2"&gt;&lt;/div&gt;&lt;div id="apDiv3"&gt;&lt;/div&gt;&lt;div id="apDiv4"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function $(pId){return document.getElementById(pId);}
function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
function JAniObj(){this.obj = null;this.interval = null;this.orgPos = null;this.targetPos = null;this.orgSize= {w:50,y:50};//初始长宽this.targetSize= {w:100,y:100};//目标长宽this.step= {x:10,y:10};//步长 x:x方向　y:y方向this.alpha= {s:10,e:90,t:10};//透明度，s初始，e结束,t步长}
function JAni(){var self = this;var aniObjs = {};var getCurrentStyleProperty = function(pObj,pProperty){try{if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}this.popup = function(pDiv,pOrgSize,pTargetSize,pStep,pAlpha){var aniObj = new JAniObj();aniObjs[pDiv] = aniObj;with(aniObj){obj = $(pDiv);orgPos= JPos.getAbsPos(obj);orgSize= pOrgSize;targetSize= pTargetSize;step= pStep;alpha= pAlpha;with(obj.style){overflow = "hidden";position = "absolute";width = pOrgSize.w + "px";height = pOrgSize.h + "px";left = orgPos.x + "px";top = orgPos.y + "px";if(document.all){filter = "Alpha(opacity=" + pAlpha.s + ")";}elseopacity = pAlpha.s / 100;}}aniObj.interval = setInterval("popup_('" + pDiv + "')",10);}popup_ = function(pDivId){pObj = aniObjs[pDivId];var w = parseInt(pObj.obj.style.width);var h = parseInt(pObj.obj.style.height);if(w &gt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &gt;= Math.abs(pObj.targetSize.h)){clearInterval(pObj.interval);if(document.all)pObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";elsepObj.obj.style.opacity = pObj.alpha.e / 100;delete aniObjs[pObj.obj.id];}else{if(w &lt; Math.abs(pObj.targetSize.w))w += pObj.step.x;if(h &lt; Math.abs(pObj.targetSize.h))h += pObj.step.y;if(document.all){var pattern = /opacity=(\d{1,3})/;var result = pattern.exec(pObj.obj.style.filter);if(result != null){if(result[1] &lt; pObj.alpha.e)pObj.obj.style.filter = "Alpha(opacity=" + (result[1] + pObj.alpha.t) + ")"elsepObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";}}else{if(pObj.obj.style.opacity &lt; pObj.alpha.e / 100){pObj.obj.style.opacity = parseFloat(pObj.obj.style.opacity) + pObj.alpha.t / 100;}elsepObj.obj.style.opacity = pObj.alpha.e / 100;}}pObj.obj.style.width = w + "px";pObj.obj.style.height = h + "px";if(pObj.targetSize.w &lt; 0){var vLeft = parseInt(getCurrentStyleProperty(pObj.obj,"left"));vLeft = isNaN(vLeft) ? 0 : vLeft;pObj.obj.style.left = vLeft - pObj.step.x + "px";}if(pObj.targetSize.h &lt; 0){var vTop = parseInt(getCurrentStyleProperty(pObj.obj,"top"));vTop = isNaN(vTop) ? 0 : vTop;pObj.obj.style.top = vTop - pObj.step.y + "px";}}}
var ani = new JAni();ani.popup("apDiv1",{w:50,h:50},//初始长宽{w:200,h:200},//目标长宽{x:8,y:8},//步长{s:10,e:80,t:10}//透明度 起始，结束，步长 ); ani.popup("apDiv2",{w:50,h:50},//初始长宽{w:-200,h:200},//目标长宽{x:8,y:8},//步长{s:10,e:40,t:2}//透明度 起始，结束，步长 ); ani.popup("apDiv3",{w:50,h:50},//初始长宽{w:-200,h:-200},//目标长宽{x:8,y:8},//步长{s:10,e:40,t:10}//透明度 起始，结束，步长 );
ani.popup("apDiv4",{w:50,h:50},//初始长宽{w:200,h:-200},//目标长宽{x:8,y:8},//步长{s:10,e:50,t:10}//透明度 起始，结束，步长 ); &lt;/script&gt;

日志标题：PHP Socket编程 2
发表时间：2007-7-3 16:24:00
日志内容：上次对着帮助文档写的那个，http://xling.blueidea.com/archives/2007/5166.shtml
如果在次执行，就会提示错误：错误(socket_bind)：通常每个套接字地址(协议/网络地址/端口)只允许使用一次。
帮助文档这下帮不上忙了！查了很多资料，最后定位到这个功能：socket_set_option($socket,SOL_SOCKET,SO_REUSEADDR,1)
它能实现地址重用。这个问题算是过去了。但是上次那个只能自己玩，只能有一个客户端！
又在网上查到：多路复用 这个关键词，感兴趣的可以百度一下。
要想多人玩（汗。。。）就得用到这个 多路复用，PHP里有函数：socket_select 可实现它，不过偶看不懂那些E文到底说的是啥，对着例子先敲了下来，然后又一句一句的Debug的。
下面是代码：

&lt;?phpob_implicit_flush();set_time_limit(0);
$host = "192.40.7.93";$port = 10000;
($socket = socket_create(AF_INET,SOCK_STREAM,SOL_TCP)) or die("错误(socket_create)：".socket_strerror(socket_last_error())."&lt;br /&gt;");//地址重用socket_set_option($socket,SOL_SOCKET,SO_REUSEADDR,1) or die("错误(socket_set_option)：".socket_strerror(socket_last_error())."&lt;br /&gt;");
socket_bind($socket,$host,$port) or die ("错误(socket_set_option)：".socket_strerror(socket_last_error())."&lt;br /&gt;");socket_listen($socket);
$clients = array($socket);
while(true){$read = $clients;//Client 会在下面的if(in_array..片段里做修改！if(socket_select($read,$write = NULL,$except = NULL,0) === false)continue;if(in_array($socket,$read)){($clients[] = $client = socket_accept($socket)) or die("错误(socket_accept)：".socket_strerror(socket_last_error())."&lt;br /&gt;");socket_write($client,"There are ".(count($clients) - 1)." client(s) connect to the server.".chr(13).chr(10));socket_getpeername($client,$vIp,$vPort);echo "New connect: $vIp : $vPort&lt;br /&gt;";unset($read[array_search($socket,$read)]);}foreach($read as $read_){socket_getpeername($read_,$vIp,$vPort);$command = "";while(true){if(($buf = socket_read($read_,1024,PHP_BINARY_READ)) === false){
 //不要写成下面的了，否则会有大问题噢！： //if($buf = socket_read($read_,1024,PHP_BINARY_READ) === false){
echo "错误(socket_read)：".socket_strerror(socket_last_error())."&lt;br /&gt;";unset($clients[array_search($read_,$clients)]);echo "Client:$vIp : $vPort disconnect!";continue 2;}if(ord($buf) != 13){$command .= $buf;}else{break;}}$command = trim($command);if(!empty($command)){foreach($clients as $client_){if($client_ == $socket || $client_ == $read_)continue;socket_write($client_,"$vIp:$vPort Say: ".$command.chr(13).chr(10));socket_getpeername($client_,$vIp,$vPort);echo "$vIp:$vPort Say:&amp;nbsp;&amp;nbsp".$command."&lt;br /&gt;";}}}}
socket_close($socket);?&gt;
效果：

本程序以知的Bug:
一开始我开两个本地CMD窗口，telnet 192.40.7.93 10000, 一个打字，回车在另一个就能看见，在网页上也能显示各个窗口所键入的信息。而后，我远程到另外一台子上，telnet 后，打字，在另外的两个窗口上却显示了两次同样的信息，除IP不同外！随便关掉一个窗口后，在输入的信息就不会在显示了！

日志标题：滚动效果模拟
发表时间：2007-7-4 10:19:00
日志内容：原效果：
http://www.gucci.com/us/us-english/us/fall-winter-07/handbags/
汗，要给这个做做广告了！

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.apDiv1 {position:absolute;left:0px;top:96px;width:350px;height:350px;z-index:1;background-color: #99FFFF;}input{width:50px;height:50px;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="apDiv1" class="apDiv1"&gt; &lt;input type="button" name="button2" id="button2" value=" &amp;lt; " onclick="xScrollByOrg(-350)" /&gt; &lt;input type="button" name="button" id="button" value=" &amp;gt; " onclick="xScrollByOrg(350)" /&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function getCurrentStyleProperty(pObj,pProperty){try{ if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}
function $(pId){return document.getElementById(pId);}
var divNum = 20;var sourceDiv = $("apDiv1");for(var i=1;i&lt;divNum;i++){var divN = sourceDiv.cloneNode(true);document.body.appendChild(divN);divN.id = "apDiv" + (i + 1);divN.style.left = (parseInt(getCurrentStyleProperty(sourceDiv,"left")) + parseInt(getCurrentStyleProperty(sourceDiv,"width")) * i) + "px";divN.style.backgroundColor = "#" + (0x99FFFF + i * 20).toString(16);}
function getScrollPos(){if(document.defaultView)return {x:document.defaultView.scrollX,y:document.defaultView.scrollY};else if(document.documentElement)return {x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop};elsereturn {x:document.body.scrollLeft,y:document.body.scrollTop}}
var x = 0;var xStep = 10;var interval = null;function xScrollByOrg(pWidth){var orgPos = getScrollPos();if(Math.abs(x) &gt;= Math.abs(pWidth)){clearInterval(interval);x = 0;interval = null;}else{x += (pWidth &gt; 0 ? xStep : - xStep);window.scrollBy(pWidth &gt; 0 ? xStep : -xStep,orgPos.y);if(interval == null)interval = setInterval("xScrollByOrg(" + pWidth + ")",10);}}&lt;/script&gt;

日志标题：JS动画4
发表时间：2007-7-4 17:49:00
日志内容：实现了收缩，但是我现在有些头晕了，被这些代码搞的。
加入了自定义事件：onComplate,有关于如何自定义事件，我想另开一篇讲一讲，记得去年的时候，有某某大侠，写的那个自定义事件的实现，我实在不敢苟同！为了和他辩驳，我们还大吵了一架！

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--#apDiv1 {position:absolute;left:300px;top:100px;width:100px;height:100px;z-index:1;background-color: #FF00FF;}#apDiv2 {position:absolute;left:402px;top:100px;width:100px;height:100px;z-index:2;background-color: #00FFFF;}#apDiv3 {position:absolute;left:402px;top:200px;width:100px;height:100px;z-index:3;background-color: #99FF00;}#apDiv4 {position:absolute;left:300px;top:200px;width:100px;height:100px;z-index:4;background-color: #FFFF00;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt; &lt;div id="apDiv1"&gt;&lt;/div&gt; &lt;div id="apDiv2"&gt;&lt;/div&gt;&lt;div id="apDiv3"&gt;&lt;/div&gt;&lt;div id="apDiv4"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function $(pId){return document.getElementById(pId);}
function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
function JAniObj(){this.obj = null;this.interval = null;this.orgPos = null;this.targetPos = null;this.orgSize= {w:50,y:50};//初始长宽this.targetSize= {w:100,y:100};//目标长宽this.step= {x:10,y:10};//步长 x:x方向　y:y方向this.alpha= {s:10,e:90,t:10};//透明度，s初始，e结束,t步长this.events= {onComplate:new Function()}this.aniType = null;}
function JAni(){var self = this;var aniObjs = {};this.onComplate = new Function();//-----------------------------------------------------------------------------------------------var getCurrentStyleProperty = function(pObj,pProperty){try{if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}
//-----------------------------------------------------------------------------------------------
var init = function(pDiv,pOrgSize,pTargetSize,pStep,pAlpha,pEvents,pAniType){var aniObj = new JAniObj();aniObjs[pDiv] = aniObj;with(aniObj){obj = $(pDiv);orgPos= JPos.getAbsPos(obj);orgSize= pOrgSize;targetSize= pTargetSize;step= pStep;alpha= pAlpha;aniType= pAniType;events= pEvents;with(obj.style){overflow = "hidden";position = "absolute";width = pOrgSize.w + "px";height = pOrgSize.h + "px";left = orgPos.x + "px";top = orgPos.y + "px";if(document.all){filter = "Alpha(opacity=" + pAlpha.s + ")";}elseopacity = pAlpha.s / 100;}}return aniObj;}//-----------------------------------------------------------------------------------------------this.expand = function(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents){var aniObj = init(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents,"expand");aniObj.interval = setInterval("expandOrCollapse_('" + pDivId + "')",10);}this.collapse = function(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents){var aniObj = init(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents,"collapse");aniObj.interval = setInterval("expandOrCollapse_('" + pDivId + "')",10);}//-----------------------------------------------------------------------------------------------expandOrCollapse_ = function(pDivId){pObj = aniObjs[pDivId];var w = parseInt(pObj.obj.style.width);var h = parseInt(pObj.obj.style.height);if( pObj.aniType == "expand" &amp;&amp; w &gt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &gt;= Math.abs(pObj.targetSize.h) ||pObj.aniType == "collapse" &amp;&amp; w &lt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &lt;= Math.abs(pObj.targetSize.h) ){//if(w &gt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &gt;= Math.abs(pObj.targetSize.h)){clearInterval(pObj.interval);if(document.all)pObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";elsepObj.obj.style.opacity = pObj.alpha.e / 100;if(pObj.events &amp;&amp; pObj.events.onComplate)pObj.events.onComplate(pObj.aniType);//delete aniObjs[pObj.obj.id];//这里不能进行delete操作，有个bug没有找出来。}else{if(pObj.aniType == "expand" &amp;&amp; w &lt; Math.abs(pObj.targetSize.w))w += pObj.step.x;if(pObj.aniType == "collapse" &amp;&amp; w &gt; Math.abs(pObj.targetSize.w))w -= pObj.step.x;if(pObj.aniType == "expand" &amp;&amp; h &lt; Math.abs(pObj.targetSize.h))h += pObj.step.y;if(pObj.aniType == "collapse" &amp;&amp; h &gt; Math.abs(pObj.targetSize.h))h -= pObj.step.y;if(document.all){var pattern = /opacity=(\d{1,3})/;var result = pattern.exec(pObj.obj.style.filter);if(result != null){if(result[1] &lt; pObj.alpha.e)pObj.obj.style.filter = "Alpha(opacity=" + (result[1] + pObj.alpha.t) + ")"elsepObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";}}else{if(pObj.obj.style.opacity &lt; pObj.alpha.e / 100){pObj.obj.style.opacity = parseFloat(pObj.obj.style.opacity) + pObj.alpha.t / 100;}elsepObj.obj.style.opacity = pObj.alpha.e / 100;}}pObj.obj.style.width = w + "px";pObj.obj.style.height = h + "px";if(pObj.targetSize.w &lt; 0){var vLeft = parseInt(getCurrentStyleProperty(pObj.obj,"left"));vLeft = isNaN(vLeft) ? 0 : vLeft;pObj.obj.style.left = vLeft - pObj.step.x + "px";}if(pObj.targetSize.h &lt; 0){var vTop = parseInt(getCurrentStyleProperty(pObj.obj,"top"));vTop = isNaN(vTop) ? 0 : vTop;pObj.obj.style.top = vTop - pObj.step.y + "px";}}//-----------------------------------------------------------------------------------------------}
var ani = new JAni();ani.expand("apDiv1",{w:50,h:50},//初始长宽{w:200,h:200},//目标长宽{x:8,y:8},//步长{s:10,e:80,t:10},//透明度 起始，结束，步长{onComplate:collapse1} ); ani.expand("apDiv2",{w:50,h:50},//初始长宽{w:-200,h:200},//目标长宽{x:8,y:8},//步长{s:10,e:40,t:2},//透明度 起始，结束，步长{onComplate:collapse2} ); ani.expand("apDiv3",{w:50,h:50},//初始长宽{w:-200,h:-200},//目标长宽{x:8,y:8},//步长{s:10,e:40,t:10},//透明度 起始，结束，步长{onComplate:collapse3} );
ani.expand("apDiv4",{w:50,h:50},//初始长宽{w:200,h:-200},//目标长宽{x:8,y:8},//步长{s:10,e:50,t:10},//透明度 起始，结束，步长{onComplate:collapse4} );  function collapse1(pType){ani.collapse("apDiv1",{w:200,h:200},{w:50,h:50},{x:8,y:8},{s:10,e:50,t:10});}function collapse2(pType){ani.collapse("apDiv2",{w:200,h:200},{w:50,h:50},{x:8,y:8},{s:10,e:50,t:10});}function collapse3(pType){ani.collapse("apDiv3",{w:200,h:200},{w:50,h:50},{x:8,y:8},{s:10,e:50,t:10});}function collapse4(pType){ani.collapse("apDiv4",{w:200,h:200},{w:50,h:50},{x:8,y:8},{s:10,e:50,t:10});}&lt;/script&gt;

日志标题：PHP Socket 编程3
发表时间：2007-7-6 11:56:00
日志内容：上次解决了端口不能重用的问题，也解决了多客户的问题。但是留下了几个Bug，这次加以修正，并添加了几个功能。本人又向着光明前迈了一大步！
另，本人的PHP版本是：
PHP Version 5.2.1，

&lt;?phpob_implicit_flush();set_time_limit(0);
$host = "192.40.7.93";$port = 10000;
($socket = socket_create(AF_INET,SOCK_STREAM,SOL_TCP)) or die("Error:socket_create:".socket_strerror(socket_last_error())."&lt;br /&gt;");//地址重用socket_set_option($socket,SOL_SOCKET,SO_REUSEADDR,1) or die("Error:socket_set_option:".socket_strerror(socket_last_error())."&lt;br /&gt;");
socket_bind($socket,$host,$port) or die ("Error:socket_set_option:".socket_strerror(socket_last_error())."&lt;br /&gt;");socket_listen($socket);
$clients = array($socket);
while(true){$read = $clients;//clients 会在下面的if(in_array..片段里做修改！if(socket_select($read,$write = NULL,$except = NULL,0) === false)continue;if(in_array($socket,$read)){//在最外层循环的第一句，$read = $clients，而$clients = array($socket),所以，每次循环这里都是真的！($clients[] = $client = socket_accept($socket)) or die("Error:socket_accept:".socket_strerror(socket_last_error())."&lt;br /&gt;");socket_write($client,"There are ".(count($clients) - 1)." client(s) connect to the server.".chr(13).chr(10));socket_getpeername($client,$vIp,$vPort);echo "New connect: $vIp:$vPort&lt;br /&gt;";unset($read[array_search($socket,$read)]);foreach($clients as $client_){if($client == $client_ || $client_ == $socket)continue;socket_write($client_,"$vIp:$vPort online! Total online Client(s):".(count($clients) - 1).chr(13).chr(10));}}foreach($read as $read_){socket_getpeername($read_,$vIp,$vPort);$command = "";while(true){//if(($buf = socket_read($read_,1024,PHP_BINARY_READ)) === false){if(($buf = socket_read($read_,1024,PHP_BINARY_READ)) == false){//不能用 ===socket_close($read_);unset($clients[array_search($read_,$clients)]);/////////echo "Client:$vIp : $vPort disconnect!&lt;br /&gt;";foreach($clients as $client_){if($client_ == $socket || $client_ == $read_)continue;socket_write($client_,"$vIp:$vPort offline! Total online Client(s):".(count($clients) - 1).chr(13).chr(10));}continue 2;}if(ord($buf) != 13){$command .= $buf;}else{break;}}$command = trim($command);if(!empty($command)){foreach($clients as $client_){if($client_ == $socket || $client_ == $read_){if($client_ == $read_){//如果是发言的socket，就得到它的IP和port，显示在控制台上。socket_getpeername($client_,$vIp,$vPort);echo "$vIp:$vPort Say:&amp;nbsp;&amp;nbsp".$command."&lt;br /&gt;";}continue;}//如果不是server端的socket，也不是发言的socket ，就把发言者的信息写入。$success = socket_write($client_,"$vIp:$vPort Say: ".$command.chr(13).chr(10));}}}}
socket_close($socket);?&gt;
效果：

日志标题：JS动画5
发表时间：2007-7-6 17:12:00
日志内容：在 JS动画4的基础上进行少量的修改，不过仍有一些可见的BUG没有修正。
把鼠标放到那几个细块上看看！
写到此，以经很乱了！有空在整理。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--#apDiv1 {position:absolute;left:240px;top:100px;width:100px;height:100px;z-index:1;background-color: #FF00FF;}#apDiv2 {position:absolute;left:402px;top:100px;width:100px;height:100px;z-index:2;background-color: #00FFFF;}#apDiv3 {position:absolute;left:402px;top:260px;width:100px;height:100px;z-index:3;background-color: #99FF00;}#apDiv4 {position:absolute;left:240px;top:260px;width:100px;height:100px;z-index:4;background-color: #FFFF00;}#apDiv5 {position:absolute;left:648px;top:101px;width:100px;height:20px;z-index:5;background-color: #FF00FF;}#apDiv6 {position:absolute;left:648px;top:143px;width:100px;height:20px;z-index:5;background-color: #FFFF00;}#apDiv7 {position:absolute;left:648px;top:122px;width:100px;height:20px;z-index:5;background-color: #99FF00;}#apDiv8 {position:absolute;left:648px;top:164px;width:100px;height:20px;z-index:5;background-color: #CCFFFF;}#apDiv9 {position:absolute;left:648px;top:184px;width:100px;height:20px;z-index:5;background-color: #663333;}body {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;font-weight: bolder;color: #0000FF;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="apDiv1"&gt;&lt;/div&gt;&lt;div id="apDiv2"&gt;&lt;/div&gt;&lt;div id="apDiv3"&gt;&lt;/div&gt;&lt;div id="apDiv4"&gt;&lt;/div&gt;
&lt;div id="apDiv5" onmousemove="aa(this.id)" onmouseout="bb(this.id)"&gt; &lt;div align="right"&gt;A&lt;/div&gt;&lt;/div&gt;&lt;div id="apDiv6" onmousemove="aa(this.id)" onmouseout="bb(this.id)"&gt; &lt;div align="right"&gt;C&lt;/div&gt;&lt;/div&gt;&lt;div id="apDiv7" onmousemove="aa(this.id)" onmouseout="bb(this.id)"&gt; &lt;div align="right"&gt;B&lt;/div&gt;&lt;/div&gt;&lt;div id="apDiv8" onmousemove="aa(this.id)" onmouseout="bb(this.id)"&gt; &lt;div align="right"&gt;D&lt;/div&gt;&lt;/div&gt;&lt;div id="apDiv9" onmousemove="aa(this.id)" onmouseout="bb(this.id)"&gt; &lt;div align="right"&gt;E&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function $(pId){return document.getElementById(pId);}
function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
function JAniObj(){this.obj = null;this.interval = null;this.orgPos = null;this.targetPos = null;this.orgSize= {w:50,y:50};//初始长宽this.targetSize= {w:100,y:100};//目标长宽this.step= {x:10,y:10};//步长 x:x方向　y:y方向this.alpha= {s:10,e:90,t:10};//透明度，s初始，e结束,t步长this.events= {onComplate:new Function()}this.aniType = null;this.isComplate= true;}
function JAni(){var self = this;var aniObjs = {};this.onComplate = new Function();this.getWh = function(pObj){return {w:parseInt(getCurrentStyleProperty(pObj,"width")),h:parseInt(getCurrentStyleProperty(pObj,"height"))};}//-----------------------------------------------------------------------------------------------var getCurrentStyleProperty = function(pObj,pProperty){try{if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}
//-----------------------------------------------------------------------------------------------this.getState = function(pId,pState){if(pState == "complate")try{return aniObjs[pId].isComplate;}catch(e){return true;}}
var init = function(pDiv,pOrgSize,pTargetSize,pStep,pAlpha,pEvents,pAniType){try{//alert(aniObjs[pDiv].interval);clearInterval(aniObjs[pDiv].interval);}catch(e){}var aniObj = new JAniObj();aniObjs[pDiv] = aniObj;with(aniObj){obj = $(pDiv);orgPos= JPos.getAbsPos(obj);orgSize= pOrgSize;targetSize= pTargetSize;step= pStep;alpha= pAlpha;aniType= pAniType;events= pEvents;with(obj.style){overflow = "hidden";position = "absolute";width = pOrgSize.w + "px";height = pOrgSize.h + "px";left = orgPos.x + "px";top = orgPos.y + "px";if(document.all){filter = "Alpha(opacity=" + pAlpha.s + ")";}elseopacity = pAlpha.s / 100;}}return aniObj;}//-----------------------------------------------------------------------------------------------this.expand = function(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents){var aniObj = init(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents,"expand");aniObj.interval = setInterval("expandOrCollapse_('" + pDivId + "')",10);}this.collapse = function(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents){var aniObj = init(pDivId,pOrgSize,pTargetSize,pStep,pAlpha,pEvents,"collapse");aniObj.interval = setInterval("expandOrCollapse_('" + pDivId + "')",10);}//-----------------------------------------------------------------------------------------------expandOrCollapse_ = function(pDivId){pObj = aniObjs[pDivId];var w = parseInt(pObj.obj.style.width);var h = parseInt(pObj.obj.style.height);if( pObj.aniType == "expand" &amp;&amp; w &gt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &gt;= Math.abs(pObj.targetSize.h) ||pObj.aniType == "collapse" &amp;&amp; w &lt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &lt;= Math.abs(pObj.targetSize.h) ){//if(w &gt;= Math.abs(pObj.targetSize.w) &amp;&amp; h &gt;= Math.abs(pObj.targetSize.h)){clearInterval(pObj.interval);pObj.isComplate = true;if(document.all)pObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";elsepObj.obj.style.opacity = pObj.alpha.e / 100;if(pObj.events &amp;&amp; pObj.events.onComplate)pObj.events.onComplate(pObj.aniType);//delete aniObjs[pObj.obj.id];//这里不能进行delete操作，有个bug没有找出来。}else{pObj.isComplate = false;if(pObj.aniType == "expand" &amp;&amp; w &lt; Math.abs(pObj.targetSize.w))w += pObj.step.x;if(pObj.aniType == "collapse" &amp;&amp; w &gt; Math.abs(pObj.targetSize.w))w -= pObj.step.x;if(pObj.aniType == "expand" &amp;&amp; h &lt; Math.abs(pObj.targetSize.h))h += pObj.step.y;if(pObj.aniType == "collapse" &amp;&amp; h &gt; Math.abs(pObj.targetSize.h))h -= pObj.step.y;if(document.all){var pattern = /opacity=(\d{1,3})/;var result = pattern.exec(pObj.obj.style.filter);if(result != null){if(result[1] &lt; pObj.alpha.e)pObj.obj.style.filter = "Alpha(opacity=" + (result[1] + pObj.alpha.t) + ")"elsepObj.obj.style.filter = "Alpha(opacity=" + pObj.alpha.e + ")";}}else{if(pObj.obj.style.opacity &lt; pObj.alpha.e / 100){pObj.obj.style.opacity = parseFloat(pObj.obj.style.opacity) + pObj.alpha.t / 100;}elsepObj.obj.style.opacity = pObj.alpha.e / 100;}}pObj.obj.style.width = w + "px";pObj.obj.style.height = h + "px";if(pObj.targetSize.w &lt; 0){var vLeft = parseInt(getCurrentStyleProperty(pObj.obj,"left"));vLeft = isNaN(vLeft) ? 0 : vLeft;var x_;if(pObj.aniType == "expand")x_ = -pObj.step.x;if(pObj.aniType == "collapse")x_ = pObj.step.x;pObj.obj.style.left = vLeft + x_ + "px";}if(pObj.targetSize.h &lt; 0){var vTop = parseInt(getCurrentStyleProperty(pObj.obj,"top"));vTop = isNaN(vTop) ? 0 : vTop;var y_;if(pObj.aniType == "expand")y_ = -pObj.step.x;if(pObj.aniType == "collapse")y_ = pObj.step.x;pObj.obj.style.top = vTop + y_ + "px";}}//-----------------------------------------------------------------------------------------------}
var ani = new JAni();ani.expand("apDiv1",{w:50,h:50},//初始长宽{w:200,h:200},//目标长宽{x:8,y:8},//步长{s:10,e:80,t:10},//透明度 起始，结束，步长{onComplate:collapse1} ); ani.expand("apDiv2",{w:50,h:50},//初始长宽{w:-200,h:200},//目标长宽{x:8,y:8},//步长{s:10,e:40,t:2},//透明度 起始，结束，步长{onComplate:collapse2} ); ani.expand("apDiv3",{w:50,h:50},//初始长宽{w:-200,h:-200},//目标长宽{x:8,y:8},//步长{s:10,e:40,t:10},//透明度 起始，结束，步长{onComplate:collapse3} );
ani.expand("apDiv4",{w:50,h:50},//初始长宽{w:200,h:-200},//目标长宽{x:8,y:8},//步长{s:10,e:50,t:10},//透明度 起始，结束，步长{onComplate:collapse4} ); function collapse1(pType){ani.collapse("apDiv1",ani.getWh(document.getElementById("apDiv1")),{w:50,h:50},{x:8,y:8},{s:10,e:50,t:10});}function collapse2(pType){ani.collapse("apDiv2",ani.getWh(document.getElementById("apDiv2")),{w:-50,h:50},{x:8,y:8},{s:10,e:50,t:10});}function collapse3(pType){ani.collapse("apDiv3",ani.getWh(document.getElementById("apDiv3")),{w:-50,h:-50},{x:8,y:8},{s:10,e:50,t:10});}function collapse4(pType){ani.collapse("apDiv4",ani.getWh(document.getElementById("apDiv4")),{w:50,h:-50},{x:8,y:8},{s:10,e:50,t:10});}function aa(pId){//if(ani.getState(pId,"complate"))ani.expand(pId,ani.getWh(document.getElementById(pId)),{w:200,h:20},{x:15,y:10},{s:50,e:100,t:10});}//aa("apDiv5");function bb(pId){//if(ani.getState(pId,"complate"))ani.collapse(pId,ani.getWh(document.getElementById(pId)),{w:100,h:20},{x:8,y:8},{s:50,e:100,t:10});}&lt;/script&gt;

日志标题：关于PHP Socket编程中CPU100%的问题
发表时间：2007-7-9 9:53:00
日志内容：由于本人水平有限，也是现学现卖，但是都一一调试通过了。
CPU　100%这个问题，我也是经常遇到。就因为用的是一个死循环，如果想不停的监听客户端，我暂时只知道用死循环，水平有限，请谅解。
如果你在第一次运行后，想停止，可以按浏览器上的　停止　按钮，然后打开任务管理器，把占用CPU最多的那个APACHE进程停掉，一般这种情况下，会有好个APACHE的进程，停掉一个不碍事！
谢谢大家的关注！

日志标题：说出来了！
发表时间：2007-7-9 16:52:00
日志内容：来这家公司上班快过试用期了（本月23号），经理今天找部门的同事对我做评估，各方面反映良好，经理也对我看好，只是说我不爱说话而以。
刚才经理找到我，让我对自己做一个评价。我说在网站方面是不用说的，但是如果让我继续做PB的话，我没有太大兴趣。
经理问：为什么呢？我说：因为我现在学的东东太多了，如果在下功夫去学PB的话，就会把先前会的给荒废了，现在招工的，PB的少之又少，所以学PB还是对我以后的职业生涯不利，所以不想往PB方面下太多功夫。
经理问我打算向那方面发展，网站？我说，其实我更喜欢Oracle或Java,因为我之前就是做Oracle的。
经理说：但是我们公司只用PB＋SQLServer开发软件啊！我说：不瞒您说，我以经在物色新的工作了，去面试过几家，有：***公司（不好意思，暂时不公开，有句话说：说早了，猫咬了，总共4轮面试，我刚刚接到第二轮的面试通知），还有其它的几家单位，在等待通知。
经理说：如果要你留下来，你有什么要求？我笑了笑，没有作答。最后经理发话了：看来***（公司名称，不好意思，不公开）是留不住人才了，好吧，如果你执意要走的话，我会支持直到你找到新工作为止。
谢谢，在谢谢。这位老大多好啊！哪像我的上位上司，××××（不做评价）。
刚才经理又叫我去了，看了一下试用期打分，96，优秀，在谢谢。
心情好多了，前些天还在担心假如哪家公司让我去上班的话，怎么跟老大说呢。


日志标题：直面失败
发表时间：2007-7-11 8:56:00
日志内容：去××公司（不好意思，失败了，就不说了）二面，结果是相当残烈的，本人水平有限，被涮是理所当然的事。
当提及如何应对大规模的并发事件时，当问到如何做一个策划时并开展时，当问到如何做服务器优化及程序优化时，我大脑是一片空白，因为跟本就没有过这方面的经验！
狭小的思想范围把我局限在一个可见度很小的空间，未知的世界，我从未试着过去探素，失败，似乎是不可避免！
曾经，我认为我很NB！现在看来我很SB!
失败就失败吧，跌倒了总是要爬起来的！我还年轻，有的是机会！努力！加油！
2007/07/11　记　以励志

日志标题：JTrackBar&nbsp;滑块控件
发表时间：2007-7-11 17:11:00
日志内容：先放一个雏形出来，兼容IE6,FireFox 2
前天去×××公司（不好意思）去面试，问到我有没有看过QQ或新浪的评论，我说没看过，今天看了一下，把它上的滑块控件模拟一下，写成控件了。点下面的代码查看效果。
用的到图片：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;JTrackBar Demo&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;&lt;!--/*----------------------------------------------------------------------JTrackBar初始日期：2007/07/11Author:xlingFairyBlog:http://xling.blueidea.com
目前只能生水平的，垂直的还没有写。设计功能：当改变时，触发事件onChange,并传当前值。
----------------------------------------------------------------------*/function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
JPos.getMousePos = function(evt){var _x,_y;evt = evt || window.event;if(evt.pageX || evt.pageY){_x = evt.pageX;_y = evt.pageY;}else{_x = evt.clientX + document.body.scrollLeft - document.body.clientLeft;_y = evt.clientY + document.body.scrollTop - document.body.clientTop;}return {x:_x,y:_y};}
function JTrackBar(pParent){var self = this;var $ = function(pId){return document.getElementById(pId);}var $c = function(pTag){return document.createElement(pTag);}var body = $(pParent) || document.body;var oOutline= null;var oTrackArea = null;var oBtnPointer= null;var oArrBtnLeft = oArrBtnRight = oArrBtnUp = oArrBtnDown = null;var maxPosition = 100;//最大刻度var minPosition= 0;//最小刻度var position= 0;//当前位置var trackFrequence= 10;//点击一次移动多少刻度this.setRange = function(pMin,pMax){maxPosition = Math.max(pMin,pMax);minPosition= Math.min(pMin,pMax);}var outlineWidth,trackAreaWidth,preFrequenceWidth;this.onChange = new Function();var getRunStyle = function(pObj,pProperty){try{if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}/*-----------------------------------------------------*/var createOutline = function(pWidth){oOutline= $c("DIV");body.appendChild(oOutline);oOutline.className= "JTrackBarStand";oOutline.style.width = pWidth + "px";oOutline.style.height = "15px";oOutline.style.overflow = "hidden";}/*-----------------------------------------------------*/var createArrBtn= function(pDirection){var arrBtn = $c("DIV");switch(pDirection){case "LEFT":arrBtn.className = "btnLeft";arrBtn.style.styleFloat = "left";arrBtn.style.cssFloat= "left";break;case "RIGHT":arrBtn.className = "btnRight";arrBtn.style.styleFloat = "left";arrBtn.style.cssFloat= "left";break;case "UP":arrBtn.className = "btnUp";break;case "DOWN":arrBtn.className = "btnDown";break;}arrBtn.direction = pDirection;arrBtn.onclick = arrBtn_click;return arrBtn;}var arrBtn_click = function(evt){evt = window.event || evt;var o = evt.srcElement || evt.target;switch(o.direction){case "LEFT":if(position &lt;= minPosition)return;self.setPositionBy( -trackFrequence);break;case "RIGHT":if(position &gt;= maxPosition)return;self.setPositionBy(trackFrequence);break;}}var trackarea_click = function(evt){evt = window.event || evt;var mPos = JPos.getMousePos(evt);var pos_ = JPos.getAbsPos(oTrackArea);var w_ = parseInt(getRunStyle(oBtnPointer,"width"));self.setPosition(parseInt((mPos.x - pos_.x) / preFrequenceWidth));}var createHTrackArea = function(){var w_ = parseInt(getRunStyle(oArrBtnLeft,"width"));trackAreaWidth = outlineWidth - 2 * w_;preFrequenceWidth = trackAreaWidth / (maxPosition - minPosition);oTrackArea = $c("DIV");oOutline.appendChild(oTrackArea);oTrackArea.onclick = trackarea_click;oTrackArea.className = "trackArea";oTrackArea.style.width = trackAreaWidth + "px";oTrackArea.style.styleFloat = "left";oTrackArea.style.cssFloat= "left";}var createHPointer = function(){oBtnPointer = $c("DIV");oOutline.appendChild(oBtnPointer);oBtnPointer.onclick = trackarea_click;oBtnPointer.className = "btnPointer";oBtnPointer.style.position = "absolute";var w_ = parseInt(getRunStyle(oBtnPointer,"width"));var pos_ = JPos.getAbsPos(oTrackArea);oBtnPointer.style.left = pos_.x - w_/2 + "px";oBtnPointer.style.top = pos_.y + "px";oBtnPointer.style.cssText += "left:" + (pos_.x - w_/2) + "px;top:" + pos_.y + "px;";}/*-----------------------------------------------------*/this.createHTrackBar = function(pWidth){outlineWidth = pWidth;createOutline(pWidth);oArrBtnLeft = createArrBtn("LEFT");oOutline.appendChild(oArrBtnLeft);
createHTrackArea();oArrBtnRight = createArrBtn("RIGHT");oOutline.appendChild(oArrBtnRight);createHPointer();}/*-----------------------------------------------------*/this.setPositionBy = function(pPosition){position += pPosition;self.setPosition(position);}this.setPosition = function(pPosition){position = pPosition;if(position &gt; maxPosition)position = maxPosition;if(position &lt; minPosition)position = minPosition;var pos_ = JPos.getAbsPos(oTrackArea);var w_ = parseInt(getRunStyle(oBtnPointer,"width"));oBtnPointer.style.left = pos_.x - w_/2 + preFrequenceWidth * position + "px"; doChange();}var doChange = function(){self.onChange(position);}this.getPosition = function(){return position;}}--&gt;&lt;/script&gt;&lt;style type="text/css"&gt;&lt;!--.JTrackBarStand {}
.JTrackBarStand .btnLeft{width:15px;height:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/711212400.gif);background-repeat: no-repeat;background-position: 0px 0px;}
.JTrackBarStand .btnRight{width:15px;height:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/711212400.gif);background-repeat: no-repeat;background-position: 0px -30px;}
.JTrackBarStand .trackArea{height:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/711212400.gif);background-repeat:repeat-x;background-position:0px -60px;}
.JTrackBarStand .btnPointer{height:15px;width:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/711212400.gif);background-repeat:no-repeat;background-position:0px -75px;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;div id="r"&gt;红： &lt;input type="text" name="r_" id="r_" /&gt;&lt;/div&gt; &lt;hr align="left" width="50%" size="1" /&gt; &lt;div id="g"&gt;绿： &lt;input type="text" name="g_" id="g_" /&gt; &lt;/div&gt; &lt;hr align="left" width="50%" size="1" /&gt; &lt;div id="b"&gt;蓝： &lt;input type="text" name="b_" id="b_" /&gt; &lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;
var $ = function(pId){return document.getElementById(pId);}
var r_ = $("r_"),g_ = $("g_"),b_ = $("b_");
var jt1 = new JTrackBar("r");jt1.onChange = function(pTrackPosition){r_.value = pTrackPosition;changeBg();}jt1.setRange(0,255);jt1.createHTrackBar(200);jt1.setPosition(199);var jt2 = new JTrackBar("g");jt2.onChange = function(pTrackPosition){g_.value = pTrackPosition;changeBg();}jt2.setRange(0,255);jt2.createHTrackBar(400);jt2.setPosition(235);var jt3 = new JTrackBar("b");jt3.onChange = function(pTrackPosition){b_.value = pTrackPosition;changeBg();}jt3.setRange(0,255);jt3.createHTrackBar(550);jt3.setPosition(112);function changeBg(){var r = jt1 ? jt1.getPosition() : 0;var g = jt2 ? jt2.getPosition() : 0;var b = jt3 ? jt3.getPosition() : 0;document.body.style.backgroundColor="rgb(" + r + "," + g + "," + b + ")";}
changeBg();&lt;/script&gt;


日志标题：JTrackBar&nbsp;更新
发表时间：2007-7-13 8:14:00
日志内容：这是用到的图片：

下面是代码，没有最终完成。
支持IE6，FireFox2,其它的没有测试。
如果您的浏览器的屏蔽浮动层功能打开了，请暂时关闭。
加入拖动功能。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;JTrackBar Demo&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;&lt;!--/*----------------------------------------------------------------------JTrackBar初始日期：2007/07/11Author:xlingFairyBlog:http://xling.blueidea.com
目前只能生水平的，垂直的还没有写。设计功能：当改变时，触发事件onChange,并传当前值。
----------------------------------------------------------------------*/function JPos(){}
JPos.getAbsPos = function(pTarget){var _x = 0;var _y = 0;while(pTarget.offsetParent){_x += pTarget.offsetLeft;_y += pTarget.offsetTop;pTarget = pTarget.offsetParent;}_x += pTarget.offsetLeft;_y += pTarget.offsetTop;return {x:_x,y:_y};}
JPos.getMousePos = function(evt){var _x,_y;evt = evt || window.event;if(evt.pageX || evt.pageY){_x = evt.pageX;_y = evt.pageY;}else{_x = evt.clientX + document.body.scrollLeft - document.body.clientLeft;_y = evt.clientY + document.body.scrollTop - document.body.clientTop;}return {x:_x,y:_y};}
function JTrackBar(pParent){var self = this;var $ = function(pId){return document.getElementById(pId);}var $c = function(pTag){return document.createElement(pTag);}var body = $(pParent) || document.body;var oOutline= null;var oTrackArea = null;var oBtnPointer= null;var oArrBtnLeft = oArrBtnRight = oArrBtnUp = oArrBtnDown = null;var inDrag = false;var dragStartPos = null;var maxPosition = 100;//最大刻度var minPosition= 0;//最小刻度var position= 0;//当前位置var trackFrequence= 10;//点击一次移动多少刻度this.setRange = function(pMin,pMax){maxPosition = Math.max(pMin,pMax);minPosition= Math.min(pMin,pMax);}var outlineWidth,trackAreaWidth,preFrequenceWidth;this.onChange = new Function();var getRunStyle = function(pObj,pProperty){try{if(pObj.currentStyle)return eval("pObj.currentStyle." + pProperty);elsereturn document.defaultView.getComputedStyle(pObj,"").getPropertyValue(pProperty);}catch(e){alert(e);}}/*-----------------------------------------------------*/var createOutline = function(pWidth){oOutline= $c("DIV");body.appendChild(oOutline);oOutline.className= "JTrackBarStand";oOutline.style.width = pWidth + "px";oOutline.style.height = "15px";oOutline.style.overflow = "hidden";}/*-----------------------------------------------------*/var createArrBtn= function(pDirection){var arrBtn = $c("DIV");switch(pDirection){case "LEFT":arrBtn.className = "btnLeft";arrBtn.style.styleFloat = "left";arrBtn.style.cssFloat= "left";break;case "RIGHT":arrBtn.className = "btnRight";arrBtn.style.styleFloat = "left";arrBtn.style.cssFloat= "left";break;case "UP":arrBtn.className = "btnUp";break;case "DOWN":arrBtn.className = "btnDown";break;}arrBtn.direction = pDirection;arrBtn.onclick = arrBtn_click;return arrBtn;}var arrBtn_click = function(evt){evt = window.event || evt;var o = evt.srcElement || evt.target;switch(o.direction){case "LEFT":if(position &lt;= minPosition)return;self.setPositionBy( -trackFrequence);break;case "RIGHT":if(position &gt;= maxPosition)return;self.setPositionBy(trackFrequence);break;}}var trackarea_click = function(evt){evt = window.event || evt;var mPos = JPos.getMousePos(evt);var pos_ = JPos.getAbsPos(oTrackArea);var w_ = parseInt(getRunStyle(oBtnPointer,"width"));self.setPosition(parseInt((mPos.x - pos_.x) / preFrequenceWidth));}var createHTrackArea = function(){var w_ = parseInt(getRunStyle(oArrBtnLeft,"width"));trackAreaWidth = outlineWidth - 2 * w_;preFrequenceWidth = trackAreaWidth / (maxPosition - minPosition);oTrackArea = $c("DIV");oOutline.appendChild(oTrackArea);oTrackArea.onclick = trackarea_click;oTrackArea.className = "trackArea";oTrackArea.style.width = trackAreaWidth + "px";oTrackArea.style.styleFloat = "left";oTrackArea.style.cssFloat= "left";}var pointer_mousedown = function(evt){inDrag = true;dragStartPos = JPos.getMousePos(evt);body.onmousemove = pointer_mousemove;body.onmouseup = pointer_mouseup;body.onmouseout = pointer_mouseout;}var pointer_mousemove = function(evt){if(!inDrag)return;//evt = window.event || evt;//var x_ = evt.clientX;//window.status = x_ + " " + dragStartPos.x;//self.setPositionBy(x_ - dragStartPos.x);//window.status += " " + evt.clientX;var mPos = JPos.getMousePos(evt);var pos_ = JPos.getAbsPos(oTrackArea);self.setPosition(parseInt((mPos.x - pos_.x) / preFrequenceWidth));}var pointer_mouseup = function(){inDrag = false;}var pointer_mouseout = function(){//inDrag = false;}var createHPointer = function(){oBtnPointer = $c("DIV");oOutline.appendChild(oBtnPointer);//oBtnPointer.onclick = trackarea_click;oBtnPointer.onmousedown = pointer_mousedown;//oOutline.onmousemove = oBtnPointer.onmousemove = pointer_mousemove;//oBtnPointer.onmouseup= pointer_mouseup;//oBtnPointer.onmouseout = pointer_mouseout;oBtnPointer.className = "btnPointer";oBtnPointer.style.position = "absolute";var w_ = parseInt(getRunStyle(oBtnPointer,"width"));var pos_ = JPos.getAbsPos(oTrackArea);oBtnPointer.style.left = pos_.x - w_/2 + "px";oBtnPointer.style.top = pos_.y + "px";oBtnPointer.style.cssText += "left:" + (pos_.x - w_/2) + "px;top:" + pos_.y + "px;";}/*-----------------------------------------------------*/this.createHTrackBar = function(pWidth){outlineWidth = pWidth;createOutline(pWidth);oArrBtnLeft = createArrBtn("LEFT");oOutline.appendChild(oArrBtnLeft);
createHTrackArea();oArrBtnRight = createArrBtn("RIGHT");oOutline.appendChild(oArrBtnRight);createHPointer();}/*-----------------------------------------------------*/this.setPositionBy = function(pPosition){position += pPosition;self.setPosition(position);}this.setPosition = function(pPosition){position = pPosition;if(position &gt; maxPosition)position = maxPosition;if(position &lt; minPosition)position = minPosition;var pos_ = JPos.getAbsPos(oTrackArea);var w_ = parseInt(getRunStyle(oBtnPointer,"width"));oBtnPointer.style.left = pos_.x - w_/2 + preFrequenceWidth * position + "px"; doChange();}var doChange = function(){self.onChange(position);}this.getPosition = function(){return position;}}--&gt;&lt;/script&gt;&lt;style type="text/css"&gt;&lt;!--.JTrackBarStand {}
.JTrackBarStand .btnLeft{width:15px;height:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/713736091.gif);background-repeat: no-repeat;background-position: 0px 0px;}
.JTrackBarStand .btnRight{width:15px;height:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/713736091.gif);background-repeat: no-repeat;background-position: 0px -30px;}
.JTrackBarStand .trackArea{height:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/713736091.gif);background-repeat:repeat-x;background-position:0px -60px;}
.JTrackBarStand .btnPointer{height:15px;width:15px;background-image: url(http://blogbeta.blueidea.com/UploadFiles/2007-7/713736091.gif);background-repeat:no-repeat;background-position:0px -75px;cursor:move;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;div id="r"&gt;红： &lt;input type="text" name="r_" id="r_" /&gt;&lt;/div&gt; &lt;hr align="left" width="50%" size="1" /&gt; &lt;div id="g"&gt;绿： &lt;input type="text" name="g_" id="g_" /&gt; &lt;/div&gt; &lt;hr align="left" width="50%" size="1" /&gt; &lt;div id="b"&gt;蓝： &lt;input type="text" name="b_" id="b_" /&gt; &lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;
var $ = function(pId){return document.getElementById(pId);}
var r_ = $("r_"),g_ = $("g_"),b_ = $("b_");
var jt1 = new JTrackBar("r");jt1.onChange = function(pTrackPosition){r_.value = pTrackPosition;changeBg();}jt1.setRange(0,255);jt1.createHTrackBar(200);jt1.setPosition(199);var jt2 = new JTrackBar("g");jt2.onChange = function(pTrackPosition){g_.value = pTrackPosition;changeBg();}jt2.setRange(0,255);jt2.createHTrackBar(400);jt2.setPosition(235);var jt3 = new JTrackBar("b");jt3.onChange = function(pTrackPosition){b_.value = pTrackPosition;changeBg();}jt3.setRange(0,255);jt3.createHTrackBar(550);jt3.setPosition(112);function changeBg(){var r = jt1 ? jt1.getPosition() : 0;var g = jt2 ? jt2.getPosition() : 0;var b = jt3 ? jt3.getPosition() : 0;document.body.style.backgroundColor="rgb(" + r + "," + g + "," + b + ")";}
changeBg();&lt;/script&gt;

日志标题：正式发布：JTrackBar
发表时间：2007-7-13 13:09:00
日志内容：JTrackBar
兼容IE6,FireFox，其它浏览器没有测试。
功能就不说了，慢慢体会吧。下面是效果图！

源文件：
UploadFiles/2007-7/713445242.rar

日志标题：firefox下的文本高亮解决方法
发表时间：2007-7-19 16:57:00
日志内容：“点睛”的广告代码，很牛B，本想从中找出在FireFox下如何实现findText及pasteHTML类似效果的，我看了大半天，楞是没有看出个所以然来！还是自己慢慢研究吧。
IE下有:
var range = document.body.createTextRange();
FireFox下有：
var range = document.createRange();
IE下有findText及pasteHTML，但是fireFox下就没有！怎么办？查了好多资料，都没有能说出个所以然的，皇天不负有心人，终于让我给搞出来了！
注：我这里不是用正则替换，因为正则替换有它的不足之处！
下面是代码：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.adKeyword {color: #FF0000;}--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;　　一个和尚挑水吃、两个和尚抬水吃、三个和尚没水吃。总寺的方丈大人得知情况后，就派来了一名主持和一名书记，共同负责解决这一问题。主持上任后，发现问题的关键是管理不到位，于是就招聘一些和尚成立了寺庙管理部来制定分工流程。为了更好地借鉴国外的先进经验，寺庙选派唐僧等领导干部出国学习取经；此外，他们还专门花钱请了天主教、基督教的神父传授MBA。神父呆了不久留下几个东东就走了，一个叫BPR，一个叫ERP。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　书记也没闲着，他认为问题的关键在于人才没有充分利用、寺庙文化没有建设好，于是就成立了人力资源部和寺庙工会等等，并认认真真地走起了竞聘上岗和定岗定编的过场。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　几天后成效出来了，三个和尚开始拼命地挑水了，可问题是怎么挑也不够喝。不仅如此，小和尚都忙着挑水、寺庙里没人念经了，日子一长，来烧香的客人越来越少，香火钱也变得拮据起来。为了解决收入问题，寺庙管理部、人力资源部等连续召开了几天的会，最后决定，成立专门的挑水部负责后勤和专门的烧香部负责市场前台。同时，为了更好地开展工作，寺庙提拔了十几名和尚分别担任副主持、主持助理，并在每个部门任命了部门小主持、副小主持、小主持助理。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　老问题终于得到缓解了，可新的问题跟着又来了。前台负责念经的和尚总抱怨口渴水不够喝，后台挑水的和尚也抱怨人手不足、水的需求量太大而且没个准儿，不好伺候。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　为了更好地解决这一矛盾，经开会研究决定，成立一个新的部门：喝水响应部，专门负责协调前后台矛盾。为了便于沟通、协调，每个部门都设立了对口的联系和尚。 协调虽然有了，但效果却不理想，仔细一研究，原来是由于水的需求量不准、水井数量不足等原因造成的。于是各部门又召开了几次会，决定加强前台念经和尚对饮用水的预测和念经和尚对挑水和尚满意度测评等，让前后台签署协定、相互打分，健全考核机制。为了便于打分考核，寺院特意购买了几个计算机系统，包括挑水统计系统、烧香统计系统、普通香客捐款分析系统、大香客捐款分析系统、挨上必死系统（简称IBS系统）、马上就死系统（简称MS系统）等，同时成立香火钱管理部、香火钱出账部、打井策略研究部、打井建设部、打井维护部等等。由于各个系统出来的数总不准确、都不一致，于是又成立了技术开发中心，负责各个系统的维护、二次开发。由于部门太多、办公场地不足，寺院专门成立了综合部来解决这一问题，最后决定把寺院整个变成办公区，香客烧香只许在山门外烧。 &lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　部门多、当官的多档和开会自然就多，为了减少文山会海，综合办牵头召开了N次关于减少开会的会，并下达了“关于减少档的档”。同时，为了精简机构、提高效率，寺院还成立了精简机构办公室、机构改革研究部等部门。 &lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　一切似乎都合情合理，但香火钱和喝水的问题还是迟迟不能解决。问题在哪呢？有的和尚提出来每月应该开一次分析会，于是经营分析部就应运而生了。分析需要很多数据和报表，可系统总是做不到，于是每个部门都指派了一些和尚手工统计、填写报表、给系统打工。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　寺院空前地热闹起来，有的和尚在拼命挑水、有的和尚在拼命念经、有的和尚在拼命协调、有的和尚在拼命分析……忙来忙去，水还是不够喝、香火钱还是不够用。什么原因呢？这个和尚说流程不顺、那个和尚说任务分解不合理，这个和尚说部门界面不清、那个和尚说考核力度不够。只有三个人最清楚问题之关键所在，那三个人就是最早的那三个和尚。说来说去，就是***闲人太多了！他们说：“整天瞎分析个屁！什么***流程问题、职责问题、接口问题、考核问题，明明就是机构臃肿问题！早知今日，还不如当初咱们仨自觉自律一点算了！如今倒好，招来了这么一大帮傻B，一个个不干正经事还***人五人六的，跟屎盆子一样甩都甩不掉！”&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　又过了一年，寺院黄了，和尚们也都死了。人们在水井边发现了几具尸体，是累死的；在寺院里发现了几千具尸体，是渴死的。&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="JavaScript" type="text/javascript"&gt;&lt;!--
if(document.createRange){var range = document.createRange();}elsevar range = document.body.createTextRange();
if(range.findText){while(range.findText("和尚")){range.pasteHTML(range.text.fontcolor("#ff0000"));range.collapse(true);}}else{var s,n;s = window.getSelection();while(window.find("和尚")){var n = document.createElement("SPAN");n.style.color="#ff0000"
s.getRangeAt(0).surroundContents(n);}}
//--&gt;&lt;/script&gt;

日志标题：高亮关键字之：多关键字
发表时间：2007-7-20 9:28:00
日志内容：请先看前一篇：
http://xling.blueidea.com/archives/2007/5257.shtml
经测试：IE6,fireFox下通过，Opera不通过（待处理）。
上一篇是单个关键字，这一个是多个关键字的处理。在IE里借用了getBookmark和movetoBookmark两个函数，返回到range的开头处。FF下用：s.collapse(document.body,0);返回selection的开头处。
转载请务必注明出处！否则下一步我就不让你们知道了！
下面是代码：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.adKeyword {color: #FF0000;}--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;　　一个和尚挑水吃、两个和尚抬水吃、三个和尚没水吃。总寺的方丈大人得知情况后，就派来了一名主持和一名书记，共同负责解决这一问题。主持上任后，发现问题的关键是管理不到位，于是就招聘一些和尚成立了寺庙管理部来制定分工流程。为了更好地借鉴国外的先进经验，寺庙选派唐僧等领导干部出国学习取经；此外，他们还专门花钱请了天主教、基督教的神父传授MBA。神父呆了不久留下几个东东就走了，一个叫BPR，一个叫ERP。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　书记也没闲着，他认为问题的关键在于人才没有充分利用、寺庙文化没有建设好，于是就成立了人力资源部和寺庙工会等等，并认认真真地走起了竞聘上岗和定岗定编的过场。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　几天后成效出来了，三个和尚开始拼命地挑水了，可问题是怎么挑也不够喝。不仅如此，小和尚都忙着挑水、寺庙里没人念经了，日子一长，来烧香的客人越来越少，香火钱也变得拮据起来。为了解决收入问题，寺庙管理部、人力资源部等连续召开了几天的会，最后决定，成立专门的挑水部负责后勤和专门的烧香部负责市场前台。同时，为了更好地开展工作，寺庙提拔了十几名和尚分别担任副主持、主持助理，并在每个部门任命了部门小主持、副小主持、小主持助理。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　老问题终于得到缓解了，可新的问题跟着又来了。前台负责念经的和尚总抱怨口渴水不够喝，后台挑水的和尚也抱怨人手不足、水的需求量太大而且没个准儿，不好伺候。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　为了更好地解决这一矛盾，经开会研究决定，成立一个新的部门：喝水响应部，专门负责协调前后台矛盾。为了便于沟通、协调，每个部门都设立了对口的联系和尚。 协调虽然有了，但效果却不理想，仔细一研究，原来是由于水的需求量不准、水井数量不足等原因造成的。于是各部门又召开了几次会，决定加强前台念经和尚对饮用水的预测和念经和尚对挑水和尚满意度测评等，让前后台签署协定、相互打分，健全考核机制。为了便于打分考核，寺院特意购买了几个计算机系统，包括挑水统计系统、烧香统计系统、普通香客捐款分析系统、大香客捐款分析系统、挨上必死系统（简称IBS系统）、马上就死系统（简称MS系统）等，同时成立香火钱管理部、香火钱出账部、打井策略研究部、打井建设部、打井维护部等等。由于各个系统出来的数总不准确、都不一致，于是又成立了技术开发中心，负责各个系统的维护、二次开发。由于部门太多、办公场地不足，寺院专门成立了综合部来解决这一问题，最后决定把寺院整个变成办公区，香客烧香只许在山门外烧。 &lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　部门多、当官的多档和开会自然就多，为了减少文山会海，综合办牵头召开了N次关于减少开会的会，并下达了“关于减少档的档”。同时，为了精简机构、提高效率，寺院还成立了精简机构办公室、机构改革研究部等部门。 &lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　一切似乎都合情合理，但香火钱和喝水的问题还是迟迟不能解决。问题在哪呢？有的和尚提出来每月应该开一次分析会，于是经营分析部就应运而生了。分析需要很多数据和报表，可系统总是做不到，于是每个部门都指派了一些和尚手工统计、填写报表、给系统打工。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　寺院空前地热闹起来，有的和尚在拼命挑水、有的和尚在拼命念经、有的和尚在拼命协调、有的和尚在拼命分析……忙来忙去，水还是不够喝、香火钱还是不够用。什么原因呢？这个和尚说流程不顺、那个和尚说任务分解不合理，这个和尚说部门界面不清、那个和尚说考核力度不够。只有三个人最清楚问题之关键所在，那三个人就是最早的那三个和尚。说来说去，就是***闲人太多了！他们说：“整天瞎分析个屁！什么***流程问题、职责问题、接口问题、考核问题，明明就是机构臃肿问题！早知今日，还不如当初咱们仨自觉自律一点算了！如今倒好，招来了这么一大帮傻B，一个个不干正经事还***人五人六的，跟屎盆子一样甩都甩不掉！”&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;　　又过了一年，寺院黄了，和尚们也都死了。人们在水井边发现了几具尸体，是累死的；在寺院里发现了几千具尸体，是渴死的。&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="JavaScript" type="text/javascript"&gt;&lt;!--
var keys = [["和尚","http://www.baidu.com","#ff0000"],["系统","http://www.baidu.com","#00ff00"],["念经","http://www.baidu.com","#0000ff"],["工会","http://www.baidu.com","#cc6600"]]
var bookmark;if(document.createRange){var range = document.createRange();}else{var range = document.body.createTextRange();bookmark = range.getBookmark();}
var key;for(var i = 0;key = keys[i];i++){if(range.findText){range.collapse(true);range.moveToBookmark(bookmark);while(range.findText(key[0])){range.pasteHTML(range.text.fontcolor(key[2]));}}else{var s,n;s = window.getSelection();s.collapse(document.body,0);while(window.find(key[0])){var n = document.createElement("SPAN");n.style.color=key[2];s.getRangeAt(0).surroundContents(n);}}}
//--&gt;&lt;/script&gt;

日志标题：结束了在深圳的第三个月
发表时间：2007-7-20 14:58:00
日志内容：7.23 周一，办理离职手续，结清工资，结束在深的第三个月。
7.24,周二，去新公司上班，可能从此就要做一个专一的jser了。
不知以后还有没有机会在做oracle开发了，但是，一定没有机会在做erp工程师了！
说实话，做ERP还是瞒清闲的！
哎！

日志标题：一些javascript方面的思考
发表时间：2007-8-15 18:15:00
日志内容：一些Javascript方面的思考，就不说明我的用意了。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body onclick="vControl('EVENT')"&gt;&lt;div id="aa"&gt; &lt;p&gt;adfadfasdfasdf&lt;/p&gt; &lt;p&gt;sadfasdf&lt;/p&gt;&lt;/div&gt;&lt;script language="javascript" type="text/javascript"&gt;//1,
(function($){$.a = $.constructor;})(document);alert(document.a);
function JObj1(){};(function($){$.a = $.constructor;})(JObj1);alert(JObj1.a);
JObj2 = {};(function($){$.a = $.constructor;})(JObj2);alert(JObj2.a);

(function($){$.event_ = function(){//只能应用在onmousemove,onmousedown等事件，//现在以知，不能用在 &lt;a href="javascript:****"&gt;里，但是可以用在 &lt;a onclick="****"&gt;里。if(window.event) return window.event;var func = $.event_.caller;var evt;while(func != null){evt = func.arguments[0];if(evt &amp;&amp; evt.constructor == Event)break;func = func.caller;}return evt;}})(window);
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function vControl(pChoice){switch(pChoice){case "EVENT":var evt = event_();alert((evt.target || evt.srcElement).tagName);break;}}
var arr = [" 2 || 0"," 0 || 2 "," 0 || 1 "," 0 || 0 "," 0 || 'a' "," 'a' || 0 "];
for(var i=0;a = arr[i];i++){document.write(a," = ",eval(a),"&lt;br /&gt;");}&lt;/script&gt;

日志标题：让滚轮指挥滚动条左右滚动
发表时间：2007-8-16 17:45:00
日志内容：Opera下，document才有onmousewheel这个事件（???未考证，反正div不行），Safari下，和IE一样！Firefox下要用DOMMouseScroll，靠，显的FF多牛B似的！
还有一个，在Opera下，
document.onmousewheel = mouse_wheel_opera;var mouse_wheel_opera = function(e){//alert(window.event == e); //Opera 下，window.event 和 e 相等var obj = e.srcElement;if(obj == apDiv1){mouse_wheel(e);}}
window.event == e
注意噢！
下面代码支持：IE7,Firefox2,Opera9,Safari,其它的没有测试。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--#apDiv1 {position:absolute;left:185px;top:81px;width:564px;height:175px;background-color: #99FFFF;overflow:auto;}#apDiv2{width:2000px;position:relative;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="apDiv1"&gt; &lt;div id="apDiv2"&gt;asdads&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;var Browser = function(){var d_ = document,n_ = navigator,t_ = this,s_= screen; var b = n_.appName; var ua = n_.userAgent.toLowerCase(); t_.name = "Unknow";t_.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera t_.opera = ua.indexOf("opera")&gt;-1; // before ns or iet_.firefox = !t_.safari &amp;&amp; ua.indexOf('firefox')&gt;-1; // check for gecko engine t_.ns = !t_.firefox &amp;&amp; !t_.opera &amp;&amp; !t_.safari &amp;&amp; (b=="Netscape"); t_.ie = !t_.opera &amp;&amp; (b=="Microsoft Internet Explorer");t_.name = (t_.ie ? "IE" : (t_.firefox ? "Firefox" : (t_.ns ? "Netscape" : (t_.opera ? "Opera" : (t_.safari ? "Safari" : "Unknow")))));}
var brw = new Browser();
var apDiv1 = document.getElementById("apDiv1");var perWidth = apDiv1.clientWidth / 2;
var mouse_wheel = function(e){var evt = window.event || e;if(evt.detail &gt; 0 || evt.wheelDelta &lt; 0)apDiv1.scrollLeft += perWidth;elseapDiv1.scrollLeft -= perWidth;}
var mouse_wheel_opera = function(e){//alert(window.event == e); //Opera 下，window.event 和 e 相等var obj = e.srcElement;if(obj == apDiv1){mouse_wheel(e);}}switch(brw.name){case "IE":case "Safari":apDiv1.onmousewheel = mouse_wheel;break;case "Firefox":apDiv1.addEventListener("DOMMouseScroll", mouse_wheel, false);break;case "Opera":document.onmousewheel = mouse_wheel_opera;break;}&lt;/script&gt;

日志标题：JTrackBar的高级应用JScroll模拟滚动条
发表时间：2007-8-17 12:58:00
日志内容：以知BUG：在Safari下，可能是CSS下载跟不上JS的速度，所以最初显示有问题。需要点那两个按钮，换一下皮肤，才可正常显示。----------------------------------------------------------------------JTrackBar初始日期：2007/07/11Author:xlingFairyBlog:http://xling.blueidea.com目前只能生水平的，垂直的还没有写。设计功能：当改变时，触发事件onChange,并传当前值。2007/07/12加入拖动功能。2007/07/13加入皮肤功能2007/08/06加入垂直的。并修正一个setRange带来的BUG.2007/08/07对IE和FF加入鼠标中轮响应2007/08/17改善鼠标拖动行为。加入：oBtnPointerMArea。并加入对Opera和safari的鼠标中轮响应。未做功能：指定trackFrequence，你可以自己试着修改一下。请尊重劳动成果！不得删除原作都信息！后果自负！----------------------------------------------------------------------JTrackBar:UploadFiles/2007-8/817629290.rar
JScroll:UploadFiles/2007-8/817251525.rar

日志标题：自适应内容高度的收缩与展开
发表时间：2007-8-17 13:14:00
日志内容：在FF下，如果内容含有FLASH，FLASH不会被隐藏掉，做为变通，我在收缩完成之后，将生成的内容容器隐藏掉了。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;function $(id){return document.getElementById(id)};function $c(tag){return document.createElement(tag)};function $evt(){//只能应用在onmousemove,onmousedown等事件，//现在以知，不能用在 &lt;a href="javascript:****"&gt;里，但是可以用在 &lt;a onclick="****"&gt;里。var func = $evt.caller;var evt;while(func != null){evt = func.arguments[0];if(evt &amp;&amp; evt.constructor == Event)break;func = func.caller;}return evt;}
function vControl(pChoice,pParm){switch(pChoice){case "OPENCLOSE":var evt = window.event || $evt();var obj = evt.srcElement || evt.target;if(obj.tagName == "INPUT") return;obj = $(pParm);var expanded = (obj.style.display == "none" ? true : false);obj.style.display = "";if(!obj.fNode){var fNode = $c("DIV");obj.parentNode.insertBefore(fNode,obj);fNode.appendChild(obj);obj.fNode = true;fNode.style.overflow = "hidden";fNode.maxHeight = fNode.offsetHeight;fNode.perHeight = 35;}elsevar fNode = obj.parentNode;var max_ = obj.offsetHeight;if(fNode.expanded == undefined){fNode.expanded = expanded;if(expanded){fNode.style.overflow = "hidden";fNode.style.height = "0px";}}elsefNode.expanded = !fNode.expanded;fNode.currHeight = fNode.expanded ? fNode.offsetHeight : 0;//fNode.style.height = fNode.currHeight + "px";fNode.style.overflow = "hidden";fNode.interval = setInterval("expand('" + pParm + "'," + fNode.expanded + ")",10);break;case "CHANGECOLOR":pParm.style.backgroundColor = "#e4e4e4";pParm.style.cursor = "pointer";break;case "RESETCOLOR":pParm.style.backgroundColor = "";break;case "CHANGESUBCOLOR":pParm.className = arguments[2];case "RESETSUBCOLOR":pParm.className = arguments[2]}}
function expand(pId,pParm){var obj = $(pId).parentNode;if(pParm){var h_ = obj.offsetHeight + obj.perHeight;if(h_ &gt;= obj.maxHeight){h_ = obj.maxHeight;obj.style.overflow = "visible";clearInterval(obj.interval);}obj.style.height = h_ + "px";obj.style.display = "";}else{obj.style.overflow = "hidden";var h_ = obj.offsetHeight - obj.perHeight;if(h_ &lt;= 0){h_ = 0;clearInterval(obj.interval);obj.style.display="none";}obj.style.height = h_ + "px";}}&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;&lt;button onclick="vControl('OPENCLOSE','aa')"&gt;aaaa&lt;/button&gt;&lt;button onclick="vControl('OPENCLOSE','bb')"&gt;bbbb&lt;/button&gt;&lt;table width="100%" border="0"&gt; &lt;tr&gt; &lt;td width="50%" valign="top"&gt;&lt;div id="aa" style="display:none"&gt;&lt;table width="200" border="1"&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/td&gt; &lt;td valign="top"&gt;&lt;div id="bb"&gt; &lt;table width="200" border="1"&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/div&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：Javascript操作cookie的类。
发表时间：2007-8-21 13:01:00
日志内容：看了OReilly.JavaScript.The.Definitive.Guide.5th.Edition.Aug.2006里的cookie的操作类，但是不符合需求。
看了网上广为转载的cookie操作类，但是我相信那些是有问题的（主要集中在：expires 、domain、path和secure上）。
我不保证我写的就是最好的，但是我保证绝对没有如上所述的问题。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;input type="button" name="button" id="button" value="Remove Cookies" onclick="window.cookie.remove( )" /&gt;&lt;script language="javascript" type="text/javascript"&gt;/*-------------------------------------------Author :xlingFairyBlog:http://xling.blueidea.com2007/08/21Custom Object Cookie.Note: It not equal to document.cookie-------------------------------------------*/function Cookie() {var self = this;var trim = function(str){return str.replace(/(^\s*)|(\s*$)/g, ""); }/*-------------------Private method init()When create a instance,all exists cookie will add as public property.-------------------*/var init = function(){var allcookies = document.cookie;if (allcookies == "") return;var cookies = allcookies.split(';');for(var i=0; i &lt; cookies.length; i++) // Break each pair into an arraycookies[i] = cookies[i].split('=');for(var i = 0; i &lt; cookies.length; i++) {self[trim(cookies[i][0])] = decodeURIComponent(cookies[i][1]);}}init();/*--------------------Public method save()--------------------*/this.save = function(daysToLive, path, domain, secure){var dt = (new Date()).getTime() + daysToLive * 24 * 60 * 60 * 1000;for(var prop in this) {if (typeof this[prop] == 'function')continue;var cookie = "";cookie = prop + '=' + encodeURIComponent(this[prop]);if (daysToLive || daysToLive == 0) cookie += ";expires=" + new Date(dt).toUTCString();if (path) cookie += ";path=" + path;if (domain) cookie += "; domain=" + domain;if (secure) cookie += ";secure";document.cookie = cookie;}}/*--------------------Public method remove()--------------------*/this.remove = function(path, domain, secure){self.save(0, path, domain, secure);/*-----------------------Must save(0) first then delete this object's propertyIf delete first,save(0) will not save anlything.-----------------------*/for(var prop in this) {if (typeof this[prop] != 'function')delete this[prop];}}}
var cookie = new Cookie("vistordata");
if (!cookie.uId) { cookie.uId = prompt("Please input you uId:","");cookie.save(10);}
document.write("Your userID is:" + cookie.uId);
var _idMap_img = document.createElement("IMG");_idMap_img.style.display = "none";document.body.appendChild(_idMap_img);_idMap_img.src = " http://www.***.net/track/setIDmapping.cgi?uid=" + cookie.uId + "&amp;cltId=xxxx";&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：自定义快捷，IE,FF有良好的支持
发表时间：2007-8-24 17:22:00
日志内容：这不是什么原创，是我跟据OReilly.JavaScript.The.Definitive.Guide.5th.Edition.Aug.2006中的例子修改的。
现在有几个问题：
IE，FF下控制的很好，
Opera下，不会把系统快捷键给屏蔽掉。Safari下，如果你按下的是系统快捷键，就不会响应给自定程序。CTRL+S不是safari的快捷键，可以看ctrl+s可以响应，ctrl+a,ctrl+d等，就得不到
水平有限，暂时（也可能永远）找不到解决办法。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;/*--------------------------------------------------------Opera下，不会把系统快捷键给屏蔽掉。Safari下，如果你按下的是系统快捷键，就不会响应给自定程序。CTRL+S不是safari的快捷键，可以看ctrl+s可以响应，ctrl+a,ctrl+d等，就得不到响应。---------------------------------------------------------*/function Browser(){var d_ = document,n_ = navigator,t_ = this,s_= screen; var b = n_.appName; var ua = n_.userAgent.toLowerCase(); t_.name = "Unknow";t_.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera t_.opera = ua.indexOf("opera")&gt;-1; // before ns or iet_.firefox = !t_.safari &amp;&amp; ua.indexOf('firefox')&gt;-1; // check for gecko engine t_.ns = !t_.firefox &amp;&amp; !t_.opera &amp;&amp; !t_.safari &amp;&amp; (b=="Netscape"); t_.ie = !t_.opera &amp;&amp; (b=="Microsoft Internet Explorer");t_.name = (t_.ie ? "IE" : (t_.firefox ? "Firefox" : (t_.ns ? "Netscape" : (t_.opera ? "Opera" : (t_.safari ? "Safari" : "Unknow")))));}
function JShortCut(){var self;var map = {};var brw = new Browser();this.bind = function(sc,func,doSysSc){map[sc] = func;if(doSysSc === false)map[sc].doSysShortCut = false;}this.unBind = function(sc){delete map[sc];}this.listen = function(elm){if(typeof elm == "string") elm = document.getElementById(elm);
if (elm.addEventListener) {//Safari,opera,firefoxelm.addEventListener("keydown", dispatch, false);elm.addEventListener("keypress", dispatch, false);}else if (elm.attachEvent) {//IEelm.attachEvent("onkeydown", dispatch);elm.attachEvent("onkeypress", dispatch);}else {elm.onkeydown = element.onkeypress = dispatch;}}var dispatch = function (evt){evt = evt || event;if (evt.type == "keydown") {var code = evt.keyCode;if (code == 16 || code == 17 || code == 18) return;keyname = JShortCut.KEYS[code];var modifiers = "";if (!keyname &amp;&amp; (evt.altKey || evt.ctrlKey))keyname = Keymap.keyCodeToPrintableChar[code];if (keyname) {if (evt.altKey) modifiers += "alt_";if (evt.ctrlKey) modifiers += "ctrl_";if (evt.shiftKey) modifiers += "shift_";}else{return;}}else if (evt.type == "keypress") {if (evt.altKey || evt.ctrlKey) return;if (evt.charCode != undefined &amp;&amp; evt.charCode == 0) return;var code = evt.charCode || evt.keyCode;keyname=String.fromCharCode(code);var lowercase = keyname.toLowerCase( );if (keyname != lowercase) {keyname = lowercase; // Use the lowercase form of the namemodifiers = "shift_"; // and add the shift modifier.}}var shortCut = modifiers+keyname;var target = evt.srcElement || evt.target;var func = map[shortCut]; if(typeof func == "function"){func(target,shortCut,evt);if(func.doSysShortCut === false){switch(brw.name){case "IE":evt.returnValue = false;evt.keyCode = 0;break;case "Firefox":evt.preventDefault();break;case "Opera":evt.returnValue = false;evt.preventDefault();break;case "Safari":evt.preventDefault();evt.returnValue = false;//for(o in evt)//document.write(o," ",typeof(eval("evt." + o))," = ",eval("evt." + o),"&lt;br /&gt;");}}}//return false;}}
JShortCut.KEYS = { 48:"0", 49:"1", 50:"2", 51:"3", 52:"4", 53:"5", 54:"6", 55:"7", 56:"8", 57:"9", 59:";", 61:"=", 65:"a", 66:"b", 67:"c", 68:"d", 69:"e", 70:"f", 71:"g", 72:"h", 73:"i", 74:"j", 75:"k", 76:"l", 77:"m", 78:"n", 79:"o", 80:"p", 81:"q", 82:"r", 83:"s", 84:"t", 85:"u", 86:"v", 87:"w", 88:"x", 89:"y", 90:"z", 107:"+", 109:"-", 110:".", 188:",", 190:".", 191:"/", 192:"'", 219:"[", 220:"\\", 221:"]", 222:"\"", 8:"backspace", 9:"tab", 13:"return", 19:"pause", 27:"escape", 32:"space", 33:"pageup", 34:"pagedown", 35:"end", 36:"home", 37:"left", 38:"up", 39:"right", 40:"down", 44:"printscreen", 45:"insert", 46:"delete", 112:"f1", 113:"f2", 114:"f3", 115:"f4", 116:"f5", 117:"f6", 118:"f7", 119:"f8", 120:"f9", 121:"f10", 122:"f11", 123:"f12", 144:"numlock", 145:"scrolllock"};&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="aa"&gt;&lt;/div&gt;&lt;p&gt;Opera下，不会把系统快捷键给屏蔽掉。&lt;br /&gt; Safari下，如果你按下的是系统快捷键，就不会响应给自定程序。&lt;br /&gt;CTRL+S不是safari的快捷键，可以看ctrl+s可以响应，ctrl+a,ctrl+d等，就得不到响应。&lt;/p&gt;&lt;p&gt;function doSys(target,shortCut,evt){&lt;br /&gt; document.getElementById(&amp;quot;aa&amp;quot;).innerHTML = shortCut;&lt;br /&gt; }&lt;/p&gt;&lt;p&gt;var sc = new JShortCut();&lt;br /&gt; sc.bind(&amp;quot;ctrl_a&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_n&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_p&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_o&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_s&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_w&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;alt_f4&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_f&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;ctrl_y&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;f1&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;f5&amp;quot;,doSys,false);&lt;br /&gt; sc.bind(&amp;quot;a&amp;quot;,doSys);&lt;br /&gt; sc.listen(document);&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function doSys(target,shortCut,evt){document.getElementById("aa").innerHTML = shortCut;}
var sc = new JShortCut();sc.bind("ctrl_a",doSys,false);sc.bind("ctrl_n",doSys,false);sc.bind("ctrl_p",doSys,false);sc.bind("ctrl_o",doSys,false);sc.bind("ctrl_s",doSys,false);sc.bind("ctrl_w",doSys,false);sc.bind("alt_f4",doSys,false);sc.bind("ctrl_f",doSys,false);sc.bind("ctrl_y",doSys,false);sc.bind("f1",doSys,false);sc.bind("f5",doSys,false);sc.bind("a",doSys);sc.listen(document);&lt;/script&gt;

日志标题：oninput & onpropertychange
发表时间：2007-8-27 18:23:00
日志内容：一直一来没有用心去找onpopertychange的替代品，今天看BI里有会员搜到了一个：oninput,我也做一下标记。
oninput for FF/Opera/Safari/NetScapeonpopertychange IE only;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;oninput&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;input type="text" id="aa" onpropertychange="change()" oninput="change()" /&gt;&lt;input type="text" id="bb" /&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;//oninput for FF/Opera/Safari/NetScape//onpopertychange IE only;function change(){document.getElementById("bb").value = document.getElementById("aa").value;}&lt;/script&gt;

日志标题：javascript&nbsp;的&nbsp;in&nbsp;操作符实例详解
发表时间：2007-8-30 15:13:00
日志内容：以下摘录自 OReilly.JavaScript.The.Definitive.Guide.5th.Edition.Aug.2006
The in Operator
The in operator expects a left-side operand that is or can be converted to a string. It expects a right-side operand that is an object (or array). It evaluates to TRue if the left-side value is the name of a property of the right-side object. For example:var point = { x:1, y:1 };        // Define an object
var has_x_coord = "x" in point;  // Evaluates to true
var has_y_coord = "y" in point;  // Evaluates to true
var has_z_coord = "z" in point;  // Evaluates to false; not a 3-D point
var ts = "toString" in point;    // Inherited property; evaluates to true
以下是我的总结，保存自本地运行：&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;var aa = ["a","b",,"D"];document.write('var aa = ["a","b",,"D"];'.link("Array"),"&lt;br /&gt;");for(var i=-1;i&lt;aa.length + 1;i++){document.write(i.toString().fontcolor("#cc6600")," in aa : ",(i in aa).toString().italics(),"&lt;br /&gt;");}var bb = {name:"xling",sex:"male"}document.write('var bb = {name:"xling",sex:"male"}'.link("Object"),"&lt;br /&gt;");document.write("name".fontcolor("#cc6600")," in bb :",("name" in bb).toString().italics(),"&lt;br /&gt;","sex".fontcolor("#cc6600")," in bb :",("sex" in bb).toString().italics(),"&lt;br /&gt;","birthday".fontcolor("#cc6600")," in bb :",("birthday" in bb).toString().italics(),"&lt;br /&gt;");var CC = function(){this.name = "xling";this.sex = "male";this.birthday = "****";this.getAge = function(){return "***"}var add = function(){return "";}}var cc = new CC();document.write("var cc = new CC();".link("Instance of CC (Custom Class)"),"&lt;br /&gt;");document.write("name".fontcolor("#cc6600")," in cc :",("name" in cc).toString().italics(),"&lt;br /&gt;","sex".fontcolor("#cc6600")," in cc :",("sex" in cc).toString().italics(),"&lt;br /&gt;","birthday".fontcolor("#cc6600")," in cc :",("birthday" in cc).toString().italics(),"&lt;br /&gt;","getAge()".fontcolor("#cc6600")," in cc :",("getAge" in cc).toString().italics(),"&lt;br /&gt;","add()".fontcolor("#cc6600")," in cc :",("add" in cc).toString().italics(),"&lt;br /&gt;");&lt;/script&gt;

日志标题：大小写的ID
发表时间：2007-9-3 11:34:00
日志内容：很是郁闷，document.getElementById(***)在IE7下可以得到值，但是在FF下却是打死也没有值！郁闷了老长一段时间，猛然发现我把id的大小写给弄错了，但是在IE7下可以得到。如下例：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;a href="http://www.baidu.com" id="BaiDu"&gt;百度&lt;/a&gt;&lt;script language="javascript" type="text/javascript"&gt;var bd = document.getElementById("baidu");alert(bd);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：应网友要求，JMenuTab加入onmouseover支持。
发表时间：2007-9-3 13:13:00
日志内容：收件人： xling 发件人： agonymoo 发送时间： 2007-9-1 16:59:00 标题： 你好-关于您的tab菜单问题 内容： 能够提供可选onmouseoveronmouseclick2种方式切换tab能够去掉 某某某-&gt;某某某 的功能,可以减少点字节,很多cms都带有当前位置的导航功能 
onmouseover的功能：请见压缩包里的demo5.html
onmouseclick是默认的行为，我不想做修改。
对于：能够去掉 某某某-&gt;某某某 的功能,可以减少点字节,很多cms都带有当前位置的导航功能 这个没必要！这是它的一个设计功能。去掉也不见得能少了多少字节。另外，提醒您一句：如果有幸JMenuTab被您选中并使用，请保留作者信息，否则后果自否！
源码：UploadFiles/2007-9/93525483.rar

日志标题：修改<STYLE>元素内的CSS！
发表时间：2007-9-11 15:33:00
日志内容：大部分应用都是直接修改某个HTML元素的style或className属性来完成修改外观的。假如现在要求把N多个具有相同className的HTML元素的外观统一调整，相信很多人都会用循环。
如果屈指可数的话，当然可以。但是如果N是一个很大的数呢？用循环略显示的有些弱智。我的JGrid用的也是上面的笨方法（汗...）
下面我要演示的方法不常见，但也不是说以前就没有这样做的，只不过我们很少用而以（基本上没有人会去考虑）：直接修改&lt;style&gt;里定义的CSS。


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--* {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;}.height {height:200px;}.width {width:200px;}.color{background-color:#CCCCCC;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;hr /&gt;Color:&lt;br /&gt;&lt;input type="radio" name="radio" id="radio" value="#ff0000" onclick="c(this)" /&gt;#ff0000&lt;input type="radio" name="radio" id="radio2" value="#ff00ff" onclick="c(this)" /&gt;#ff00ff&lt;input type="radio" name="radio" id="radio3" value="#cc6600" onclick="c(this)" /&gt;#cc6600 &lt;input type="radio" name="radio" id="radio4" value="#000000" onclick="c(this)" /&gt;#000000&lt;hr /&gt;Width:&lt;input type="text" name="textfield" id="textfield" oninput="w(this)" onpropertychange="w(this)" /&gt;Height:&lt;input type="text" name="textfield2" id="textfield2" oninput="h(this)" onpropertychange="h(this)" /&gt;&lt;table border="1"&gt; &lt;tr&gt; &lt;td class="height width color"&gt;&lt;/td&gt; &lt;td class="height width color"&gt;&lt;/td&gt; &lt;td class="height width color"&gt;&lt;/td&gt; &lt;td class="height width color"&gt;&lt;/td&gt; &lt;td class="height width color"&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;var o;var obj = document.styleSheets[0];var rules = obj.rules || obj.cssRules;
var styleObj = {};var selectorText,readonly,style,cssText;for(var i=0;o=rules[i];i++){selectorText = o.selectorText;//readonly = new String(o.readOnly); IE//cssText = o.cssText; FFstyle = o.style;document.write(selectorText.fontcolor("#ff0000"),"&lt;br /&gt;");styleObj[selectorText] = style;}
function c(obj){if(obj.checked)styleObj[".color"].backgroundColor = obj.value;}
function h(obj){try{styleObj[".height"].height = parseInt(obj.value) + "px";}catch(e){}}
function w(obj){try{styleObj[".width"].width = parseInt(obj.value) + "px";}catch(e){}}&lt;/script&gt;

日志标题：JMenuTab简单使用说明
发表时间：2007-9-12 9:04:00
日志内容：代码示例：var menuLeft = new JMenuTab(null,null,"left");menuLeft.create();menuLeft.setSkin("JMenuTabBlue");menuLeft.setFixHeight(400,false,false,true);menuLeft.addTab("About");menuLeft.addTab("Xling");menuLeft.setActiveTab(0);
1，构造：function JMenuTab(pWidth,pHeight,pBody)如果不指明pWidth，就是100%，如果不指明pHeight，就会有个默认的高度，如果不指明pBody，就在BODY的最后显示。注：如果不指定，需用null代替，下面的写法都是正确的：var menuLeft = new JMenuTab(null,null,"left");var menuLeft = new JMenuTab(null,null,null);var menuLeft = new JMenuTab();var menuLeft = new JMenuTab(100,100);
2，初始创建：this.create = function()这个函数要紧跟在new JMenuTab(...)后。
3，设置皮肤：this.setSkin = function(pSkin)pSkin来自CSS文件，比如：#JMenuTabGreen {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;padding: 2px;border-right-width: 1px;border-bottom-width: 1px;border-left-width: 1px;}#JMenuTabGreen .oInnerline {background-color: #FFFFFF;}那么这个pSkin就可以取:JMenuTabGreen 

4，设置固定（最小）高度：this.setFixHeight = function(pHeight,pAutoExpend,pXScroll,pYScroll)pHeight，即指最小高度。pAutoExpend，指是否自动扩展（如果内容高度大于pHeight），可为null,可不填pXScroll，指是否显示水平滚动轴，可为null,可不填。pYScroll，指是否显示垂直滚动轴，可为null,可不填。
5，添加标签：this.addTab = function (pLabel,pPageBodyId)pLabel，指标签上的文字。pPageBodyId,指标签内容容器（DIV,IFRAME,TABLE等）的ID，可为null,可不填。
6，作为普通面板使用，即没有标签：this.setDefaultPage = function(pPageBodyId)使用这个，就不要在使用addTab了，pPageBodyId和addTab的pPageBodyId一样，但是：必填。
7，设置当前标签：this.setActiveTab = function(pIndex)pIndex是数字，从0开始，如果这个index不存在，就不设置。

日志标题：放弃兼容Opera 8
发表时间：2007-9-12 11:33:00
日志内容：经过测试，Opera8 (Opera 9 以下的版本)，不支持Form 的属性：enctype的值为："text/plain".
以下是抓包：
POST http://www.baidu.com/ HTTP/1.0User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; zh-cn) Opera 8.0Host: www.baidu.comAccept: text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1Accept-Language: zh-cn, enAccept-Charset: gbk, utf-8, utf-16, iso-8859-1;q=0.6, *;q=0.1Accept-Encoding: deflate, gzip, x-gzip, identity, *;q=0Proxy-Authorization: Basic bmlja3I6MjAyNzIwbmljaw==Proxy-Connection: closeContent-Type: application/x-www-form-urlencodedContent-Length: 62
textarea=a%3Db%0D%0Ac%3Dd%0D%0Ae%3Df&amp;button=%E6%8F%90%E4%BA%A4

POST http://www.baidu.com/ HTTP/1.1Accept: */*Accept-Language: zh-cnContent-Type: text/plainUA-CPU: x86Accept-Encoding: gzip, deflateUser-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; TencentTraveler ; InfoPath.2; .NET CLR 2.0.50727)Host: www.baidu.comContent-Length: 39Proxy-Connection: Keep-AlivePragma: no-cacheCookie: BAIDUID=4FAADCED051C9D783F7C6398B1D52AB3Proxy-Authorization: Basic bmlja3I6MjAyNzIwbmljaw==
textarea=a=bc=de=fbutton=浜

POST / HTTP/1.1Host: www.baidu.comUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6Accept: application/x-shockwave-flash,text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5Accept-Language: en-us,en;q=0.5Accept-Encoding: gzip,deflateAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7Keep-Alive: 300Proxy-Connection: keep-aliveCookie: BAIDUID=1AFCAA63A05948B65D2A5BACC30A5BFCProxy-Authorization: Basic bmlja3I6MjAyNzIwbmljaw==Content-Type: text/plainContent-Length: 33
textarea=a=bc=de=fbutton=肖

另外：在Opera 8下，用document.createElement("&lt;form name='f1'&gt;")来生成一个Form的话，实际生成的是：
&lt;&lt;form name='f1'&gt;&gt;&lt;&lt;/form name='f1'&gt;&gt;
而且不会报错，以至于我写好的代码工作出现问题：

if(!($.$c instanceof Function)) $.$c = function(tag,name){try{if(typeof name == "string")return d_.createElement("&lt;" + tag + " name='" + name + "'&gt;");elsereturn d_.createElement(tag);}catch(e){return d_.createElement(tag);}}

还有，在设置属性的时候，Opera 8 必须用setAttribute，最BT的是：
div_.style.cssText = "width:0px;height:0px;overflow:hidden";//Can not remove it,it for IEdiv_.setAttribute("style","width:0px;height:0px;overflow:hidden");//For Opera 8
如果只写上面一句的话，在opera 8下，div_就没有style属性！
汗。。。
以上所述问题在 Opera 9下不存在。

日志标题：iframe cookie的设置问题
发表时间：2007-9-13 18:06:00
日志内容：
做了一下测试，
环境：IE7
两个域名：www.testa.com www.testb.com
在testa.com的一个页里，用iframe请求testb.com的一个页面。
两个页里均设置cookie,发现只有testa.com的cookie设置成功，testb.com的cookie设置不成功。
示例代码如下，以证明：
testa.com

&lt;?phpsetcookie("pId","nickr",time()+3600);?&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;script language="javascript" type="text/javascript"&gt;document.write(document.cookie,"&lt;br /&gt;");&lt;/script&gt;&lt;iframe src="http://www.testb.com/test/b.php"&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt;

testb.com

&lt;?phpsetcookie("aId","xling",time()+3600);?&gt;&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;script language="javascript" type="text/javascript"&gt;document.write(document.cookie);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

运行后，抓图：

iframe页的cookie没有显示！说明testb.com的cookie设置不成功！
Over!此乃跨域问题！

日志标题：[教程]给自定义对象加上自定义事件的支持！
发表时间：2007-9-24 13:30:00
日志内容：自从我写了几个还可以拿出手的东东之后，自我感觉牛B了许多，还有不少同志围着我，称我为高手，虚容心大大的得到了满足。这些是后话，暂且不表。。。
论坛里有位小鸟，发邮件给我，要我给他添加一个功能，自定义事件！
如贴：http://bbs.blueidea.com/viewthread.php?tid=2793794&amp;highlight=
我一般是不看别人写的代码的，为啥？累！而且这位同志给的还是经过压缩的！汗。。。考我是不是？还有，这位同志也不给个示例的代码，只说是代码没有问题。我努力的试着去“破解”，但是脑细胞死的太快了！在我没有变成白痴之前，我毅然决定，不在往下看下去。不就是给自定的对象加入自定事件的支持吗？我写个示例吧，就算是教程了，如果看不懂，我也没有办法了！我不会傻到给你写好代码，让你拿去卖钱的！
好了，下面是我写的代码，注意看了：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;自定义事件&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--.JCEventDemo {border: thick dotted #0000FF;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="div1"&gt;&lt;/div&gt;&lt;div id="div2"&gt;&lt;/div&gt;&lt;div id="div3"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;function JCEvent(pParent){var self = this;var body = JCEvent.$(pParent) || document.body;var oOutline = null;var outline_click = function(){if(self.onClick instanceof Function)self.onClick();}this.create = function(){oOutline = JCEvent.$c("DIV");body.appendChild(oOutline);oOutline.onclick = outline_click;if(typeof this.onCreate == "function")this.onCreate();}this.getOutline = function(){return oOutline;}this.setSkin = function(pSkin){var oldSkin = oOutline.className;oOutline.className = pSkin;if(typeof this.onChangeSkin == "function")this.onChangeSkin(oldSkin,pSkin);}this.getSkin = function(){return oOutline.className;}}
(function($){$.$ = function(p){return (typeof(p) != "object") ? document.getElementById(p) : p;}$.$c = function(pTag){return document.createElement(pTag);}$.$css = function(pKey,pValue,p){var obj = p ? $.$(p) : this;obj.style[pKey] = pValue;obj.$css = $.$css;return obj;}})(JCEvent);
var c1 = new JCEvent("div1");c1.onCreate = function(){alert("onCreate事件\n创建 c1");}c1.onChangeSkin = function(pOld,pNew){alert("onChangeSkin事件\n设置c1的皮肤：\n新皮肤：" + pNew + "\n旧皮肤：" + pOld);}c1.onClick = function(){this.setSkin(this.getSkin() == "JCEventDemo" ? "" : "JCEventDemo");}c1.create();JCEvent.$css("top","20px",c1.getOutline()).$css("left","100px").$css("backgroundColor","#ff00ff").$css("height","100px").$css("width","100px").$css("position","absolute");
var c2 = new JCEvent("div2");c2.onCreate = function(){alert("onCreate事件\n创建 c2");}c2.onChangeSkin = function(pOld,pNew){alert("onChangeSkin事件\n设置c2的皮肤：\n新皮肤：" + pNew + "\n旧皮肤：" + pOld);}c2.onClick = function(){this.setSkin(this.getSkin() == "JCEventDemo" ? "" : "JCEventDemo");}c2.create();JCEvent.$css("top","60px",c2.getOutline()).$css("left","200px").$css("backgroundColor","#00ff00").$css("height","100px").$css("width","200px").$css("position","absolute");var c3 = new JCEvent("div3");c3.create();JCEvent.$css("top","70px",c3.getOutline()).$css("left","300px").$css("backgroundColor","#cc6600").$css("height","100px").$css("width","150px").$css("position","absolute");c1.setSkin("JCEventDemo");c1.getOutline().innerHTML = "Click me!";c2.getOutline().innerHTML = "Click me!";c3.getOutline().innerHTML = "Don't click me!";&lt;/script&gt;
示例中，自定义了一个：JCEvent，c1,c2,c3都是这它的实例。每个实例都有一个oOutline，我一般用它来做为对象的容器。pParent是用来指示自定义对象在哪里显示的,也就相当于占位符吧，如果不指定，就是document.body。
示例中，我定义了三个自定事件：onCreate,onChangeSkin,onClickonCreate 在 create方法里触发。onChangeSkin在setSkin方法里触发。onClick在oOutline.onclick里触发。
调用顺序：由于onCreate是在create方法里调用的，所以c1.onCreate要在c1.create()之前声明。
事件的参数，见：
this.setSkin = function(pSkin){var oldSkin = oOutline.className;oOutline.className = pSkin;if(typeof this.onChangeSkin == "function")this.onChangeSkin(oldSkin,pSkin);}
this.onChangeSkin(oldSkin,pSkin);这样，你就可以在每个实例里运用oldSkin和newSkin了。
如：c1.onChangeSkin = function(pOld,pNew){alert("onChangeSkin事件\n设置c1的皮肤：\n新皮肤：" + pNew + "\n旧皮肤：" + pOld);}
另外，示例中：
$.$css = function(pKey,pValue,p){var obj = p ? $.$(p) : this;obj.style[pKey] = pValue;obj.$css = $.$css;return obj;}
这一段，写成Object.prototype.$css = function(...)是绝对不成功的，至于为什么，就不是这里的讨论范围。
没话可说了，就留空白吧，看不懂的同志，在补补你们的javascript知识。说点题外话：不要老是整jQuery,prototype,json等。

日志标题：P3P IE设置第三方COOKIE
发表时间：2007-9-26 10:13:00
日志内容：详见：http://www.dup2.org/node/384
header('P3P: CP="CURa ADMa DEVa PSAo PSDo OUR BUS UNI PUR INT DEM STA PRE COM NAV OTC NOI DSP COR"'); header('P3P: CP="CAO DSP COR CURa ADMa DEVa OUR IND PHY ONL UNI COM NAV INT DEM PRE"');

日志标题：连续操作HTMLElement对象
发表时间：2007-9-27 13:50:00
日志内容：Object.prototype.***不能用作在HTMLElement对象上，如本后面的抓图所示。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;var JObj = {};(function($){$.$ = function(p){var obj = typeof(p) == "object" ? p : document.getElementById(p);assignFn(obj);return obj;}$.$appendTo = function(f,p){var obj = p ? $.$(p) : this;$.$(f).appendChild(obj);assignFn(obj);return obj;}$.$c = function(p,n){var obj;try{obj = document.createElemnet("&lt;" + p + " name='" + n + "'&gt;");}catch(e){obj = document.createElement(p);obj.name = name;}assignFn(obj);return obj;}$.$att = function(k,v,p){var obj = p ? $.$(p) : this;obj.setAttribute(k,v);obj[k] = v;obj.$att = $.$att;assignFn(obj);return obj;}$.$css = function(k,v,p){var obj = p ? $.$(p) : this;obj.style[k] = v;obj.$css = $.$css;assignFn(obj);return obj; }var fv = function(){var f="-1",n=navigator;if (n.plugins &amp;&amp; n.plugins.length) {for (var ii=0;ii&lt;n.plugins.length;ii++) {if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {f=n.plugins[ii].description.split('Shockwave Flash ')[1];break;}}} else if (window.ActiveXObject) {for (var ii=10;ii&gt;=2;ii--) {try {var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if (fl) { f=ii + '.0'; break; }}catch(e) {}}}if(f == "-1") return f;else return f.substring(0,f.indexOf(".")+2)}$.browser = {};(function($){//Notice : Firefox ,NS can't use property: name (case sensitive)! Because it's a hold field ,and it's values is anonymous.var n_ = navigator,s_ = screen;var b = n_.appName;var ua = n_.userAgent.toLowerCase();$.Name = "Unknow";$.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera$.opera = ua.indexOf("opera")&gt;-1; // before ns or ie$.firefox = ua.indexOf('firefox')&gt;-1; // check for gecko engine$.ns = !$.firefox &amp;&amp; !$.opera &amp;&amp; !$.safari &amp;&amp; (b=="Netscape");$.ie = !$.opera &amp;&amp; (b=="Microsoft Internet Explorer");$.Name = ($.ie ? "IE" : ($.firefox ? "Firefox" : ($.ns ? "Netscape" : ($.opera ? "Opera" : ($.safari ? "Safari" : "Unknow")))));switch($.Name){case "Opera":$.fullVersion = ua.substr(ua.indexOf("opera") + 6);break;case "IE":$.fullVersion = ua.substr(ua.indexOf("msie") + 5).split(";")[0];break;case "Firefox":$.fullVersion = ua.substr(ua.indexOf("firefox") + 8);break;case "Safari":$.fullVersion = ua.substr(ua.indexOf("version") + 8).split(" ")[0];break;case "Netscape":$.fullVersion = ua.substr(ua.indexOf("netscape") + 9);break;default:$.fullVersion = "-1";}$.version = parseFloat($.fullVersion);})($.browser); var fn = {};(function($,$$){var o;for(o in $$){if(eval("$$." + o) instanceof Function)$[o] = o;}})(fn,$);var assignFn = function(p){if(!p) return;var o;for(o in fn){p[o] = $[o];}}})(JObj);&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;script language="javascript" type="text/javascript"&gt;var width = 200;var height = 200;var oOutline = JObj.$c("DIV").$appendTo(document.body).$css("width",width + "px").$css("height",height + "px").$att("class","oOutline").$att("className","oOutline").$css("backgroundColor","#cc6600");alert(JObj.browser.Name + " " + JObj.browser.fullVersion)&lt;/script&gt;



日志标题：为什么不自己来搞个JS框架呢？
发表时间：2007-9-29 16:17:00
日志内容：早就有这个想法，但是一想到jQuery那么强大，就在打退堂鼓，到底要不要写？写了有什么意义？
偶然间，我写了一个架子，于是坚持到现在（汗。。。还没有两天，不会就热这么两天吧！）
这个架子现在就定了如下几个小架子：
1，Ajax 它里面就实现了一个getXMLHttp()方法。
2，Browser，这个架子里全是浏览器的信息。
3，Cookie，这个架子是用来操作cookie的，如何操作请见：http://xling.blueidea.com/archives/2007/5415.shtml现在还不是写文档的时候，所以，就不详细的说明了。
4，Dom，跟风jQuery的链式操作，但是还不得要领（绝对没有抄袭，因为现在的架子太简单了，信息我自己，就是太复杂，也不会去抄袭）。
5，Error 和 StyleSheet 这两个只是架子而以。
还要陆陆续续的加入Keyboard，Manager，Animation,UI等，如果我能坚持下来，这些东东我都会加上去的！汗，我能坚持下来吗？


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;(function($){$.isPercent = function(p){return /^(\d*)(\.?)(\d*)%$/.test(p);}var __alert__ = $.alert;$.alert = function(){var arg,s="";for(var i=0;arg = arguments[i];i++){s += arg + "\n"}__alert__(s);}})(window);
String.prototype.trim = function(){return this.replace(/(^\s*)|(\s*$)/g, ""); }
var JObj = {};(function($){
/*----------------------------------------------------------------------------ConfigPrivate----------------------------------------------------------------------------*/
var Config = {};(function($){$.Const= {};$.Path= {};$.loadedModule= {};})(Config)$.$getConfigConst = function(){return Config.Const;}$.$getConfigPath = function(){return Config.Path;}$.$getConfigLoaded = function(){return Config.LoadedModule;}/*----------------------------------------------------------------------------ErrorJObj.Error----------------------------------------------------------------------------*/$.Error = {};(function($){$.debug = true;var ErrorList = {};$.$pushError = function(msg,e){}})($.Error)/*----------------------------------------------------------------------------Dom operaterJObj.Dom Object----------------------------------------------------------------------------*/var DomObj = function(p){var $ = this;var object = p;$.$appendTo = function(f){JObj.Dom.$(f).appendChild(object);return $;}$.$attr = function(k,v){object.setAttribute(k,v);object[k] = v;return $;}$.$attrs = function(rule){var k;for(k in rule){$.$attr(k,rule[k]);}return $;}$.$css = function(k,v){object.style[k] = v;return $;}$.$csss = function(rule){var k;for(k in rule)$.$css(k,rule[k]);return $;}}$.Dom = {};(function($,$$){$.$ = function(p){var o = typeof(p) == "object" ? p : document.getElementById(p);var obj = new DomObj(o);return obj;}$.$tag = function(p){var o = document.getElementsByTagName(p);//var obj = new DomObj();//return obj;return o;}$.$c = function(p,n){var o;try{if(n) o = document.createElemnet("&lt;" + p + " name='" + n + "'&gt;");else o = document.createElement(p);}catch(e){o = document.createElement(p);o.name = name;}var obj = new DomObj(o);return obj;}})($.Dom,$)/*----------------------------------------------------------------------------------Browser checkJObj.Browser Object----------------------------------------------------------------------------------*/$.Browser = {};(function($){var $fv = function(){var f="-1",n=navigator;if (n.plugins &amp;&amp; n.plugins.length) {for (var ii=0;ii&lt;n.plugins.length;ii++) {if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {f=n.plugins[ii].description.split('Shockwave Flash ')[1];break;}}} else if (window.ActiveXObject) {for (var ii=10;ii&gt;=2;ii--) {try {var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if (fl) { f=ii + '.0'; break; }}catch(e) {}}}if(f == "-1") return f;else return f.substring(0,f.indexOf(".")+2)}//Notice : Firefox ,NS can't use property: name (case sensitive)! Because it's a hold field ,and it's values is anonymous.var n_ = navigator,s_ = screen;var b = n_.appName;var ua = n_.userAgent.toLowerCase();$.name = "Unknow";$.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera$.opera = ua.indexOf("opera")&gt;-1; // before ns or ie$.firefox = ua.indexOf('firefox')&gt;-1; // check for gecko engine$.ns = !$.firefox &amp;&amp; !$.opera &amp;&amp; !$.safari &amp;&amp; (b=="Netscape");$.ie = !$.opera &amp;&amp; (b=="Microsoft Internet Explorer");$.name = ($.ie ? "IE" : ($.firefox ? "Firefox" : ($.ns ? "Netscape" : ($.opera ? "Opera" : ($.safari ? "Safari" : "Unknow")))));switch($.name){case "Opera":$.fullVersion = ua.substr(ua.indexOf("opera") + 6);break;case "IE":$.fullVersion = ua.substr(ua.indexOf("msie") + 5).split(";")[0];break;case "Firefox":$.fullVersion = ua.substr(ua.indexOf("firefox") + 8);break;case "Safari":$.fullVersion = ua.substr(ua.indexOf("version") + 8).split(" ")[0];break;case "Netscape":$.fullVersion = ua.substr(ua.indexOf("netscape") + 9);break;default:$.fullVersion = "-1";}$.version = parseFloat($.fullVersion);$.flashVersion = $fv();$.cookieEnabled = n_.cookieEnabled;$.javaEnabled = n_.javaEnabled();})($.Browser);/*----------------------------------------------------------------------------------Cookie OperateJObj.Cookie Object----------------------------------------------------------------------------------*/$.Cookie = {};(function($){$.$get = function(){var cookies = document.cookie;if (cookies == "") return;cookies = cookies.split(';');for(var i=0; i &lt; cookies.length; i++) // Break each pair into an arraycookies[i] = cookies[i].split('=');for(var i = 0; i &lt; cookies.length; i++) {$[(cookies[i][0]).trim()] = decodeURIComponent(cookies[i][1]);}}$.$get();$.$save = function(daysToLive, path, domain, secure){var dt = (new Date()).getTime() + daysToLive * 24 * 60 * 60 * 1000;for(var prop in $) {if (typeof $[prop] == 'function')continue;var cookie = "";cookie = prop + '=' + encodeURIComponent(this[prop]);if (daysToLive || daysToLive == 0) cookie += ";expires=" + new Date(dt).toUTCString();if (path) cookie += ";path=" + path;if (domain) cookie += "; domain=" + domain;if (secure) cookie += ";secure";document.cookie = cookie;}}$.$remove = function(path, domain, secure){$.save(0, path, domain, secure);for(var prop in this) {if (typeof this[prop] != 'function')delete this[prop];}}})($.Cookie);/*------------------------------------------------------------------------------StyleSheets Operate;------------------------------------------------------------------------------*/$.styleSheets = {};/*------------------------------------------------------------------------------Ajax Operate;------------------------------------------------------------------------------*/$.Ajax = {};(function($,$$){$.$getXMLHttp = function(){var xmlHttp = null;if($$.Browser.ie &amp;&amp; $$.Browser.version &lt; 7){var v = ['MSXML2.XMLHTTP.8.0', 'MSXML2.XMLHTTP.7.0', 'MSXML2.XMLHTTP.6.0', 'MSXML2.XMLHTTP.5.0', 'MSXML2.XMLHTTP.4.0', 'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP.2.6', 'MSXML2.XMLHTTP', 'Microsoft.XMLHTTP'];if(typeof(Config.Const.ACTIVEXOBJECT_XMLHTTP) == "string")v[0] = Config.Const.ACTIVEXOBJECT_XMLHTTP;for(var i=0;v_ = v[i];i++){try{xmlHttp = new ActiveXObject(v_);Config.Const.ACTIVEXOBJECT_XMLHTTP = v_;break;}catch(e){}}}else{xmlHttp = new XMLHttpRequest();}if(xmlHttp == null){alert("你的系统不支持AJAX");}return xmlHttp;}$.$send = function(){}$.$load = function(){}$.$attr = function(p,k){return p.attributes.namedItem(k);}})($.Ajax,$);var basePath = "";})(JObj);&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="aa"&gt;&lt;/div&gt;&lt;script language="javascript" type="text/javascript"&gt;JObj.Ajax.$getXMLHttp();
JObj.Dom.$("aa").$csss({height:"100px",width:"100px",backgroundColor:"#cc6600"}).$attrs({index:100,name:"div1"}).$css("backgroundColor","#ff0000");&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;


日志标题：嘿嘿，用JObj实现的效果
发表时间：2007-9-30 9:33:00
日志内容：用链式操作，的确很简单！不过，还不得要领。要继续修改！

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;script language="javascript" type="text/javascript"&gt;(function($){$.isPercent = function(p){return /^(\d*)(\.?)(\d*)%$/.test(p);}var __alert__ = $.alert;$.alert = function(){var arg,s="";for(var i=0;arg = arguments[i];i++){s += arg + "\n"}__alert__(s);}})(window);
String.prototype.trim = function(){return this.replace(/(^\s*)|(\s*$)/g, ""); }
var JObj = {};(function($){
/*----------------------------------------------------------------------------ConfigPrivate----------------------------------------------------------------------------*/
var Config = {};(function($){$.Const= {};$.Path= {};$.loadedModule= {};})(Config)$.$getConfigConst = function(){return Config.Const;}$.$getConfigPath = function(){return Config.Path;}$.$getConfigLoaded = function(){return Config.LoadedModule;}/*----------------------------------------------------------------------------ErrorJObj.Error----------------------------------------------------------------------------*/$.Error = {};(function($){$.debug = true;var ErrorList = {};$.$pushError = function(msg,e){}})($.Error)/*----------------------------------------------------------------------------Dom operaterJObj.Dom Object----------------------------------------------------------------------------*/var DomObj = function(){var $ = this;var object;$.$setHTMLObject = function(p){object = p;//alert($.$setHTMLObject.caller);}$.$getHTMLObject = function(){return object;}$.$appendTo = function(p){f = JObj.Dom.$(p,false) || document.body;f.appendChild(object);return $;}$.$attr = function(k,v){object.setAttribute(k,v);object[k] = v;return $;}$.$attrs = function(rule){var k;for(k in rule){$.$attr(k,rule[k]);}return $;}$.$css = function(k,v){object.style[k] = v;return $;}$.$csss = function(rule){var k;for(k in rule)$.$css(k,rule[k]);return $;}}$.Dom = {};(function($,$$){var domObj = new DomObj();$.$ = function(p,f){var o = typeof(p) == "object" ? p : document.getElementById(p);if(f !== false){domObj.$setHTMLObject(o);return domObj;}else return o;}$.$tag = function(p){return o = document.getElementsByTagName(p);}$.$c = function(p,n){var o;try{if(n) o = document.createElemnet("&lt;" + p + " name='" + n + "'&gt;");else o = document.createElement(p);}catch(e){o = document.createElement(p);o.name = name;}domObj.$setHTMLObject(o);return domObj;}})($.Dom,$)/*----------------------------------------------------------------------------------Browser checkJObj.Browser Object----------------------------------------------------------------------------------*/$.Browser = {};(function($){var $fv = function(){var f="-1",n=navigator;if (n.plugins &amp;&amp; n.plugins.length) {for (var ii=0;ii&lt;n.plugins.length;ii++) {if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {f=n.plugins[ii].description.split('Shockwave Flash ')[1];break;}}} else if (window.ActiveXObject) {for (var ii=10;ii&gt;=2;ii--) {try {var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if (fl) { f=ii + '.0'; break; }}catch(e) {}}}if(f == "-1") return f;else return f.substring(0,f.indexOf(".")+2)}//Notice : Firefox ,NS can't use property: name (case sensitive)! Because it's a hold field ,and it's values is anonymous.var n_ = navigator,s_ = screen;var b = n_.appName;var ua = n_.userAgent.toLowerCase();$.name = "Unknow";$.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera$.opera = ua.indexOf("opera")&gt;-1; // before ns or ie$.firefox = ua.indexOf('firefox')&gt;-1; // check for gecko engine$.ns = !$.firefox &amp;&amp; !$.opera &amp;&amp; !$.safari &amp;&amp; (b=="Netscape");$.ie = !$.opera &amp;&amp; (b=="Microsoft Internet Explorer");$.name = ($.ie ? "IE" : ($.firefox ? "Firefox" : ($.ns ? "Netscape" : ($.opera ? "Opera" : ($.safari ? "Safari" : "Unknow")))));switch($.name){case "Opera":$.fullVersion = ua.substr(ua.indexOf("opera") + 6);break;case "IE":$.fullVersion = ua.substr(ua.indexOf("msie") + 5).split(";")[0];break;case "Firefox":$.fullVersion = ua.substr(ua.indexOf("firefox") + 8);break;case "Safari":$.fullVersion = ua.substr(ua.indexOf("version") + 8).split(" ")[0];break;case "Netscape":$.fullVersion = ua.substr(ua.indexOf("netscape") + 9);break;default:$.fullVersion = "-1";}$.version = parseFloat($.fullVersion);$.flashVersion = $fv();$.cookieEnabled = n_.cookieEnabled;$.javaEnabled = n_.javaEnabled();})($.Browser);/*----------------------------------------------------------------------------------Cookie OperateJObj.Cookie Object----------------------------------------------------------------------------------*/$.Cookie = {};(function($){$.$get = function(){var cookies = document.cookie;if (cookies == "") return;cookies = cookies.split(';');for(var i=0; i &lt; cookies.length; i++) // Break each pair into an arraycookies[i] = cookies[i].split('=');for(var i = 0; i &lt; cookies.length; i++) {$[(cookies[i][0]).trim()] = decodeURIComponent(cookies[i][1]);}}$.$get();$.$save = function(daysToLive, path, domain, secure){var dt = (new Date()).getTime() + daysToLive * 24 * 60 * 60 * 1000;for(var prop in $) {if (typeof $[prop] == 'function')continue;var cookie = "";cookie = prop + '=' + encodeURIComponent(this[prop]);if (daysToLive || daysToLive == 0) cookie += ";expires=" + new Date(dt).toUTCString();if (path) cookie += ";path=" + path;if (domain) cookie += "; domain=" + domain;if (secure) cookie += ";secure";document.cookie = cookie;}}$.$remove = function(path, domain, secure){$.save(0, path, domain, secure);for(var prop in this) {if (typeof this[prop] != 'function')delete this[prop];}}})($.Cookie);/*------------------------------------------------------------------------------StyleSheets Operate;------------------------------------------------------------------------------*/$.styleSheets = {};/*------------------------------------------------------------------------------Ajax Operate;------------------------------------------------------------------------------*/$.Ajax = {};(function($,$$){$.$getXMLHttp = function(){var xmlHttp = null;if($$.Browser.ie &amp;&amp; $$.Browser.version &lt; 7){var v = ['MSXML2.XMLHTTP.8.0', 'MSXML2.XMLHTTP.7.0', 'MSXML2.XMLHTTP.6.0', 'MSXML2.XMLHTTP.5.0', 'MSXML2.XMLHTTP.4.0', 'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP.2.6', 'MSXML2.XMLHTTP', 'Microsoft.XMLHTTP'];if(typeof(Config.Const.ACTIVEXOBJECT_XMLHTTP) == "string")v[0] = Config.Const.ACTIVEXOBJECT_XMLHTTP;for(var i=0;v_ = v[i];i++){try{xmlHttp = new ActiveXObject(v_);Config.Const.ACTIVEXOBJECT_XMLHTTP = v_;break;}catch(e){}}}else{xmlHttp = new XMLHttpRequest();}if(xmlHttp == null){alert("你的系统不支持AJAX");}return xmlHttp;}$.$load = function(){}$.$attr = function(p,k){return p.attributes.namedItem(k);}})($.Ajax,$);var $getBasePath = function(){var scripts,script;scripts = document.scripts || $.Dom.$tag("SCRIPT");for(var i=0;script = scripts[i];i++){var matchs = script.src.match(/(.*)JObj.js$/i) || [];if(1 in matchs){basePath = matchs[1];Config.Path.basePath = matchs[1];break;}}}$getBasePath();})(JObj);&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;&lt;div id="aa"&gt;&lt;/div&gt;&lt;script language="javascript" type="text/javascript"&gt;for(var i=0;i&lt;20;i++){h = w = 400 - i * 20 + "px";c = "#" + (parseInt("ffffff",16) - i * 10).toString(16);JObj.Dom.$c("DIV").$attr("id","div_" + i).$appendTo("div_" + (i - 1)).$csss({position:"relative",top:"10px",left:"10px"}).$css("width",w).$css("height",h).$css("backgroundColor",c);}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：去除有数组中重复的元素，并返回那些重复的值
发表时间：2007-9-30 17:05:00
日志内容：采用的是Object的 in 操作符，体现一把它的强大（有更好的办法来实现这个功能，但是这里只是演示 in 操作符）！
问题原地址：http://bbs.blueidea.com/viewthread.php?tid=2795905&amp;pid=3606346&amp;page=1&amp;extra=page%3D1#pid3606346

&lt;script&gt;Array.prototype.distinct = function(){var $ = this;var o1 = {};var o2 = {};var o3 = [];
var o;for(var i=0;o = $[i];i++){if(o in o1){if(!(o in o2)) o2[o] = o;delete $[i];}else{o1[o] = o;}}$.length = 0;for(o in o1){$.push(o);}for(o in o2){o3.push(o);}return o3;}var a = [2,2,2,3,3,3,4,4,5,6,7,7];alert("原数组：" + a);alert("有重复的元素是：" + a.distinct());alert("整理后的数组是：" + a);alert("整理后的长度是:" + a.length)&lt;/script&gt;

日志标题：Apache226&nbsp;多站点设置
发表时间：2007-10-8 16:57:00
日志内容：打开httpd.conf文件，找到：
&lt;Directory /&gt; Options FollowSymLinks AllowOverride None Order deny,allow Deny from all Satisfy all&lt;/Directory&gt;
修改成：
&lt;Directory /&gt; Options FollowSymLinks AllowOverride None Order deny,allow allow from all Satisfy all&lt;/Directory&gt;
找到：
# Virtual hosts# Include conf/extra/httpd-vhosts.conf
修改成：
# Virtual hostsInclude conf/extra/httpd-vhosts.conf
打开conf/extra目录下的httpd-vhosts.conf文件：
按如下示例修改：
&lt;VirtualHost *:80&gt; ServerAdmin webmaster@localhost DocumentRoot "E:/WEB" ServerName localhost ServerAlias localhost ErrorLog "E:/WEB/logs/error_log" CustomLog "E:/WEB/logs/access_log" common&lt;/VirtualHost&gt;
&lt;VirtualHost *:80&gt; ServerAdmin webmaster@localhost DocumentRoot "E:/WEB/test/www" ServerName localhost ServerAliastest ErrorLog "E:/WEB/test/logs/error_log" CustomLog "E:/WEB/test/logs/access_log" common&lt;/VirtualHost&gt;
然后修改你的hosts文件（C:\WINDOWS\system32\drivers\etc）
把test指向127.0.0.1
Ok.
http://localhost/
和
http://test
分别指向两个不同的文件！
汗。。。弄了一上午，才配好。

日志标题：虚拟站点中设置可用.htaccess
发表时间：2007-10-10 15:45:00
日志内容：费了我好一番工夫，总算是有点效果了。
先看如何在Apache下设置虚拟站点：
http://xling.blueidea.com/archives/2007/5611.shtml
接着，怎么让虚拟站点支持　.htaccess文件呢？
打开httpd-vhosts.conf文件，修改成如下：
&lt;VirtualHost *:80&gt; ServerAdmin webmaster@localhost DocumentRoot "E:/WEB/dajiaozi/www" ServerName localhost ServerAlias dajiaozi ErrorLog "E:/WEB/dajiaozi/logs/error_log" CustomLog "E:/WEB/dajiaozi/logs/access_log" common
 &lt;Directory /&gt; Options FollowSymLinks AllowOverride All &lt;/Directory&gt;
&lt;/VirtualHost&gt;
红色那段是新加的，其中参数的意义我也不明白，百度去吧！
还有，如果想证实一下设置是否正确，随便在 .htaccess 文件里写几个字母，然后找一个存在的地址去访问，如果页面报错，说明设置成功。
我一开始想把 404错误的转到其它页上去，但是无论如何也不成功，猛然发现：我把404写成　400了！汗。。。

日志标题：我又来了！
发表时间：2007-11-2 11:24:00
日志内容：
　　10月24日，我接到我爷爷过世的电话，匆匆忙忙的赶回阔别三年的家，见到多年不见的老母亲和满头青丝的父亲。
　　三年了，家里的变化只能用“太大”两个字来形容。老房子扒了，换成了新房。爷爷没有了，只有躺在堂屋里的那幅冰棺和门外的那幅寿材。
　　一切都变了，但是留给老一辈人的孤独没有变，要不是因为爷爷过世，可能我还要在外面呆上几年才回。爸妈都想抱孙子，尤其是我妈。
　　前年10月，我妈得了急性脑膜炎，医院下了病危通知书，那年我也是带着悲伤回去的，在医院里陪了我妈妈20天，好在我爸没有放弃，要不然。。。
　　说来我更像是个不孝子孙，在我妈病危的时候，我只在她身边陪了20天，临走时，我妈依然神志不清，但是却紧紧的拉着我的手。。。
　　我爷也去了，但不是颐养天年。记得我毕业来南方之前时，我叔问过我有没有去和爷说说话。我说：去了。但那是假话，从我走到那晚“上材”，我见到的只有他的遗容，趟在寿材里。。。
　　我又来了，留下爸妈住在空荡的房子里，他们想抱孙子。。。
　　我向往我美丽的梦，但是美丽的太遥远。。。

日志标题：JObj预览
发表时间：2007-11-16 17:45:00
日志内容：忙活了我好一阵子。。。
Blog也有好一阵子没有更新了。
我说过，我要写一个JS的框架，我知道有人会从心底BS我，但是：你继续BS吧！我还是要写我的JOBJ。
我的时间不多，大部分是在工作之余写的。
不说了，看效果：
www.dajiaozi.com/holler/page.html
JObj.Dom.$tag("INPUT").$filter(function(o){var fa = o.parentNode.parentNode.parentNode;return f =(o.type == "text" &amp;&amp; fa.id == "hollerNew") ? true : false;}).$css({width:"570px",height:"18px",lineHeight:"18px"}).$attr({className:"hollerFormNormal"}).$event({onfocus:"vControl('TEXTFOCUS',this)",onblur:"vControl('TEXTBLUR',this)"}).$tag("TEXTAREA").$css({width:"570px",height:"100px",lineHeight:"18px"}).$attr({className:"hollerFormNormal"}).$event({onfocus:"vControl('TEXTFOCUS',this)",onblur:"vControl('TEXTBLUR',this)"}).$(document.hollerNew).$event({onsubmit:function(){return JObj.FormValidate.$validate(this,rules);}});
JObj.Dom.$(window).$event({onscroll:"vControl('FIXTOOLBAR')"});var vControl = function(pChoice){var args = arguments;switch(pChoice){case "BACKER":var backer = args[1];var id = args[2];break;case "FLOWERS":var id = args[1];break;case "EGGS":var id = args[1];break;case "TEXTFOCUS":args[1].className = "hollerFormFocus";break;case "TEXTBLUR":args[1].className = "hollerFormNormal";break;case "SHOWTIP":var o,t;switch(args[3]){case "FLOWER": o = "hollerTip_flower_";t = "鲜花 " + args[2] + " 朵，送他/她一朵，让她开花店！"break;case "EGG": o = "hollerTip_egg_";t = "鸡蛋 " + args[2] + " 枚，如果你怕不够孵小鸡，你在给他/她一枚！"break;default : return;}JObj.Dom.$(o + args[1]).$attr({innerHTML:t}).$css({display:"",position:"relative"}).$show("fast",{width:0,height:0},{width:400,height:18});break;case "HIDETIP":var o;switch(args[2]){case "FLOWER": o = "hollerTip_flower_";break;case "EGG": o = "hollerTip_egg_";break;default : return;}JObj.Dom.$(o + args[1]).$hide("fast");break;case "FIXTOOLBAR":JObj.Dom.$("toolBar").$css({opacity:0.1,filter:"Alpha(Opacity=10)"}).$moveToScrollTop("fast");break;}}

日志标题：写了个模板类
发表时间：2007-11-29 17:18:00
日志内容：原来在 大饺子 上，用的是 "fakezilla"使用的模板类，
但是使用起来很麻烦，经常头晕，找不到北。
昨晚回去后，我熬到快一点，写了个大概，今天又做了一些调整，终于可以使用了！
程序：

&lt;?phpclass Tpl{private $debugMode = true;
private $baseDir = "";private $logFile = "";
private $tpl = array();/*$tpl[] = array(name =&gt; "header",file =&gt; "header.html",source =&gt; "...",//原始信息。content=&gt; "..."//解析后的内容)*/private $key = array();private $block = array();private $loop = array();/*block:&lt;tpl tplName&gt;content...&lt;/tpl&gt;*/
public function __construct(){$this-&gt;baseDir = func_get_arg(0);$this-&gt;logFile = func_get_arg(1);}
/*example:$name = array("header" =&gt; "header.html","footer" =&gt; "footer.html");*/public function load($name){if(is_array($name)){while (list($k,$v) = each($name)) {$this-&gt;load($k,$v);}
return;}$name = strtoupper($name);//转换为大写if(isset($this-&gt;tpl[$name])){$this-&gt;debug("重复的模板名称 : $name");}
$file = func_get_arg(1);$source = "";if(!is_file($this-&gt;baseDir.$file)){$this-&gt;debug("找不到文件 : $file 文件夹 : $this-&gt;baseDir");return;}else{$source = join("",@file($this-&gt;baseDir.$file));}
/*$reg = "/&lt;tpl(.*)&gt;(.*)&lt;\/tpl&gt;/iUs";$s = preg_match_all($reg,"&lt;tpl aa&gt;aaaa&lt;tpl&gt;fffff&lt;/tpl&gt;&lt;/tpl&gt;dddddddddd&lt;tpl bb&gt;bbbb&lt;/tpl&gt;eeeeeeee&lt;tpl cc&gt;cccc&lt;/tpl&gt;",$su);
var_dump($su);*/
$blockReg = "/&lt;!--block(.*)--&gt;(.*)&lt;!--\/block--&gt;/iUs";if( preg_match_all( $blockReg, $source ,$ma ) ){while (list($k,$v) = each($ma[1])) {$blockName = strtoupper( trim($v) );//以完全被转换成大写了！
if (isset($this-&gt;block[$blockName])) {$this-&gt;debug("以载入的模板中，有重复的块名称 : $blockName");}
$this-&gt;block[$blockName] = array("name"=&gt;$blockName,"parentName" =&gt; $name,"file"=&gt; $file,"source"=&gt; $ma[2][$k],//原始信息"content"=&gt; ""//解析后的内容，初始化为空);}}
$this-&gt;tpl[$name] = array("name"=&gt;$name,"file"=&gt;$file,"source"=&gt;$source,//原始信息"content"=&gt;$source//解析后的内容，这里是初始化);}
public function assign($key){if(is_array($key)){while(list($k,$v) = each($key)){$this-&gt;assign($k,$v);}return;}$key = strtoupper($key);//转为大写$this-&gt;key[strtoupper($key)] = func_get_arg(1);}
public function parseBlock($name){$name = strtoupper($name);if(!isset($this-&gt;block[$name])){$this-&gt;debug("没有找到块： $name 请确认该块是否存在于以载入的模板文件中!");return;}
$source = $this-&gt;block[$name]["source"];$reg = array();$rep = array();reset($this-&gt;key);while (list($k,$v) = each($this-&gt;key)) {$reg[] = "/#%$k%#/iUs";$rep[] = "$v";}$this-&gt;block[$name]["content"] .= preg_replace($reg,$rep,$source);}
public function parse($name){$name = strtoupper($name);//名字大小写统一，所以不区分大小写。if(!isset($this-&gt;tpl[$name])){$this-&gt;debug("没有找到模板: $name ，请确认是否载入!");return "";}
/*替换block*/$blockReg = "/&lt;!--block(.*)--&gt;(.*)&lt;!--\/block--&gt;/iUs";if(preg_match_all( $blockReg , $this-&gt;tpl[$name]["source"] , $ma)){//从source中查找block//$ma[1]中存放所有block的名称//var_dump($ma[1]);while (list($k,$v) = each($ma[1])) {$blockName = strtoupper( trim($v) );if (isset($this-&gt;block[$blockName])) {$this-&gt;tpl[$name]["content"] = str_ireplace(// str_ireplace ....$ma[0][$k],////////////$this-&gt;block[$blockName]["content"],$this-&gt;tpl[$name]["content"]);}}}
$reg = array();$rep = array();
reset($this-&gt;key);while (list($k,$v) = each($this-&gt;key)) {$reg[] = "/#%$k%#/iUs";$rep[] = "$v";}$this-&gt;tpl[$name]["content"] = preg_replace( $reg, $rep, $this-&gt;tpl[$name]["content"]);return $this-&gt;tpl[$name]["content"];}
protected function debug($msg){if(!$this-&gt;debugMode || !is_file($this-&gt;logFile)){return;}
error_log(sprintf("%s\t%s\r\n",date("Y/m/d H:i:s"),$msg),3,$this-&gt;logFile);}}?&gt;
模板：header.html

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;#%title%#&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;!--block a--&gt;aaaaaaa#%path%#&lt;br /&gt;aaaaaaaaaa#%title%#&lt;br /&gt;&lt;!--/block--&gt;
&lt;select&gt;&lt;!--block b--&gt;&lt;option&gt;#%i%#&lt;/option&gt;&lt;!--/block--&gt;&lt;/select&gt;
&lt;select&gt;&lt;!--block c--&gt;&lt;option&gt;#%i%#&lt;/option&gt;&lt;!--/block--&gt;
&lt;!--block d--&gt;&lt;option&gt;#%i%#&lt;/option&gt;&lt;!--/block--&gt;&lt;/select&gt;
模板：footer.html

#%path%##%title%#
&lt;/body&gt;&lt;/html&gt;
调用（别给我说我没有调用Tpl.inc.php,如果你这样认为的话，请查：__autoload

&lt;?phpinclude("common.inc.php");$tpl = new Tpl("tplTest/","tplLog.log");$tpl-&gt;load(array("header"=&gt;"header.html","footer"=&gt;"footer.html"));
$tpl-&gt;assign(array("title"=&gt; "Dajiaozi!","path"=&gt; "js/lib/JObj/"));
$tpl-&gt;parseBlock("a");for($i=2;$i&gt;=0;$i--){$tpl-&gt;assign("i",$i);$tpl-&gt;parseBlock("b");$tpl-&gt;assign("i",$i + 1);$tpl-&gt;parseBlock("B");}
$tpl-&gt;parseBlock("c");
echo $tpl-&gt;parse("header");echo $tpl-&gt;parse("footer");?&gt;
上面这个只是个例子，没有实用价值，下面在给个 大饺子 中的程序：

&lt;?phprequire_once("../common.inc.php");
$tpl = new Tpl(PATH_FULL.Config::DIR_TEMPLATE ,PATH_FULL.Config::FILE_TEMPLATE_LOG);$tpl-&gt;load(array("header"=&gt;"header.html","menu"=&gt;"menu.html","holler"=&gt;"holler/holler.html","hollerJs"=&gt;"holler/hollerJs.html","footer"=&gt;"footer.html","customJs"=&gt;"error/customJs.html","pagination"=&gt;"pagination.html"));
$tpl-&gt;assign(array("title"=&gt;"我要\"小声\"叫喊 ".Config::TITLE_DOMAIN,"path"=&gt;PATH_BASE_ROOT,"formAction"=&gt;PATH_BASE_ROOT."holler/do.php?".FORM_KEY_ACTION."=".FORM_KEY_ADD));
$tpl-&gt;parseBlock("tplOtherPlus");
$page = Holler::getList();$result = $page-&gt;process();
$tpl-&gt;assign(array("recordNum"=&gt;$page-&gt;recordNum,"totalPage"=&gt;$page-&gt;totalPage,"currPage"=&gt;$page-&gt;currPage,"pageSize"=&gt;$page-&gt;pageSize,"rangeS"=&gt;$page-&gt;rangeS,"rangeE"=&gt;$page-&gt;rangeE,"pageLabels"=&gt;$page-&gt;exportPageLabel()));$pagination = $tpl-&gt;parse("pagination");
$tpl-&gt;assign("pagination",$pagination);
while ($row = mysql_fetch_array($result)){
$tpl-&gt;assign(array("hollerTitle"=&gt;$row["TITLE"],"hollerContent"=&gt;nl2br( htmlspecialchars($row["CONTENT"])),"hollerId"=&gt;$row["ID"],"hollerTime"=&gt;$row["PUB_DATE"],"hollerIP"=&gt;$row["IP"],));$tpl-&gt;parseBlock("tplHollerList");}
$tpl-&gt;parseBlock("tplHollerNew");
echo $tpl-&gt;parse("header");echo $tpl-&gt;parse("menu");echo $tpl-&gt;parse("holler");echo $tpl-&gt;parse("hollerJs");echo $tpl-&gt;parse("footer");
ReWrite::flush();?&gt;

日志标题：心情！
发表时间：2008-3-3 17:47:00
日志内容：本来，这个blog以经被我关闭多时了！但是，仍有热心的朋友通过它来联系我，所以，在把它打开吧。
上周，公司做了调整，fire了四位（5位？）同事，两位男同事关系处的都挺不错的。
但是，说fire就fire了，就给补了一个月工资・！
做这个决定的原因，很显然，我们都太闲了
虽然我没有被**，但是我一样是没有多少事情可做，我是做js的，可能就是因为这一点吧，老板没有**我，因为我们这套东东，离了JS，就等于不能运转了。
人往高处走，水往低处流，我很闲，我往低处走了很多！说真的，我很怕！因为没多少事情可做，所以，我没有什么理由可以用来要求加薪！不加薪，我连房子都快租不起了！
有位同事说我，没事的时候，你可以学学MySQL，java之类的，以后我开公司，一定请你给我写js,在深圳，只会一样是很难的！
我只回答说，等你开公司了，我以经回家了。我不想做无意义的解释，什么没事的时候，可以学学数据库？我做了一年的Oracle,难道我连最基本的SQL还不会？有些事情，我说了也是白说，比如你写的java代码，你建的数据表，都什么东西啊！一点都不严谨，只是途省事！除了一位兄弟般的同事，这个公司都只把我当作一个Javascript Engineer。
出了这档子事情，我也没有心情在做下去了，这样下去，对我，对公司都是一种损失！
以前热心的网友推荐我去过**公司面试过两次，但是两次我都没能把握，归根结底，是因为我太笨，不会说话，不会表达！
这次还是同样一个机会，我很在意！

日志标题：我所有值得您浏览的东东
发表时间：2008-3-3 18:13:00
日志内容：http://jobj.googlecode.com/svn/trunk/

日志标题：动态生成的IFRAME，设置SRC时的，不同位置带来的影响
发表时间：2008-3-6 10:13:00
日志内容：动态生成的IFRAME，设置SRC时的，不同位置带来的影响。
以下所说的是在IE7下运行的。IE6下也是同样。
在这个blog中，直接点击运行代码，和把下面代码保存到为网页在运行（以本地文件或域名访问），效果不一样。
先看例子：

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;script language="javascript" type="text/javascript"&gt;var ifr = document.createElement("IFRAME");document.body.appendChild(ifr);ifr.src = "http://www.baidu.com";&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
这段，ifr.src放到append之后，运行，表面没有什么，看似正常。但是如果您用抓包工具看一下，就会发现当刷新（F5或刷新按钮）时，会多出一个请求：
00:00:04.6710.021*GETAbortedtext/htmlhttp://www.baidu.com/
虽然是 状态是Aborted，但这个请求仍然被送到了服务器！
如果把 ifr.src放到 append之前呢？这个问题就没有了！
类似的还有：把ifr.frameBorder = 0 放到 append之后，这个iframe仍可以看边框。放到append之前，边框就是0了。把ifr.scrolling = "no" 放到 append之后，不起作用，放到 append之前，才起作用。ifr.width,ifr.height无论放在前还是在后，都没有影响。
但是，如果你想在那个iframe的地址后面加个临时参数,以达到每次都请求新页面的效果，把 ifr.src 放到 append之前，就不行了（刷新或F5时）！
如代码：


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;script language="javascript" type="text/javascript"&gt;var ifr = document.createElement("IFRAME");ifr.frameBorder = 0;ifr.scrolling = "no";ifr.src = "http://www.baidu.com?tmp=" + (new Date().getTime().toString(36));document.body.appendChild(ifr);ifr.width = 500;ifr.height = 500;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
你可以监视一下，每次刷新时，那个 tmp 都是同一个值！除非你重新载入（非 F5/刷新）。换种方法呢？用document.write来实现？可以告诉你，也不行！

日志标题：貌视IE8不支持filters了
发表时间：2008-3-12 22:19:00
日志内容：我在JMenuTab里加入了滤镜支持,IE8还没有出来的时候,运行的很漂亮,但是前几天我下了IE8,发现这个东东居然有错了,很是郁闷.
刚刚把OFFICE重装了一遍, 就为了把脚本调试器(MSE7.exe) 装上.一运行JMenuTab,发现是filters那句出错了,快速查看了一下,所属对像在IE8下跟本就没有filters这个属性.
难道IE8不在支持FILTERS了?

日志标题：MySQL 视图,第1349号错误
发表时间：2008-3-13 11:48:00
日志内容：把下面SQL里的SELECT单独执行,没有问题,但是用来CREATE VIEW 就报错了.
CREATE OR REPLACE VIEW BLOG_V_ADMIN(ID,NICKNAME,SEX,EMAIL,PHONE,QQ,MSN,HTTP,REGISTER_TIME,IP,LAST_LOGIN_IP,LOGIN_TIME)ASSELECTA.ID,A.NICKNAME,A.SEX,A.EMAIL,A.PHONE,A.QQ,A.MSN,A.HTTP,A.REGISTER_TIME,B.IP AS LAST_LOGIN_IP,B.LOGIN_TIME AS LAST_LOGIN_TIMEFROMBLOG_ADMIN A LEFT JOINBLOG_ADMIN_LOGIN_TRACK B ON B.ADMIN = A.ID LEFT JOIN(SELECT ADMIN,MAX(LOGIN_TIME) AS LOGIN_TIME FROM BLOG_ADMIN_LOGIN_TRACK GROUP BY ADMIN) C ON B.ADMIN = C.ADMIN;
ERROR 1349 (HY000): View's SELECT contains a subquery in the FROM clause这是BUG吗?见:http://bugs.mysql.com/bug.php?id=16757
木有办法,我只好这样改了:

CREATE OR REPLACE VIEW BLOG_V_ADMIN(ID,NICKNAME,SEX,EMAIL,PHONE,QQ,MSN,HTTP,REGISTER_TIME,LOGIN_TIME,LAST_LOGIN_IP)ASSELECTA.ID,A.NICKNAME,A.SEX,A.EMAIL,A.PHONE,A.QQ,A.MSN,A.HTTP,A.REGISTER_TIME,(SELECT LOGIN_TIME FROM BLOG_ADMIN_LOGIN_TRACK WHERE ADMIN = A.ID ORDER BY LOGIN_TIME DESC LIMIT 1) AS LAST_LOGIN_TIME,(SELECT INET_NTOA(IP) FROM BLOG_ADMIN_LOGIN_TRACK WHERE ADMIN = A.ID ORDER BY LOGIN_TIME DESC LIMIT 1) AS LAST_LOGIN_IPFROMBLOG_ADMIN A;

日志标题：无语，太TM强了
发表时间：2008-3-28 17:29:00
日志内容：上周一同事问我有事做没有，我说非常之闲，闲得抠手指头过日子。于是他给我一个任务，写个报表，用表格和图形显示出来。
反正没事可做，接就接呗，也挺简单的，就是几个计算公式，原字段也没有多少，但却衍生出一倍的字段。
本来这周一就完成了，但统计方法又改变了，原来写的作废了，汗。。。昨天才给我文档，又要重写，本人偷懒，今天才写，搞了一下午，才把SQL写出来，数了一下，MD，BT，居然有52个字段！靠，还要用 IBATIS把它搞到JSP里。
这是我从离开永和顺后，写的第一个长SQL，虽然逻辑很简单。

SELECTD.*,IF( D.REVENUE_SHARE_TOTAL &gt; 0 , ( D.PAY_WATER_COOLER_TOTAL + D.PAY_BURST_MEDIA_TOTAL ) / D.REVENUE_SHARE_TOTAL , 0 ) AS EARNED_TOTAL,IF( D.REVENUE_SHARE_RANDOM &gt; 0 , ( D.PAY_WATER_COOLER_RANDOM + D.PAY_BURST_MEDIA_RANDOM ) / D.REVENUE_SHARE_RANDOM , 0 ) AS EARNED_RANDOM,IF( D.REVENUE_SHARE_CAT &gt; 0 , ( D.PAY_WATER_COOLER_CAT + D.PAY_BURST_MEDIA_CAT ) / D.REVENUE_SHARE_CAT , 0 ) AS EARNED_CATFROM (SELECT C.*,IF( C.PUB_FLAG = 'W' , C.REVENUE_SHARE_TOTAL * 0.5 , 0 ) AS PAY_WATER_COOLER_TOTAL,IF( C.PUB_FLAG = 'W' , C.REVENUE_SHARE_RANDOM * 0.5 , 0 ) AS PAY_WATER_COOLER_RANDOM,IF( C.PUB_FLAG = 'W' , C.REVENUE_SHARE_CAT * 0.5 , 0 ) AS PAY_WATER_COOLER_CAT,IF( C.PUB_FLAG = 'B' , C.IMPRESSIONS_TOTAL * 1 / 1000 , 0 ) AS PAY_BURST_MEDIA_TOTAL,IF( C.PUB_FLAG = 'B' , C.IMPRESSIONS_RANDOM * 1 / 1000 , 0 ) AS PAY_BURST_MEDIA_RANDOM,IF( C.PUB_FLAG = 'B' , C.IMPRESSIONS_CAT * 1 / 1000 , 0 ) AS PAY_BURST_MEDIA_CAT,IF( C.IMPRESSIONS_TOTAL &gt; 0 , ( C.REVENUE_SHARE_TOTAL * 1000 / C.IMPRESSIONS_TOTAL ) , 0 ) AS ECPM_TOTAL,IF( C.IMPRESSIONS_RANDOM &gt; 0 , ( C.REVENUE_SHARE_RANDOM * 1000 / C.IMPRESSIONS_RANDOM ) , 0 ) AS ECPM_RANDOM,IF( C.IMPRESSIONS_RANDOM &gt; 0 , ( C.REVENUE_SHARE_CAT * 1000 / C.IMPRESSIONS_CAT ) , 0 ) AS ECPM_CAT,
IF( C.IMPRESSIONS_TOTAL &gt; 0 , C.REVENUE_SHARE_BY_CLICKS_TOTAL * 1000 / C.IMPRESSIONS_TOTAL , 0 ) AS ECPM_BY_CLICKS_TOTAL,IF( C.IMPRESSIONS_RANDOM &gt; 0 , C.REVENUE_SHARE_BY_CLICKS_RANDOM * 1000 / C.IMPRESSIONS_RANDOM , 0 ) AS ECPM_BY_CLICKS_RANDOM,IF( C.IMPRESSIONS_CAT &gt; 0 , C.REVENUE_SHARE_BY_CLICKS_CAT * 1000 / C.IMPRESSIONS_CAT , 0 ) AS ECPM_BY_CLICKS_CAT
FROM(SELECT B.*,IF( B.IMPRESSIONS_TOTAL &gt; 0 ,( B.CLICKS_TOTAL / B.IMPRESSIONS_TOTAL ) , 0 )AS CTR_TOTAL,IF( B.IMPRESSIONS_RANDOM &gt; 0 , ( B.CLICKS_RANDOM / B.IMPRESSIONS_RANDOM ) , 0 ) AS CTR_RANDOM,IF( B.IMPRESSIONS_CAT &gt; 0 , ( B.CLICKS_CAT / B.IMPRESSIONS_CAT ) , 0)AS CTR_CAT,IF( B.CLICKS_TOTAL &gt; 0 , ( B.TRANS_TOTAL / B.CLICKS_TOTAL ) , 0 ) AS CONVERSION_RATE_TOTAL,IF( B.CLICKS_RANDOM &gt; 0 , ( B.TRANS_RANDOM / B.CLICKS_RANDOM ) , 0 ) AS CONVERSION_RATE_RANDOM,IF( B.CLICKS_CAT &gt; 0 , ( B.TRANS_CAT / B.CLICKS_CAT ) , 0 ) AS CONVERSION_RATE_CAT,IF( B.CLICKS_TOTAL &gt; 0 , B.TRANS_BY_CLICKS_TOTAL / B.CLICKS_TOTAL , 0 ) AS CONVERSION_RATE_BY_CLICKS_TOTAL,IF( B.CLICKS_RANDOM &gt; 0 , B.TRANS_BY_CLICKS_RANDOM / B.CLICKS_RANDOM , 0 ) AS CONVERSION_RATE_BY_CLICKS_RANDOM,IF( B.CLICKS_CAT &gt; 0 , B.TRANS_BY_CLICKS_CAT / B.CLICKS_CAT , 0 ) AS CONVERSION_RATE_BY_CLICKS_CAT,CASE B.ADV_FLAGWHEN 'R' THEN REVENUE_TOTAL * 0.07WHEN 'S' THEN REVENUE_TOTAL * 0.1ELSE 0END AS REVENUE_SHARE_TOTAL,CASE B.ADV_FLAGWHEN 'R' THEN REVENUE_TOTAL * 0.07WHEN 'S' THEN REVENUE_TOTAL * 0.1ELSE 0END AS REVENUE_SHARE_RANDOM,CASE B.ADV_FLAGWHEN 'R' THEN REVENUE_CAT * 0.07WHEN 'S' THEN REVENUE_CAT * 0.1ELSE 0END AS REVENUE_SHARE_CAT ,
CASE B.ADV_FLAGWHEN 'R' THEN B.REVENUE_BY_CLICKS_TOTAL * 0.07WHEN 'S' THEN B.REVENUE_BY_CLICKS_TOTAL * 0.1ELSE 0END AS REVENUE_SHARE_BY_CLICKS_TOTAL,CASE B.ADV_FLAGWHEN 'R' THEN B.REVENUE_BY_CLICKS_RANDOM * 0.07WHEN 'S' THEN B.REVENUE_BY_CLICKS_RANDOM * 0.1ELSE 0END AS REVENUE_SHARE_BY_CLICKS_RANDOM,CASE B.ADV_FLAGWHEN 'R' THEN B.REVENUE_BY_CLICKS_CAT * 0.07WHEN 'S' THEN B.REVENUE_BY_CLICKS_CAT * 0.1ELSE 0END AS REVENUE_SHARE_BY_CLICKS_CATFROM(SELECTA.WEEK , A.ADV , A.PUB ,A.IMPRESSIONS_TOTAL , A.IMPRESSIONS_RANDOM , A.IMPRESSIONS_CAT ,A.CLICKS_TOTAL , A.CLICKS_RANDOM , A.CLICKS_CAT ,A.TRANS_TOTAL , A.TRANS_RANDOM , A.TRANS_CAT ,A.REVENUE_TOTAL , A.REVENUE_RANDOM , A.REVENUE_CAT ,A.TRANS_BY_CLICKS_TOTAL , A.TRANS_BY_CLICKS_RANDOM , A.TRANS_BY_CLICKS_CAT ,A.REVENUE_BY_CLICKS_TOTAL , A.REVENUE_BY_CLICKS_RANDOM , A.REVENUE_BY_CLICKS_CAT ,CASE ADVWHEN 'Ridegear' THEN 'R'WHEN 'Stacks N Stacks' THEN 'S'ELSE 'O'END AS ADV_FLAG,CASE PUBWHEN 'Burst Media' THEN 'B'WHEN 'Water Cooler' THEN 'W'ELSE 'O'END AS PUB_FLAGFROMmeasure A) B) C) D
下面是上周写的，


 SELECT C.*, IF( C.REVENUE_SHARE &gt; 0, ( IFNULL( C.PAY_WATER_COOLER , 0 ) + IFNULL( C.PAY_BURST_MEDIA , 0 ) ) / C.REVENUE_SHARE , 0) AS EARNED, IF( C.IMPS &gt; 0, C.REVENUE_SHARE * 1000 / IMPS , 0) AS ECPM FROM( SELECTB.*,
 CASE WHEN B.PUB_NAME = 'Water Cooler' AND B.REVENUE_SHARE THEN B.REVENUE_SHARE * 0.5 ELSE 0 END AS PAY_WATER_COOLER
 FROM( SELECT A.*,
 IF( IMPS &gt; 0 , A.CLICKS / A.IMPS , 0 ) AS CTR, IF( CLICKS &gt; 0, A.TRANS / A.CLICKS , 0 ) AS CONVERSION_RATE, IF( TRANS &gt; 0, A.REVENUE / A.TRANS, 0 ) AS AVG_BASKET_SIZE,
 CASE WHEN ADV_NAME = 'Stacks N Stacks' AND REVENUE &gt; 0 THEN REVENUE * 0.1 WHEN ADV_NAME = 'RideGear' AND REVENUE &gt; 0 THEN REVENUE * 0.07 ELSE 0 END AS REVENUE_SHARE,
 CASE WHEN PUB_NAME = 'Burst Media' AND IMPS &gt; 0 THEN IMPS * 1 / 1000 ELSE 0 END AS PAY_BURST_MEDIA
 FROM( SELECT SUBDATE( DAY , DATE_FORMAT( DAY , '%w' ) - 0 ) AS SUN, SUBDATE( DAY , DATE_FORMAT( DAY , '%w' ) - 6 ) AS SAT,
 CASE WHEN ADV_ID IN ( 17 , 43 ) THEN 'RideGear' WHEN ADV_ID IN ( 72 , 82) THEN 'Stacks N Stacks' ELSE 'Linkshare' END AS ADV_NAME,
 CASE WHEN PUB_ID = 19 THEN 'Burst Media' WHEN PUB_ID = 80 THEN 'Water Cooler' ELSE '' END AS PUB_NAME,
 SUM( IMPS ) AS IMPS, SUM( CLICKS ) AS CLICKS, SUM( TRANS ) AS TRANS, SUM( REVENUE ) AS REVENUE FROM measure_report GROUP BY
 CASE WHEN ADV_ID IN ( 17 , 43 ) THEN 'RideGear' WHEN ADV_ID IN ( 72 , 82) THEN 'Stacks N Stacks' ELSE 'Linkshare' END,  CASE WHEN PUB_ID = 19 THEN 'Burst Media' WHEN PUB_ID = 80 THEN 'Water Cooler' ELSE '' END,
 WEEK ( DAY )ORDER BY DAY ) A ) B ) C


日志标题：xpath 数组的起始下标
发表时间：2008-3-30 23:36:00
日志内容：MSXML 4.0 SDK 中，XPath的示例中，有如下说法：




author[1]
The first &lt;author&gt; element in the current context node.

author[first-name][3]
The third &lt;author&gt; element that has a &lt;first-name&gt; child.
1是first ,3 是third,意思是说下标应该是从1开始的.
在　O'Reilly　JavaScript: The Definitive Guide, 5th Edition　的这一章：21.4. Querying XML with XPath　也有这么一段话：
Note that XPath array syntax uses 1-based arrays instead of JavaScript-style 0-based arrays.
但是本人在IE７下测试，这个起始下标却是从0开始的。

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;script language="javascript" type="text/javascript" src="Ajax.js"&gt;&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;&lt;script language="javascript" type="text/javascript"&gt;//evaluateAjax.$send({url:"test.xml",method:"GET",async:true,onSuccess:function(xmlHttp,status,rule,dataRule){if(Browser.ie){var nodes = xmlHttp.responseXML.selectNodes("student[2]");//alert(nodes.length)alert(nodes[0].xml);//alert(nodes[0].childNodes[0].nodeValue);}else{var nodes = xmlHttp.responseXML.evaluate("/root/student[2]", xmlHttp.responseXML, null, XPathResult.ANY_TYPE, null);var node;while(node = nodes.iterateNext()){alert(node.xml);}}},onUnsuccess:function(xmlHttp,status,rule,dataRule){
}});
/*var dom = Ajax.$parseXML("&lt;node&gt;aaa&lt;/node&gt;");alert(dom.documentElement.xml || dom.documentElement.textContent);dom = Ajax.$loadXML("&lt;l&gt;a&lt;/l&gt;")alert(dom.documentElement);*/&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
Ajax.js

Browser = {};(function($){var $fv = function(){var f="-1",n=navigator;if (n.plugins &amp;&amp; n.plugins.length) {for (var ii=0;ii&lt;n.plugins.length;ii++) {if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {f=n.plugins[ii].description.split('Shockwave Flash ')[1];break;}}} else if (window.ActiveXObject) {for (var ii=10;ii&gt;=2;ii--) {try {var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if (fl) { f=ii + '.0'; break; }}catch(e) {}}}if(f == "-1") return f;else return f.substring(0,f.indexOf(".")+2)}var n_ = navigator,s_ = screen;var b = n_.appName;var ua = n_.userAgent.toLowerCase();$.name = "Unknow";$.safari = ua.indexOf("safari")&gt;-1; // always check for safari &amp; opera$.opera = ua.indexOf("opera")&gt;-1; // before ns or ie$.firefox = ua.indexOf('firefox')&gt;-1; // check for gecko engine$.netscape = !$.firefox &amp;&amp; !$.opera &amp;&amp; !$.safari &amp;&amp; (b=="Netscape");$.ie = !$.opera &amp;&amp; (b=="Microsoft Internet Explorer");$.name = ($.ie ? "IE" : ($.firefox ? "Firefox" : ($.netscape? "Netscape" : ($.opera ? "Opera" : ($.safari ? "Safari" : "Unknow")))));switch($.name){case "Opera":$.fullVersion = ua.substr(ua.indexOf("opera") + 6);break;case "IE":$.fullVersion = ua.substr(ua.indexOf("msie") + 5).split(";")[0];break;case "Firefox":$.fullVersion = ua.substr(ua.indexOf("firefox") + 8);break;case "Safari":$.fullVersion = ua.substr(ua.indexOf("version") + 8).split(" ")[0];break;case "Netscape":$.fullVersion = ua.substr(ua.indexOf("netscape") + 9);break;default:$.fullVersion = "-1";}$.version = parseFloat($.fullVersion);$.flashVersion = $fv();$.cookieEnabled = n_.cookieEnabled;$.javaEnabled = n_.javaEnabled();})(Browser);
/*------------------------------------------------------------------------------Ajax Operate;------------------------------------------------------------------------------*/
if(!Browser.ie){Element.prototype.__defineGetter__("xml",function(){return (new XMLSerializer).serializeToString(this);});}
Ajax = {};(function($){var ACTIVEXOBJECT_XMLHTTP = null;var isFunction = function(p){return p instanceof Function;}var AjaxObj = function(rule,dataRule){var self = this;var ready = function(){self.url= rule.url;self.method = rule.method || "GET";self.async= rule.async || false;self.data= rule.data || null;self.onSuccess= rule.onSuccess;self.onUnsuccess= rule.onUnsuccess;self.onReady= rule.onReady;}this.xmlHttp = $.$getXMLHttp();this.xmlHttp.onreadystatechange = function(){var http = self.xmlHttp;if(http.readyState == 4){switch(http.status){case 200:isFunction(self.onSuccess) ? self.onSuccess(http,200,rule,dataRule) : null;break;default :isFunction(self.onUnsuccess) ? self.onUnsuccess(http,http.status,rule,dataRule) : null;}}elseisFunction(self.onWait) ? self.onWait(http,http.readyState,rule,dataRule) : null;}this.$send = function(){ready();self.xmlHttp.open(self.method,self.url,self.async);self.xmlHttp.send(self.data);}}$.$getXMLHttp = function(){var xmlHttp = null;if(Browser.ie &amp;&amp; Browser.version &lt; 7){var v = ['MSXML2.XMLHTTP.8.0', 'MSXML2.XMLHTTP.7.0', 'MSXML2.XMLHTTP.6.0', 'MSXML2.XMLHTTP.5.0', 'MSXML2.XMLHTTP.4.0', 'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP.2.6', 'MSXML2.XMLHTTP', 'Microsoft.XMLHTTP'];if(typeof(ACTIVEXOBJECT_XMLHTTP) == "string")v[0] = ACTIVEXOBJECT_XMLHTTP;var v_;for(var i=0;v_ = v[i];i++){try{xmlHttp = new ActiveXObject(v_);ACTIVEXOBJECT_XMLHTTP = v_;break;}catch(e){}}}else{xmlHttp = new XMLHttpRequest();}if(xmlHttp == null){alert("你的系统不支持AJAX");}return xmlHttp;}$.$getXMLDoc = function(){//DOMParser//document.implementationif(Browser.ie){var doc = null;var v = ["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument"];if(typeof(ACTIVEXOBJECT_DOMDOCUMENT) == "string")v[0] = ACTIVEXOBJECT_DOMDOCUMENT;var v_;for(var i=0;v_ = v[i];i++){try{doc = new ActiveXObject(v_);ACTIVEXOBJECT_DOMDOCUMENT = v_;break;}catch(e){}}}else if(document.implementation &amp;&amp; document.implementation.createDocument){doc = document.implementation.createDocument("","doc",null)}return doc;}$.$loadXML = $.$parseXML = function(source){var doc;if(window.DOMParser){var parser = new DOMParser();doc = parser.parseFromString(source,"text/xml");}else{doc = $.$getXMLDoc();doc.loadXML(source);}return doc;}$.$getNodeAtt = function(pNode,pAtt){try{return pNode.attributes.getNamedItem(pAtt).nodeValue;}catch(e){//alert("前台调试错误：\n"+e.message+"\n当前节点不存在: "+pAtt+"这个属性");}}$.$extractNodes = function(pNode){if(pNode.nodeType == 3)return null;var node,nodes = new Array();for(var i=0;node= pNode.childNodes[i];i++){if(node.nodeType == 1 || node.nodeType == 4)nodes.push(node);}return nodes;}$.$getXML = $.$serialize = function(pNode){if(!pNode) return null;if(pNode.xml)return pNode.xml;else if(window.XMLSerializer)return (new XMLSerializer()).serializeToString(pNode);}$.$send = function(rule,dataRule){var ajax = new AjaxObj(rule,dataRule);ajax.$send();}})(Ajax);
test.xml

&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;root&gt;&lt;student id="1"&gt;&lt;name&gt;xling&lt;/name&gt;&lt;sex&gt;m&lt;/sex&gt;&lt;/student&gt;&lt;student id="2"&gt;&lt;name&gt;snow&lt;/name&gt;&lt;sex&gt;f&lt;/sex&gt;&lt;/student&gt;&lt;/root&gt;

日志标题：FF下，用 col 隐藏表格列的方法详解！
发表时间：2008-4-1 17:28:00
日志内容：一直一来，我都在想办法看能不能用 col 控制表格的列隐藏，但是无奈，FF对COL支持不够好（其实是以前没有发现COL在FF下要怎么弄）。今天，我在一个有52个字段的报表时，迫使我深入的做了一下研究，我发现：col在ff下的display 的默认值是：table-column visibility的默认值为：visible我又查查了CSS手册，发现 visibility 有一个 collapse的可选值，据说在IE下是没有实现的，IE没实现不竺于FF没有实现，就像FF不支持的不一定IE不支持一样。BT的我，一个一个试了一遍，终于发现了！FF下可以用下面的方法，用COL把表格的列给隐藏！欢呼！

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table width="100%" border="0"&gt;&lt;colgroup&gt;&lt;col style="visibility: collapse;overflow:hidden;width:0px;" /&gt;&lt;col style="visibility: collapse;overflow:hidden;width:0px;" /&gt;&lt;col style="display:none"/&gt;&lt;col style="display:none"/&gt;&lt;/colgroup&gt;&lt;tr&gt;&lt;td scope="col"&gt;IE下，你可以看到这列&lt;td scope="col"&gt;IE下，你可以看到这列&lt;td scope="col"&gt;FF下，你可以看到这列&lt;td scope="col"&gt;FF下，你可以看到这列&lt;/tr&gt;&lt;tr&gt;&lt;td scope="row"&gt;&amp;nbsp;&lt;/th&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td scope="row"&gt;&amp;nbsp;&lt;/th&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td scope="row"&gt;&amp;nbsp;&lt;/th&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td scope="row"&gt;&amp;nbsp;&lt;/th&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：XPath 笔记： XPathResult
发表时间：2008-4-8 0:02:00
日志内容：1,ANY_TYPE 0
Passes this value to Document.evaluate( ) or XPathExpression.evaluate( ) to specify that any 
type of result is acceptable. The resultType property is never set to this value.返回不确定类型。该方法返回的类型由表达式计算的结果决定。

2,NUMBER_TYPE 1
numberValue holds the result.返回数字值

3,STRING_TYPE 2
stringValue holds the result.返回字符串值

4,BOOLEAN_TYPE 3
booleanValue holds the result.返回布尔值。
5,UNORDERED_NODE_ITERATOR_TYPE 4
The result is an unordered set of nodes, which can be accessed sequentially by calling 
iterateNext( ) repeatedly until it returns null. The document must not be modified during 
this iteration.返回可以遍历的节点集合，然而，节点的顺序与其在文档中出现的顺序不一定一致。

6,ORDERED_NODE_ITERATOR_TYPE 5
The result is a list of nodes, arranged in document order, which can be accessed 
sequentially by calling iterateNext( ) repeatedly until it returns null. The document must 
not be modified during this iteration.返回文档顺序的节点集合（使用iterateNext()方法遍历）。因此，可以容易地访问集合中每个独立的节
点。

7,UNORDERED_NODE_SNAPSHOT_TYPE 6
The result is a random-access list of nodes. The snapshotLength property specifies the 
length of the list, and the snapshotItem( ) method returns the node at a specified index. 
The nodes may not be in the same order they appear in the document. Since this kind of 
result is a "snapshot," it remains valid even if the document is changed.返回无序快照节点集合。任何对文档中节点的修改都不影响结果。

8,ORDERED_NODE_SNAPSHOT_TYPE 7
The result is a random-access list of nodes, just like UNORDERED_NODE_SNAPSHOT_TYPE, except 
that this list is arranged in document order.返回文档顺序的节点集合（结果集合的快照）。任何对文档中节点的修改都不影响结果。

9,ANY_UNORDERED_NODE_TYPE 8
The singleNodeValue property refers to a node that matches the query or null if no nodes 
matched. If more than one node matches the query, singleNodeValue may be any one of the 
matching nodes.返回通过singleNodeValue属性访问的某个节点的节点集合，如果没有匹配的节点，那么返回null。返回
的节点集合不一定按出现的顺序排列。

10,FIRST_ORDERED_NODE_TYPE 9
singleNodeValue holds the first node in the document that matched the query, or null if no 
nodes matched.返回某个节点的节点集合。该节点使用XPathResult类的singleNodeValue属性访问。返回的节点是文档中
第一个出现的节点。


XPathResult 实例的属性：
Many of these properties are valid only when resultType holds a particular value. Accessing 
properties that are not defined for the current resultType causes an exception.
1，readonly boolean booleanValueHolds the result value when resultType is BOOLEAN_TYPE.
2，readonly boolean invalidIteratorStateIs TRue if resultType is one of the ITERATOR_TYPE constants and the document has been 
modified （当DOM被修改，值为真？？）, making the iterator invalid, because the result was 
returned.
3，readonly float numberValueHolds the result value when resultType is NUMBER_TYPE.
4，readonly short resultTypeSpecifies what kind of result the XPath query returned. Its value is one of the constants 
listed earlier. The value of this property tells you which other properties or methods you 
can use.返回上面所说的常量中的一个？？
5，readonly Node singleNodeValueHolds the result value when resultType is XPathResult.ANY_UNORDERED_NODE_TYPE or 
XPathResult.FIRST_UNORDERED_NODE_TYPE.

6，snapshotLengthSpecifies the number of nodes returned when resultType is UNORDERED_NODE_SNAPSHOT_TYPE or 
ORDERED_NODE_SNAPSHOT_TYPE. Use this property in conjunction with snapshotItem( ).
7，stringValueHolds the result value when resultType is STRING_TYPE.

方法：1，iterateNext( )Returns the next node in the node set. Use this method if the resultType is 
UNORDERED_NODE_ITERATOR_TYPE or ORDERED_NODE_ITERATOR_TYPE.
2，snapshotItem( )Returns the node at the specified index in the list of result nodes. This method may be used 
only if resultType is UNORDERED_NODE_SNAPSHOT_TYPE or ORDERED_NODE_SNAPSHOT_TYPE. Use the 
snapshotLength property in conjunction with this method.

说明：
To use an XPathResult, first check the resultType property. It will hold one of the 
XPathResult constants. The value of this property tells you which property or method you 
need to use to determine the result value. Calling methods or reading properties that are 
not defined for the current resultType causes an exception.
用 XPathResult 之前，请先检查属性： resultType，它的值是 XPathResult所定义的常量。通过这个值
，可以判断结果集。


日志标题：IE,FF下插入FLASH的搞笑表现
发表时间：2008-4-10 14:58:00
日志内容：先说FF，
document.write('&lt;div style="display:none"&gt;','&lt;object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0" width="0" height="0"&gt;','&lt;param name="movie" value="http://***.***.com/UPixel.swf" /&gt;','&lt;param name="quality" value="high" /&gt;','&lt;embed src="http://***.***.com/UPixel.swf" quality="high" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" width="0" height="0"&gt;&lt;/embed&gt;','&lt;/object&gt;','&lt;/div&gt;');
就是把FLASH放到一个隐藏的层里，丫的，用抓包工具抓，发现，居然没有对 upixel.swf发请求！
在说IE
把上面的DIV去掉，
运行正常，用IEDeveloperBar 查看一下DOM结构，发现Flash 的 width,heigh 由0 0 自动转换成 1 1 了！

日志标题：解脱
发表时间：2008-4-15 11:49:00
日志内容：惭愧惭愧，区区几个报表而以，本人居然左搞右搞搞了快一个月了！先是需求变化，重写一遍。
后是计算方法改变，在写一遍。再是，又加了N个ADV，而先前数据库专家告诉只有两ADV，先硬编码，于是我就又硬编码了几个ADV进去。
现在有差不多10个ADV吧，NND，这个报表的一条SQL我都写了160行了！ADV还在增加，计算方法还在改变中。。。
早上来，经理问我这个报表进展怎么样了，我说没法做了，你加一个ADV，我就手动改一次，你改一下计算方法，我又得大动一次，这样何时是个头啊！
最后经理做出决定，所有的计算都在数据汇总的时候做好，由数据库专家做，我这里不涉及到任何逻辑，只用简单的去查那个表就行了！
解脱！

日志标题：日访问量有多大
发表时间：2008-4-17 22:01:00
日志内容：那天去XX公司去面试，
面试官问我，我们公司的网站日访问量有多大，我说，我们公司的网站不直接给浏览者，所以没有浏览量这一说，但是每天记到数据库里的数据有六七百M。
事实证明，我是瞎说的，今天吃饭的时候，我向同事证实了一下，每天的数据高达六七G，一千多万次请求！
MySQL的，数据是按小时生成表的。
另，抱怨一下，为什么招前端的就只对DIV+CSS感兴趣？

日志标题：JGrid 中拖动改变列宽 原型
发表时间：2008-4-18 21:58:00
日志内容：JGrid 中，可以拖动改变列宽，简单的原理就是改变相应的 col 的 style.width今天看到skybot 同学在问这个问题，就又把这个功能拿出来，单独实现了一下（有改进）顺便，把我研究过的，如何隐藏、显示一列的方法也实现了一把。但是这个功能和 css border-collapse:collapse; 有冲突，详情见代码2

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--* {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #333333;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;table id="dataTable" border="1" cellpadding="0" cellspacing="0" style="table-layout:fixed;"&gt;&lt;colgroup&gt;&lt;col style="width:200px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;/colgroup&gt;&lt;tr&gt;&lt;td&gt;拖动我1&lt;/td&gt;&lt;td&gt;拖动我2&lt;/td&gt;&lt;td&gt;拖动我3&lt;/td&gt;&lt;td&gt;拖动我4&lt;/td&gt;&lt;td&gt;拖动我5&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;script language="javascript" type="text/javascript"&gt;var JPos = {};(function($){$.getAbsPos = function(pTarget){var x_ = y_ = 0;if(pTarget.style.position != "absolute"){while(pTarget.offsetParent){x_ += pTarget.offsetLeft;y_ += pTarget.offsetTop;pTarget = pTarget.offsetParent;}}x_ += pTarget.offsetLeft;y_ += pTarget.offsetTop;return {x:x_,y:y_};}$.getEventPos = function(evt){var _x,_y;evt = JEvent.getEvent(evt);if(evt.pageX || evt.pageY){_x = evt.pageX;_y = evt.pageY;}else if(evt.clientX || evt.clientY){_x = evt.clientX + (document.body.scrollLeft || document.documentElement.scrollLeft) - (document.body.clientLeft || document.documentElement.clientLeft);_y = evt.clientY + (document.body.scrollTop || document.documentElement.scrollTop) - (document.body.clientTop || document.documentElement.clientTop);}else{return $.getAbsPos(evt.target);}return {x:_x,y:_y};}})(JPos);
//=======================================================================================
var JEvent = {};(function($){$.getEvent = function(evt){ evt = window.event || evt;if(!evt){var fun = JEvent.getEvent.caller;while(fun != null){evt = fun.arguments[0];if(evt &amp;&amp; evt.constructor == Event)break;fun = fun.caller;}}return evt;}$.doEvent = function(fun){var args = arguments;return function(){return fun(args);}}})(JEvent);//=======================================================================================
var colIndex;var dataTable = document.getElementById("dataTable");var cols = dataTable.getElementsByTagName("COL");
var dragMask = document.createElement("DIV");var mAWidth = mAHeight = 300;document.body.insertBefore(dragMask,document.body.lastChild);dragMask.style.cssText = "width:" + mAWidth + "px;height:" + mAHeight + "px;position:absolute;background-color:#000;filter: Alpha(Opacity=10);-moz-opacity:0.1;opacity: 0.1;display:none;z-index:999999999;display:none;";
var mask_mousemove = function(evt){if(document.selection){//IE ,Operaif(document.selection.empty)document.selection.empty();//IEelse{//Operadocument.selection = null;}}else if(window.getSelection){//FF,Safariwindow.getSelection().removeAllRanges();}var oPos = JPos.getAbsPos(this);var mPos = JPos.getEventPos(evt);var x = mPos.x - oPos.x - mAWidth / 2;var tmpX = parseInt(cols[colIndex].style.width) + x;dragMask.style.left = mPos.x - mAWidth / 2 + "px";cols[colIndex].style.width = tmpX &gt;= 2 ? tmpX + "px" : "2px";if(!document.all)dataTable.parentNode.style.width = dataTable.parentNode.clientWidth + x + "px";//这一句为处理FF时用。}
var mask_mouseup = function(evt){dragMask.style.display = "none";}
dragMask.onmousemove = mask_mousemove;dragMask.onmouseup = mask_mouseup;
var cell_mousedown = function(evt){colIndex = this.colIndex;var mPos = JPos.getEventPos(evt);with(dragMask.style){left = mPos.x - mAWidth / 2 + "px";top = mPos.y - mAHeight / 2 + "px";display = "";}}
var chk_click = function(evt){var obj = cols[this.colIndex];if(this.checked){obj.style.cssText = obj.css_ ? obj.css_ : "width:100px;";}else{obj.css_ = obj.style.cssText;obj.style.cssText = document.all ? "display:none" : "visibility: collapse;overflow:hidden;width:0px;";}}
var i , o;var label ,chk;for(i = 0 ; o = dataTable.rows[0].cells[i] ; i++){o.colIndex = i;o.onmousedown = cell_mousedown;label = document.createElement("LABEL");document.body.insertBefore(label,document.body.lastChild);chk = document.createElement("INPUT");chk.type = "checkbox";label.appendChild(chk);chk.onclick = chk_click;chk.colIndex = i;chk.checked = "checked";label.appendChild(document.createTextNode(o.innerHTML));}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;


&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;style type="text/css"&gt;&lt;!--* {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;color: #333333;}--&gt;&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;&lt;div&gt;&lt;table id="dataTable" border="1" cellpadding="0" cellspacing="0" style="table-layout:fixed;border-collapse:collapse;"&gt;&lt;colgroup&gt;&lt;col style="width:200px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;col style="width:100px;" /&gt;&lt;/colgroup&gt;&lt;tr&gt;&lt;td&gt;拖动我1&lt;/td&gt;&lt;td&gt;拖动我2&lt;/td&gt;&lt;td&gt;拖动我3&lt;/td&gt;&lt;td&gt;拖动我4&lt;/td&gt;&lt;td&gt;拖动我5&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;script language="javascript" type="text/javascript"&gt;var JPos = {};(function($){$.getAbsPos = function(pTarget){var x_ = y_ = 0;if(pTarget.style.position != "absolute"){while(pTarget.offsetParent){x_ += pTarget.offsetLeft;y_ += pTarget.offsetTop;pTarget = pTarget.offsetParent;}}x_ += pTarget.offsetLeft;y_ += pTarget.offsetTop;return {x:x_,y:y_};}$.getEventPos = function(evt){var _x,_y;evt = JEvent.getEvent(evt);if(evt.pageX || evt.pageY){_x = evt.pageX;_y = evt.pageY;}else if(evt.clientX || evt.clientY){_x = evt.clientX + (document.body.scrollLeft || document.documentElement.scrollLeft) - (document.body.clientLeft || document.documentElement.clientLeft);_y = evt.clientY + (document.body.scrollTop || document.documentElement.scrollTop) - (document.body.clientTop || document.documentElement.clientTop);}else{return $.getAbsPos(evt.target);}return {x:_x,y:_y};}})(JPos);
//=======================================================================================
var JEvent = {};(function($){$.getEvent = function(evt){ evt = window.event || evt;if(!evt){var fun = JEvent.getEvent.caller;while(fun != null){evt = fun.arguments[0];if(evt &amp;&amp; evt.constructor == Event)break;fun = fun.caller;}}return evt;}$.doEvent = function(fun){var args = arguments;return function(){return fun(args);}}})(JEvent);//=======================================================================================
var colIndex;var dataTable = document.getElementById("dataTable");var cols = dataTable.getElementsByTagName("COL");
var dragMask = document.createElement("DIV");var mAWidth = mAHeight = 300;document.body.insertBefore(dragMask,document.body.lastChild);dragMask.style.cssText = "width:" + mAWidth + "px;height:" + mAHeight + "px;position:absolute;background-color:#000;filter: Alpha(Opacity=10);-moz-opacity:0.1;opacity: 0.1;display:none;z-index:999999999;display:none;";
var mask_mousemove = function(evt){if(document.selection){//IE ,Operaif(document.selection.empty)document.selection.empty();//IEelse{//Operadocument.selection = null;}}else if(window.getSelection){//FF,Safariwindow.getSelection().removeAllRanges();}var oPos = JPos.getAbsPos(this);var mPos = JPos.getEventPos(evt);var x = mPos.x - oPos.x - mAWidth / 2;var tmpX = parseInt(cols[colIndex].style.width) + x;dragMask.style.left = mPos.x - mAWidth / 2 + "px";cols[colIndex].style.width = tmpX &gt;= 2 ? tmpX + "px" : "2px";if(!document.all)dataTable.parentNode.style.width = dataTable.parentNode.clientWidth + x + "px";//这一句为处理FF时用。}
var mask_mouseup = function(evt){dragMask.style.display = "none";}
dragMask.onmousemove = mask_mousemove;dragMask.onmouseup = mask_mouseup;
var cell_mousedown = function(evt){colIndex = this.colIndex;var mPos = JPos.getEventPos(evt);with(dragMask.style){left = mPos.x - mAWidth / 2 + "px";top = mPos.y - mAHeight / 2 + "px";display = "";}}
var chk_click = function(evt){var obj = cols[this.colIndex];if(this.checked){obj.style.cssText = obj.css_ ? obj.css_ : "width:100px;";}else{obj.css_ = obj.style.cssText;obj.style.cssText = document.all ? "display:none" : "visibility: collapse;overflow:hidden;width:0px;";}}
var i , o;var label ,chk;for(i = 0 ; o = dataTable.rows[0].cells[i] ; i++){o.colIndex = i;o.onmousedown = cell_mousedown;label = document.createElement("LABEL");document.body.insertBefore(label,document.body.lastChild);chk = document.createElement("INPUT");chk.type = "checkbox";label.appendChild(chk);chk.onclick = chk_click;chk.colIndex = i;chk.checked = "checked";label.appendChild(document.createTextNode(o.innerHTML));}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

日志标题：菜鸟 ＆ Ubuntu 显卡篇
发表时间：2008-5-31 17:36:00
日志内容：#isubb#菜鸟 ＆ Ubuntu 显卡篇
Ubuntu 8.04
显卡：HD2400
首先，从驱动之家下载个HD2400 FOR LINUX，后缀名是： run
我双击它，提示什么格式不对等一堆东东。BAIDU了一下，原来是用 sh 命令。

sh /home/xling/桌面/ati-driver-installer-8-5-x86.x86_64.run
然后，会解包，并弹出一个对话框，
里面有两个选项：
Install Driver 8.493 on X.Org 7.1 and later releases
Generate Distribution Specific Driver Package

第一个选项不行，我换了第二个，然后 Continue一路下去。但是并没有完成。
会提示你用 aticonfig,但是对于菜鸟来说：不会用，不会用，没有关系，在命令行下输：

aticonfig
会提示一大堆帮助信息。里面有个Examples,好了，照着这个帮助写吧：

  1. Setting up fglrx for the first time.
       Single head :    aticonfig --initial --input=/etc/X11/xorg.conf
       Dual head   :    aticonfig --initial=dual-head --screen-layout=above
                        This command will generate a dual head configuration
                        file with the second screen located above the first
                        screen.
重启。。。。
这时，显卡巢荒苁褂茫但是会提示你有个新硬件，点一下，弹出一个对话框，还要下载，好像是和 fglrx 有关的。
下完自动安装，重启，然后：对着桌面右键，选：Change Desktop Background->Visual effect,选择 Normal或 Extra ，靠，太爽了！
可视化效果很NB！

忘了说了，如果是集成显卡的，好像会自动匹配驱动的，我办公用的电脑就省了上面这一堆哆嗦的东东。
完！

日志标题：菜鸟 & Ubuntu 五笔篇
发表时间：2008-5-31 17:37:00
日志内容：#isubb#Ubuntu 8.04

这个版本，默认没有中文输入法，我在公司装的时候，搞了一下午，全部用拼音字母给别人说话，很不爽。
后来，请教高手知道在 System->系统管理下有个 新立得软件管理器，上面有个搜索框，输入SCIM，会搜出N多东东，
这些东东对菜鸟来说，没有一个懂的，于是就看看差不多像汉字输入法的条目上点选，然后 Apply,下载并自动安装，重启，选择SCIM Setup,
在选：IMEngine 乱改一气，可以了！

哈哈，完！

日志标题：菜鸟 ＆ Ubuntu vi 篇
发表时间：2008-5-31 17:38:00
日志内容：#isubb#Ubuntu 8.04

这个版本的 root 用户，默认不能使用。这就给修改配置文件带来了很大的不爽。
用 gedit 打开文件由于没有权限，所以，只能看，不能修改，于是就用 vi

sudo vi/etc/profile
输入密码，文件被打开了，要修改就得按下 i 键，然后做修改。

昨天我修改 idea.sh ，加入 JDK_HOME 的时候，安下 jdk 这几个字母的时候（好像是，忘记了），结果搞的一塌胡涂，没有办法修改！
baidu 了一下，原来这个版本默认安装的是 vim-tiny,非 vim-full,需要升级！

sudo apt-get install vim-full

更新自动安装后，在用 vi ，太爽了！
完！




日志标题：菜鸟 & Ubuntu 拨号上网篇
发表时间：2008-5-31 17:46:00
日志内容：#isubb#这个很简单，baidu 一下，一大把。
这里就不说了，把命令记下来，备份

新建 sudo pppoeconf
修改 sudo pon dsl-provider

日志标题：菜鸟 & Ubuntu 解压与执行
发表时间：2008-6-3 21:57:00
日志内容：#isubb#目前，只接触到 tar.bz2 和 tar.gz 两种包，这种包的解压命令为：

tar xvfj /media/disk/skype_static-2.0.0.68.tar.bz2 -C /usr/local/soft/
tar xzvf /media/disk/mysql-5.1.24-rc-linux-i686-glibc23.tar.gz -C /usr/local/server/

命令的含意还没有时间去理解，只得强记了。

bin 文件的执行用 sh 命令
 sh /usr/local/soft/ZendStudioForEclipse-6_0_0.bin

日志标题：菜鸟 & Ubuntu Apache 篇
发表时间：2008-6-3 23:27:00
日志内容：#isubb#以前用 apache ，都是直接下以编译过的版本，
现在在 linux 下，好像找不到编译的版本可用，于是下了一个 httpd-2.2.8.tar.bz2
解压：
tar xvfj /media/disk/ httpd-2.2.8.tar.bz2  -C /usr/local/soft/

解压之后，在文件夹里有个 INSTALL的文件，

  For complete installation documentation, see [ht]docs/manual/install.html or
  http://httpd.apache.org/docs-2.2/install.html

     $ ./configure --prefix=PREFIX
     $ make
     $ make install
     $ PREFIX/bin/apachectl start

     NOTES: * Replace PREFIX with the filesystem path under which 
              Apache should be installed.  A typical installation
              might use "/usr/local/apache2" for PREFIX (without the
              quotes).

            * If you are building on FreeBSD, be aware that threads will
              be disabled and the prefork MPM will be used by default,
              as threads do not work well with Apache on FreeBSD.  If
              you wish to try a threaded Apache on FreeBSD anyway, use
              "./configure --enable-threads".

            * If you are building on Mac OS X (Darwin), make sure to
              use libtool 1.4.2 or newer.

            * If you are a developer building Apache directly from CVS,
              you will need to run ./buildconf before running configure.

于是照着这个写命令：
./configure --prefix=/usr/local/server/httpd-2.2.8/

但是提示：
error: C compiler cannot create executables

baidu 了一下，要解决这个，需要安装一个东东：
sudo apt-get install libc6-dev
下载并完装完成之后，执行：
./configure --prefix=/usr/local/server/httpd-2.2.8/
make
make install

OK,完成，像我这样的菜鸟，什么也不需要配置，因为不懂！！

bin/apachectl start
之后，在FIREFOX里输入： 
http://localhost
显示： It works!

完！

日志标题：菜鸟&#160;&&#160;Ubuntu&#160;发送邮件的问题
发表时间：2008-6-5 10:13:00
日志内容：#isubb#这几天一直在用 Ubuntu ，但是一直没有用MAIL
今天用 Evolution 发邮件，居然一直提示：

The application 'evolution' (/usr/bin/evolution) wants access to the default keyring, but it is locked

不懂，也不知道怎么弄，胡乱在 Applications->附件->密码和加密密钥下搞了一通，在发邮件，还是不行。。。
汗。。。

当我把 linux 高手叫来看的时候，这框框居然不弹出来了！邮件发出去了。。。
晕。。。
我做的什么？？？

日志标题：菜鸟 & Ubuntu 自动挂载硬盘
发表时间：2008-6-11 22:41:00
日志内容：#isubb#Ubuntu 8.04

装 Ubuntu 的时候，如果不设 swap 分驱的话，分提示你＊＊＊。
我一开始装的时候，随便找了一个盘当作 swap ,结果让我后悔的事情发生了，我写的程序全部在那个盘里，这下可好！全完蛋了！
查了查，本人对 swap 的理解大致是：像 windows 下的 虚拟内存一样（请别扔鸡蛋）

上周，公司的电脑上，我在WINDOWS下把SWAP区给格式化了，结果这周一来，电脑启动不了了，连启动菜单也进不了了，提示什么 ：
grup error 17

晕，只好用 xp 盘修复了一把：
进入修复模式，用命令：
fixmbr
fixboot

进入 WINDOWS后，才发现，原来，我把 ext3 的分驱给格了！ swap的还在那睡觉呢。汗。。。
今中午又把公司的电脑重装了一次Ubuntu ，在选磁盘的时候，没有设 swap 分驱，把 倒数第二个分驱当着 ntfs ，挂载点为： /F
一路下来，没有出什么差错。ls 了一把，/F 正是WINDOWS下的 f 盘，很好。

但是其它盘并没挂载，于是百度了一下，

自动挂载硬盘

就照着下面的顺序，做成功了！


1，先得到 root 的组ID

cat /etc/group
找到 root ：

root:x:0:

gid为 0

2，新建文件夹，
mkdir /c
mkdir /d
mkdir /e

3，得到各分区的编号：
ls -l /dev/disk/by-uuid

xling@xling-laptop:~$ ls -l /dev/disk/by-uuid/
total 0
lrwxrwxrwx 1 root root 10 2008-06-12 05:56 1432229C322282BA -> ../../sda3
lrwxrwxrwx 1 root root 10 2008-06-12 05:56 167CD9767CD950DB -> ../../sda1
lrwxrwxrwx 1 root root 10 2008-06-12 05:56 1870340D7033F05C -> ../../sda2
lrwxrwxrwx 1 root root 10 2008-06-12 05:56 494ea18a-43b3-4346-a19c-39c1cefe2f17 -> ../../sda5

下午看到一篇文章，说什么是从 sda5 开始的，一时找不到了，明天到公司在找找。
现在看到的结果，对应WINDOWS下的顺序就是： E盘，C盘，D盘，


4，修改 /etc/fstab

UUID=167CD9767CD950DB /c              ntfs    defaults,umask=007,gid=0				0	1
UUID=1870340D7033F05C  /d              ntfs    defaults,umask=007,gid=0				0	1
UUID=1432229C322282BA  /e              ntfs    defaults,umask=007,gid=0				0	1

我的 c,d,e盘都是 ntfs ，如果是fat32的话，要把 ntfs 改成 vfat，gid就是上面所得到的 gid.

具体每个参数，不是太清楚，如果需要，可以查查。umask 权限，





参考：
http://hi.baidu.com/%D3%C0%D4%B6%B5%C4%B0%AE%D6%AE%C6%A6%D7%D3/blog/item/5afad4cd5dc9b9520fb34527.html
引用：

具有某种共同特征的用户集合起来就是用户组（Group）。用户组（Group）配置文件主要有 /etc/group和/etc/gshadow，其中/etc/gshadow是/etc/group的加密信息文件；在本标题下，您还能了解到什么是GID ；

1、/etc/group 解说；

/etc/group 文件是用户组的配置文件，内容包括用户和用户组，并且能显示出用户是归属哪个用户组或哪几个用户组，因为一个用户可以归属一个或多个不同的用户组；同一用户组的用户之间具有相似的特征。比如我们把某一用户加入到root用户组，那么这个用户就可以浏览root用户家目录的文件，如果root用户把某个文件的读写执行权限开放，root用户组的所有用户都可以修改此文件，如果是可执行的文件（比如脚本），root用户组的用户也是可以执行的；

用户组的特性在系统管理中为系统管理员提供了极大的方便，但安全性也是值得关注的，如某个用户下有对系统管理有最重要的内容，最好让用户拥有独立的用户组，或者是把用户下的文件的权限设置为完全私有；另外root用户组一般不要轻易把普通用户加入进去，

2、/etc/group 内容具体分析

/etc/group 的内容包括用户组（Group）、用户组口令、GID及该用户组所包含的用户（User），每个用户组一条记录；格式如下：

group_name:passwd:GID:user_list

在/etc/group 中的每条记录分四个字段：

第一字段：用户组名称；

第二字段：用户组密码；

第三字段：GID

第四字段：用户列表，每个用户之间用,号分割；本字段可以为空；如果字段为空表示用户组为GID的用户名；

我们举个例子：

root:x:0:root,linuxsir 注：用户组root，x是密码段，表示没有设置密码，GID是0,root用户组下包括root、linuxsir以及GID为0的其它用户（可以通过 /etc/passwd查看）；；beinan:x:500:linuxsir 注：用户组beinan，x是密码段，表示没有设置密码，GID是500,beinan用户组下包括linuxsir用户及GID为500的用户（可以通过/etc/passwd查看）；linuxsir:x:502:linuxsir 注：用户组linuxsir，x是密码段，表示没有设置密码，GID是502,linuxsir用户组下包用户linuxsir及GID为502的用户（可以通过/etc/passwd查看）；helloer:x:503: 注：用户组helloer，x是密码段，表示没有设置密码，GID是503,helloer用户组下包括GID为503的用户，可以通过 /etc/passwd查看；



而/etc/passwd 对应的相关的记录为：

root:x:0:0:root:/root:/bin/bashbeinan:x:500:500:beinan sun:/home/beinan:/bin/bashlinuxsir:x:505:502:linuxsir open,linuxsir office,13898667715:/home/linuxsir:/bin/bashhelloer:x:502:503::/home/helloer:/bin/bash

由此可以看出helloer用户组包括 helloer用户；所以我们查看一个用户组所拥有的用户，可以通过对比/etc/passwd和/etc/group来得到；

日志标题：菜鸟 & Ubuntu 挂载FAT32分驱带来的问题
发表时间：2008-6-12 15:57:00
日志内容：#isubb#我在 Ubuntu下挂载 FAT32的分驱，挂载成功，但是新建一个大写的文件、文件夹，都会自动转换成小写的！进WINDOWS下看，却又是大写的，为啥？

NTFS的分驱不会有这种问题。

不懂，也没有找到解决方法，为了不吊死在这棵树上，我只好去WINDOWS下 convert 了一把。
懂的同志，请不吝赐教。谢谢。


# /etc/fstab: static file system information.
#
#
proc /proc proc defaults 0 0
# /dev/sda8
UUID=74ff3f47-2fbe-4587-87a5-6a446c880f7f / ext3
relatime,errors=remount-ro 0 1
# /dev/sda7
UUID=08A04A0BA04A0024 /F ntfs defaults,umask=007,gid=46 0 1
/dev/scd0 /media/cdrom0 udf,iso9660 user,noauto,exec,utf8 0 0


UUID=6F6B-32C4 /D vfat defaults,umask=007,gid=46 0 1
UUID=7413-A5C8 /E vfat defaults,umask=007,gid=46 0 1

日志标题：菜鸟 & Ubuntu Swap分区
发表时间：2008-6-13 10:10:00
日志内容：#isubb#前面说到我把 ext3 给当作 swap 给格了，新装的 ubuntu 没有设定 swap，
昨天用 free 命令查看，就开个 idea (JAVA IDE),内存都快彪到1G了，我WINDOWS下把Norton 也打开，也不过才用七八百M而以，不晓得为啥，这么占内存，不懂，也不知道如何优化。

想到 swap 相当于虚拟内存（别扔鸡蛋），于是百度了一下，照着给弄了个 swap file,

dd if=/dev/zero of=/home/swapfile bs=1024 count=1024000
mkswap /home/swapfile

执行上面的一行命令之后，显示如下：
Setting up swapspace version 1, size = 1048571 kB
no label, UUID=d872cdc3-cace-47ea-9201-eeef0336e0bb

swapon /home/swapfile

开机自动设置 swap，打开 /etc/fstab ,加一行，
#/etc/fstab
#swap space
/home/swapfile		none			swap     defaults        0 0

上面的是参考：
http://www.baidu.com/s?wd=swap%B7%D6%C7%F8&lm=0&si=&rn=10&ie=gb2312&ct=0&cl=3&f=1&rsp=7

如果不懂 dd ,可以 man dd 看一下。
仍不清楚 fstab中所加的那一行的各参数的具体意思。


日志标题：菜鸟&#160;&&#160;Ubuntu&#160;zlib1.2.3&#160;安装时的问题
发表时间：2008-6-13 15:18:00
日志内容：#isubb#像我这样菜的人，如果离开了网络，真不知道要怎么玩 Ubuntu.
下午就装这个 zlib1.2.3,老报以下错误：

root@nickr-desktop:/usr/local/server/zlib-1.2.3# ./configure --profix=/usr/local/server/zlib
Checking for gcc...
Building static library libz.a version 1.2.3 with gcc.
Checking for unistd.h... No.
Checking whether to use vs[n]printf() or s[n]printf()... using s[n]printf()
Checking for snprintf() in stdio.h... No.
  WARNING: snprintf() not found, falling back to sprintf(). zlib
  can build but will be open to possible buffer-overflow security
  vulnerabilities.
Checking for return value of sprintf()... No.
  WARNING: apparently sprintf() does not return a value. zlib
  can build but will be open to possible string-format security
  vulnerabilities.
Checking for errno.h... No.
Checking for mmap support... No.
root@nickr-desktop:/usr/local/server/zlib-1.2.3# make
gcc -O3 -DNO_snprintf -DHAS_sprintf_void -DNO_ERRNO_H   -c -o example.o example.c
example.c:8:19: error: stdio.h: No such file or directory
example.c:12:22: error: string.h: No such file or directory
example.c:13:22: error: stdlib.h: No such file or directory
example.c: In function ‘test_compress’:
example.c:64: warning: incompatible implicit declaration of built-in function ‘strlen’
example.c:67: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:67: error: ‘stderr’ undeclared (first use in this function)
example.c:67: error: (Each undeclared identifier is reported only once
example.c:67: error: for each function it appears in.)
example.c:67: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:69: warning: incompatible implicit declaration of built-in function ‘strcpy’
example.c:72: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:72: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:75: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:76: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:78: warning: incompatible implicit declaration of built-in function ‘printf’
example.c: In function ‘test_gzio’:
example.c:94: warning: incompatible implicit declaration of built-in function ‘strlen’
example.c:99: error: ‘NULL’ undeclared (first use in this function)
example.c:100: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:100: error: ‘stderr’ undeclared (first use in this function)
example.c:101: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:105: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:106: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:109: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:110: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:117: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:118: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:120: warning: incompatible implicit declaration of built-in function ‘strcpy’
example.c:123: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:124: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:127: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:128: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:130: warning: incompatible implicit declaration of built-in function ‘printf’
example.c:135: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:137: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:141: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:142: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:146: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:147: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:152: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:153: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:156: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:157: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:159: warning: incompatible implicit declaration of built-in function ‘printf’
example.c: In function ‘test_deflate’:
example.c:175: warning: incompatible implicit declaration of built-in function ‘strlen’
example.c:182: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:182: error: ‘stderr’ undeclared (first use in this function)
example.c:182: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:190: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:190: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:197: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:197: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:201: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:201: warning: incompatible implicit declaration of built-in function ‘exit’
example.c: In function ‘test_inflate’:
example.c:214: warning: incompatible implicit declaration of built-in function ‘strcpy’
example.c:225: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:225: error: ‘stderr’ undeclared (first use in this function)
example.c:225: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:231: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:231: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:235: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:235: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:238: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:239: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:241: warning: incompatible implicit declaration of built-in function ‘printf’
example.c: In function ‘test_large_deflate’:
example.c:260: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:260: error: ‘stderr’ undeclared (first use in this function)
example.c:260: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:271: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:271: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:273: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:274: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:282: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:282: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:289: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:289: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:293: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:294: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:297: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:297: warning: incompatible implicit declaration of built-in function ‘exit’
example.c: In function ‘test_large_inflate’:
example.c:310: warning: incompatible implicit declaration of built-in function ‘strcpy’
example.c:320: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:320: error: ‘stderr’ undeclared (first use in this function)
example.c:320: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:327: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:327: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:331: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:331: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:334: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:335: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:337: warning: incompatible implicit declaration of built-in function ‘printf’
example.c: In function ‘test_flush’:
example.c:350: warning: incompatible implicit declaration of built-in function ‘strlen’
example.c:357: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:357: error: ‘stderr’ undeclared (first use in this function)
example.c:357: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:364: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:364: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:371: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:371: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:374: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:374: warning: incompatible implicit declaration of built-in function ‘exit’
example.c: In function ‘test_sync’:
example.c:389: warning: incompatible implicit declaration of built-in function ‘strcpy’
example.c:399: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:399: error: ‘stderr’ undeclared (first use in this function)
example.c:399: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:405: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:405: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:409: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:409: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:413: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:415: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:418: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:418: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:420: warning: incompatible implicit declaration of built-in function ‘printf’
example.c: In function ‘test_dict_deflate’:
example.c:438: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:438: error: ‘stderr’ undeclared (first use in this function)
example.c:438: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:442: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:442: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:449: warning: incompatible implicit declaration of built-in function ‘strlen’
example.c:453: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:454: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:457: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:457: warning: incompatible implicit declaration of built-in function ‘exit’
example.c: In function ‘test_dict_inflate’:
example.c:470: warning: incompatible implicit declaration of built-in function ‘strcpy’
example.c:480: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:480: error: ‘stderr’ undeclared (first use in this function)
example.c:480: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:490: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:491: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:496: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:496: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:500: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:500: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:503: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:504: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:506: warning: incompatible implicit declaration of built-in function ‘printf’
example.c: In function ‘main’:
example.c:524: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:524: error: ‘stderr’ undeclared (first use in this function)
example.c:525: warning: incompatible implicit declaration of built-in function ‘exit’
example.c:528: warning: incompatible implicit declaration of built-in function ‘fprintf’
example.c:531: warning: incompatible implicit declaration of built-in function ‘printf’
example.c:534: warning: incompatible implicit declaration of built-in function ‘calloc’
example.c:541: warning: incompatible implicit declaration of built-in function ‘exit’
make: *** [example.o] Error 1

百度了一把，说的基本驴头不对马嘴，就在我恢心的时候，看到了某高人的经验：没有装 libc-dev
apt-get install libc-dev
OK

另外，上面的 make ,make install 后，configure  libpng1.2.29 的时候 ，可能会遇到如下问题：
error: zlib not installed

百度了一把，说是在配置 zlib 的时候，使用了 --prefix ,不用这个选项，配置 libpng 就不会出现这种问题。

最后发一个软件 gnome-do
https://wiki.ubuntu.com/GnomeDo/Installation
感觉还可以。

日志标题：菜鸟 ＆ Ubuntu PHP配置篇
发表时间：2008-6-18 10:38:00
日志内容：#isubb#这里就不说那么多废话了，网上的教程大把的是。
但是也不要完全照着教程来，因为不同的版本，不同的环境，出现的问题肯定不一样。

在 make php 的时候， 如果提示找不到：libjpeg.so,libpng12.so
那么，就需要先编译 zlib,jpeg,png,gd (重新编译的时候，最好　make clean 一下在，configure)

之后，
cd /usr/lib
ln -s libjpeg.so.62 libjpeg.so
ln -s libpng12.so.0 libpng.so

网上说的关于这两个文件找不到的问题，我试了，只有这种方法起作用。

如果提示找不到：jpeglib.h,jerror.h,jconfig.h,jmorecfg.h
就需要先把这些文件考到 /usr/include 下面，


一个奇怪的问题，不懂，mysql 目录下，data 和它下的所有文件，文件夹的 owner 都改为 mysql ,group 也都改为 mysql了，
在 .bashrc 和 /etc/profile 里均加入：

export MYSQL_HOME=/usr/local/server/mysql
export PATH=$JAVA_HOME/bin:$MYSQL_HOME/bin:$PATH

了，但是这管是用 root 用户还是 普通用户，用如下方式：

mysqld_safe --user=mysql
或
/usr/local/server/mysql/bin/./mysqld_safe --user=mysql

都不能启动 mysql
必需：
cd /usr/local/server/mysql
bin/./mysqld_safe --user=mysql
才能启动，不晓得为啥。


日志标题：菜鸟 & Ubuntu 挂载分驱与Apache多站点
发表时间：2008-6-18 22:33:00
日志内容：#isubb#为了配APACHE ＋ PHP ＋GD2，我练了N天N次，终于现在不眨眼，就能一气完成！
但是今天在自定义站点目录的时候，居然据绝访问。
我是想把站点目录放到D盘下的（NTFS格式），于是做了自动挂载，在 /etc/fstab 文件里，我写：

UUID=1870340D7033F05C /DISK_D         ntfs    defaults,umask=007,gid=46 0       1
具体怎么自动挂载，请百度一下，或参考：
http://xling.blueidea.com/archives/2008/6370.shtml

这里有个 gid=46,就是group id =46 ,即：plugdev ，在安装系统的时候，如果设定了挂载点，默认就是这个值，手工挂载的时候，我是考这个的，所以是 46。随便进 /DISK_D,可以看到所有的文件的组都是：plugdev，原因就出在这上。

于是，我把这个值改为： 0，就是 root 组。
UUID=1870340D7033F05C /DISK_D         ntfs    defaults,umask=007,gid=0 0       1

重启，然开开启 apache ，在访问，OK，
关于如何在APACHE下配置多站点，可以参考：
http://xling.blueidea.com/archives/2007/5611.shtml

日志标题：你在用IE7 的 XMLHttpRequest 对象吗?
发表时间：2008-6-23 13:37:00
日志内容：今天研究了一下 dojo的 require 这个函数,发现它能载入本地文件(注:此本地非彼本地,这里是指以 D:\WEB\usnower\www\JObj\test.html 这样的形式访问网页)
但是我自己声明的 对象却不能访问,提示:拒绝访问,跟踪了老长一段时间,发现: dojo 在IE下(IE7下),并没有用内置的 XMLHttpRequest 这个对象!
于是,我把判断如果 IE7,就直接用 new XMLHttpRequest() 给去掉了!NND,居然可以了!就是这个问题！

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;&lt;title&gt;无标题文档&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;script&gt;var doc = new ActiveXObject("Msxml2.XMLHTTP");doc.open("GET","lib/ChainDom.js",false)doc.send();alert(doc.responseText)
/*var doc = new XMLHttpRequest();doc.open("GET","file:/D:/WEB/usnower/www/JObj/lib/ChainDom.js",false)doc.send();alert(doc.responseText);*/&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;

以上请保存为本地文件在测试．

日志标题：菜鸟&#160;&&#160;Ubuntu&#160;重装&#160;MySQL
发表时间：2008-6-24 11:33:00
日志内容：#isubb#装上MYSQL后，想新建一个用户，于是：
CREATE USER userName IDENTIFIED BY 'userPassword';
执行后，用这个 userName 登陆，发现跟本没有密码！
但是库 mysql表 user 里，密码却以设置！
不明白。试着 mysqladmin -u root shutdown 了一下，结果 mysql 在也启动不了！
删除，解压，install ，如是进行了N回，一直提示这几个错误：
Ignoring user change to 'database' because the user was set to 'mysql' earlier on the command line 
FATAL ERROR: Could not find /fill_help_tables.sql
Can't find messagefile '/usr/share/mysql/english/errmsg.sys

不晓得为啥，百度出来的信息全是废话，就看到一行字：配置文件，于是：
find -name mysql*
发现：/etc/mysql/my.cnf 这个文件，打开一看，正是传说中的配置文件，偶把它给删除了。
在重新安装 mysql ,一切顺利 ！
完！

-------------------------------------------------------
又试了试新增用户：

create user usnower@'localhost' identified by 'usnower';
create database usnower default charset utf8;
grant all on usnower.* to usnower;

用户的 密码被成功指定了，原来和 WINDOWS下的新建用户不一样啊！

日志标题：自己写的PHP模板程序
发表时间：2008-6-27 16:52:00
日志内容：#isubb#前言：
有句话说：文章是自己写的好，老婆是别人的香。
说这话没啥别的意思，各位不要乱想。

去面试PHP，基本都会问我用不用模板，会不会Smarty 之类的。我说，用模板，但是不会用Smarty.
为啥要会呢？我自己写一个不好吗？虽然有地方不合理，效率不及Smarty ，但是那也是我自己写的啊！我有信心，把它改进的越来越完美。

原来写的GTpl类，不能调用函数，不能include 子模板，今天我把它们给加上
相关源码见附件：[URL=http://blogbeta.blueidea.com/UploadFiles/2008-6/627603980.zip]源文件[/URL]

模板示例：
[QUOTE]

	

	
	
	Login Name:
	Password:
	

	
	

	Control Center
	Logout!

	

{include admin/includeTest.html}
[/QUOTE]
使用示例：
<?php
$sFile = PATH_DOC_ROOT."/cached/tpl/default/admin/loginForm";
if(false === ($tpl = GTpl::loadTpl($sFile))){
	$tpl = new GTpl(PATH_DOC_ROOT."/tpl/default",PATH_DOC_ROOT."/logs/tpl.log");
	$tpl->load("adminLogin","admin/loginForm.html");
	$tpl->assign(array(
		"formAction"	=>	$_SERVER['PHP_SELF'],
		"admin"			=>	$_POST["admin"]
	));
	$tpl->saveToFile($sFile);
}

$tpl->parseBlock("blk_adminLoginForm","cond_noLogin");
$tpl->parse("adminLogin");
?>

日志标题：javascript import css
发表时间：2008-7-3 16:57:00
日志内容：差点被FF下的insertRule给带晕了.
sheet.insertRule("@import url('aa.css');",sheet.cssRules.length);
一开始少写了个分号(红色的),怎么搞都不对.


var style = document.createElement("STYLE");document.body.appendChild(style);style.onerror = function(){alert("here1")}style.onreadystatechange = function(){alert("here2");}var sheet = style.styleSheet || style.sheet;
if(sheet.addImport)sheet.addImport("aa.css");elsesheet.insertRule("@import url('aa.css');",sheet.cssRules.length);

日志标题：Firefox3，它又在那打飞机！
发表时间：2008-7-4 11:38:00
日志内容：各位看官，您说在FF3下，下面的代码会 alert 几次？ 
&lt;script&gt; var xmlHttp = new XMLHttpRequest(); xmlHttp.onreadystatechange = function(){ alert(xmlHttp.status); } xmlHttp.open("GET","http://usnower/test.php", false ); xmlHttp.send(null); alert("outer" + xmlHttp.status);&lt;/script&gt;

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function(){
        alert(xmlHttp.status);
    }
    xmlHttp.open("GET","http://usnower/test.php", false );
    xmlHttp.send(null);
    alert("outer" + xmlHttp.status);


告诉你： Just one ! 您在看现下面的代码：
&lt;script&gt; var xmlHttp = new XMLHttpRequest(); xmlHttp.onreadystatechange = function(){ alert(xmlHttp.status); } xmlHttp.open("GET","http://usnower/test.php",true ); xmlHttp.send(null); alert("outer" + xmlHttp.status);&lt;/script&gt;


    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function(){
        alert(xmlHttp.status);
    }
    xmlHttp.open("GET","http://usnower/test.php", true );
    xmlHttp.send(null);
    alert("outer" + xmlHttp.status);

这个可不止 alert 一次！ 
也就是说：在FF3下，它打了一个大的飞机！当 async = false 的时候，onreadystatechange 里写的代码，不被执行！
真TM的够浪的！
真TMD是 ＊＊中的战斗机啊！ 
各位可以验证一下。

日志标题：mysql&nbsp;continue&nbsp;handler
发表时间：2008-7-15 17:17:00
日志内容：如下刚开始少加了下面这个判断： IF NOT V_STOP THEN 不管怎么弄，都会把游标的最后条数据给重复一笔出来。现在想想，那个 continue handle 是说当游标没有记录可用的时候，继续向下执行，这可不，最后一条记录肯定会重复（不知道看官你想明白了没有）。
DELIMITER // CREATE FUNCTION USNOWER_F_ART_ALBUMS(IN_ART INT) RETURNS VARCHAR(1000) BEGIN  DECLARE V_ALBUM INT;  DECLARE V_ALBUM_NAME VARCHAR(30);  DECLARE V_ALBUMS VARCHAR(1000) DEFAULT '';  DECLARE V_ALBUM_NAMES VARCHAR(1000) DEFAULT '';  DECLARE V_STOP BOOL DEFAULT FALSE;  DECLARE CUR_1 CURSOR FOR SELECT A.ALBUM,B.NAME AS ALBUM_NAME FROM USNOWER_ART_ALBUM A LEFT JOIN USNOWER_ALBUM B ON A.ALBUM = B.ID WHERE A.ART = IN_ART;  DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET V_STOP = TRUE;  OPEN CUR_1;   REPEAT FETCH CUR_1 INTO V_ALBUM,V_ALBUM_NAME;  IF NOT V_STOP THEN SET V_ALBUMS = CONCAT(V_ALBUMS,V_ALBUM,',');  SET V_ALBUM_NAMES = CONCAT(V_ALBUM_NAMES,V_ALBUM_NAME,',');  END IF;  UNTIL V_STOP END REPEAT;  CLOSE CUR_1;  RETURN CONCAT(V_ALBUM_NAMES,'|',V_ALBUMS); END// DELIMITER ;

日志标题：Mysql&nbsp;1093&nbsp;号错误&nbsp;及解决
发表时间：2008-7-17 1:00:00
日志内容：要做这样一个功能： 主表中有一ID对应副表中多个记录（一对多）。 现在给一组新值，如果在副表中存在，则保留，不存在，则插入（插入不在本话题讨论范围内）。如果旧记录的某个值不存在于这组新值中，则删除。比方：新值： a,b,f 以存在的旧值：a,b,c,e，现在要把c,e删除了，把 f 插进去。 
开始我这样写： 
DELETE FROM USNOWER_ART_KEYWORD WHERE ID IN ( SELECT A.ID FROM USNOWER_ART_KEYWORD A LEFT JOIN USNOWER_KEYWORD B ON A.KEYWORD = B.ID WHERE A.ART = 13 AND B.KEYWORD NOT IN ('usnower','fashion') ); 
mysql 报错：ERROR 1093 (HY000): You can't specify target table 'USNOWER_ART_KEYWORD' for update in FROM clause 以前做ORACLE的时候，碰到过变异表的问题：http://xling.blueidea.com/archives/2006/3012.shtml，我想这个也许和那个有点相似吧。 
查了查百度，我做了一点修改： 
DELETE FROM USNOWER_ART_KEYWORD WHERE ID IN ( SELECT C.ID FROM( SELECT A.ID FROM USNOWER_ART_KEYWORD A LEFT JOIN USNOWER_KEYWORD B ON A.KEYWORD = B.ID WHERE A.ART = 13 AND B.KEYWORD NOT IN ('usnower','fashion') ) C ); 
即多出来一层SELECT。 问题解决。 
OK，睡觉，明天还要找工作呢。哎。

日志标题：PHP令牌 Token改进版
发表时间：2008-7-17 12:59:00
日志内容：先前的文章请见：
http://www.blueidea.com/tech/program/2008/5494.asp
那个版本中，存在一个小问题，因为要做可逆加密，而加密出来的字符是不可显示字符+乱码，所以我用了 base64对其进行了处理，这样一来，就不会有乱码和不可显示字符了。
正是由于使用了 base64 ，所以在把这个令牌通过 GET方法发送的时候，出现了问题。
比如：http://test/test.php?a=1+2
你用 $_GET["a"] 取得是：1 2 ，即那个加号没有了。一开始我用 urlencode 对其进行转换，但是总有那么一两的结果是意料外的。
后来想想 base64 的字符就限定于： [A-Za-z0-9\+\/=] 这么多，加号出问题，我就把加号换成不出问题的符号，下划线是最好的选择。下面是修改后的代码：
GEncrypt.inc.php

&lt;?phpclass GEncrypt {protected static function keyED($txt, $encrypt_key) {$encrypt_key = md5 ( $encrypt_key );$ctr = 0;$tmp = "";for($i = 0; $i &lt; strlen ( $txt ); $i ++) {if ($ctr == strlen ( $encrypt_key ))$ctr = 0;$tmp .= substr ( $txt, $i, 1 ) ^ substr ( $encrypt_key, $ctr, 1 );$ctr ++;}return $tmp;}public static function encrypt($txt, $key) {$encrypt_key = md5 ( (( float ) date ( "YmdHis" ) + rand ( 10000000000000000, 99999999999999999 )) . rand ( 100000, 999999 ) );$ctr = 0;$tmp = "";for($i = 0; $i &lt; strlen ( $txt ); $i ++) {if ($ctr == strlen ( $encrypt_key ))$ctr = 0;$tmp .= substr ( $encrypt_key, $ctr, 1 ) . (substr ( $txt, $i, 1 ) ^ substr ( $encrypt_key, $ctr, 1 ));$ctr ++;}return ( preg_replace("/\\+/s","_", base64_encode ( self::keyED ( $tmp, $key ) ) ));}//base64 [A-Za-z0-9\+\/=]public static function decrypt($txt, $key) {if($txt == ""){ return false;} //echo preg_replace("/_/s","+",$txt);$txt = self::keyED (base64_decode ( preg_replace("/_/s","+", $txt) ), $key );$tmp = "";for($i = 0; $i &lt; strlen ( $txt ); $i ++) {$md5 = substr ( $txt, $i, 1 );$i ++;$tmp .= (substr ( $txt, $i, 1 ) ^ $md5);}return $tmp;}}
?&gt;
GToken.inc.php
&lt;?php/*** 原理：请求分配token的时候，想办法分配一个唯一的token, base64( time + rand + action)* 如果提交，将这个token记录，说明这个token以经使用，可以跟据它来避免重复提交。**/class GToken {/** * 得到当前所有的token * * @return array */public static function getTokens(){$tokens = $_SESSION[GConfig::SSN_KEY_TOKEN ];if (empty($tokens) &amp;&amp; !is_array($tokens)) {$tokens = array();}return $tokens;}/** * 产生一个新的Token * * @param string $formName * @param 加密密钥 $key * @return string */public static function newToken($formName,$key = GConfig::ENCRYPT_KEY ){$token = GEncrypt::encrypt($formName.session_id(),$key);return $token;}/** * 删除token,实际是向session 的一个数组里加入一个元素，说明这个token以经使用过，以避免数据重复提交。 * * @param string $token */public static function dropToken($token){$tokens = self::getTokens();$tokens[] = $token;GSession::set(GConfig::SESSION_KEY_TOKEN ,$tokens);}/** * 检查是否为指定的Token * * @param string $token要检查的token值 * @param string $formName  * @param boolean $fromCheck 是否检查来路,如果为true,会判断token中附加的session_id是否和当前session_id一至. * @param string $key 加密密钥 * @return boolean */public static function isToken($token,$formName,$fromCheck = false,$key = GConfig::ENCRYPT_KEY){if(empty($token)) return false;$tokens = self::getTokens();if (in_array($token,$tokens)) //如果存在，说明是以使用过的tokenreturn false;$source = GEncrypt::decrypt($token,$key);if($fromCheck)return $source == $formName.session_id();else{return strpos($source,$formName) === 0;}}public static function getTokenKey($token,$key = GConfig::ENCRYPT_KEY){if($token == null || trim($token) == "") return false;$source = GEncrypt::decrypt($token,$key);return $source != "" ? str_replace(session_id(),"",$source) : false;}public function newTokenForSmarty($params){$form = null;extract($params);return self::newToken($form);}}?&gt;


日志标题：preg_replace&#160;删除汉字
发表时间：2008-7-18 18:25:00
日志内容：#isubb#编码是UTF8，
一开始我这样写：
echo preg_replace('/[\x{4e00}-\x{9fa5}]/is',"","aa'|bb_|大小，");
貌视没有什么问题，
但是提示：
Compilation failed: character value in \x{...} sequence is too large
百度，GOOGLE均没有找到合适的答案。

银子同学给个解决方法：
$str = "abc一二三cde";
echo preg_replace('/[^\x4e00-\x9fa5]/i'," ",$str);

但是执行后，汉字是没了，全转成乱码了，因为是UTF8格式。

后来翻翻手册，看有个模式修正符：u (小写)
u（PCRE_UTF8）

    此修正符启用了一个 PCRE 中与 Perl 不兼容的额外功能。模式字符串被当成 UTF-8。本修正符在 Unix 下自 PHP 4.1.0 起可用，在 win32 下自 PHP 4.2.3 起可用。自 PHP 4.3.5 起开始检查模式的 UTF-8 合法性。

于是修改成：
echo preg_replace('/[\x{4e00}-\x{9fa5}]/isu',"","aa'|bb_|大小，");
OK，解决。

日志标题：MySQL 递归
发表时间：2008-7-24 17:39:00
日志内容：目的是想通过给定一个ID，取出所有的子ID，包括子ID的子ID。
一开始写成FUNCTION,因为FUNCTION调用方便，但是报错：
ERROR 1424 (HY000): Recursive stored functions and triggers are not allowed
就是说：mysql不支持 函数递归，查了一下，MYSQL支持过程递归。
于是改成过程：

CREATE PROCEDURE USNOWER_P_SUB_CAT(IN IN_ID INT,OUT OUT_IDS VARCHAR(1000))BEGIN DECLARE V_STOP BOOLEAN DEFAULT FALSE; DECLARE V_ID INT; DECLARE V_SUB_IDS VARCHAR(1000); DECLARE V_IDS VARCHAR(1000);
 DECLARE CUR1 CURSOR FOR SELECT ID FROM USNOWER_ART_CAT WHERE FA_ID = IN_ID; DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET V_STOP = TRUE;
 SET @@max_sp_recursion_depth = 10;
 OPEN CUR1;  LAB1:WHILE NOT V_STOP DO FETCH CUR1 INTO V_ID; IF V_STOP THEN LEAVE LAB1; END IF; CALL USNOWER_P_SUB_CAT(V_ID,V_SUB_IDS); SET V_IDS = CONCAT_WS(',',V_IDS,V_ID,V_SUB_IDS); END WHILE LAB1; SET OUT_IDS = V_IDS;END//
开始没加红色的那句，报错：
ERROR 1456 (HY000): Recursive limit 0 (as set by the max_sp_recursion_depth variable) was exceeded for routine ***
SELECT @@max_sp_recursion_depth ，结果是0，
我这小小的递归跟本不可能超过10层，所以就在过程里加入了红色的那句。
运行，一切OK，
就是调试太麻烦了，怀念TOAD做ORACLE的时候，那个叫做方便。
哎，现在感冒又发烧，不开风扇又热，开了又头晕，鼻塞，难道是离挂不远了？

日志标题：菜鸟 & UBuntu 升级的烦恼
发表时间：2008-7-25 11:17:00
日志内容：#isubb#UBUNTU自动升级了。
这篇文章里的配置不起作用了：
http://xling.blueidea.com/archives/2008/6404.shtml
就连我普通用户都不让进/DISK_D了。
郁闷了老长一段时间，我把 gid 改回46之后，运行APACHE，在打开站点，显示绝拒访问。
用 ps -ef|grep apache 查看一下，发现daemon这个用户（传说中的APACHE的默认账户？），用户和组管理里面又找不到这个用户。
cat /etc/group 后，里面到是有一个daemon组，
我用 gedit 把 daemon这个用户加到 gid 为46的组里，即plugdev:x:46:xling,root,daemon，重启，在开启APACHE，打开站点，OK，一切正常。

还有，我的HD2400显卡，每次升级都有那个 fglrx 啥的，但是如果装了这些个东东，在重启，不是白屏就是显卡不能用，害得我还得在装一次ATI提供的官方驱动。在配置一次。真不让人省心。

日志标题：一个人真的很孤单
发表时间：2008-7-29 10:53:00
日志内容：#isubb#我怎么了？
我辞职了，在家耗着。以经一个多月了。
过惯了早七晚八的生活，一下子改成没有白天没有黑夜的生活，居然又成习惯了。
现在活着就是吃饭，睡觉，开电脑，写程序，对着屏幕发呆，偶而有朋友发来一句消息，是我对外界唯一的沟通。
曾经抽烟抽到呕吐，喝水喝到腹涨，睡觉睡到头痛
。。。
我真的很孤单。。。

日志标题：PHP&#160;缩略图&水印
发表时间：2008-7-31 15:48:00
日志内容：#isubb#源码如附件：
http://blogbeta.blueidea.com/UploadFiles/2008-7/731514414.rar

先前，我是把缩略图和水印分开写成两个类的，但是这样一来，就麻烦了许多，今天我奈着性子，把它俩给合并在一起了，并做了一些调整。

缩略图的功能有：
zoomByScale   按比例缩放 $scale = 1.1 就是缩放1.1倍
zoomByMaxSize  按固定大小缩放，不截取，保证高或宽等于指定大小（即高宽缩放是等比的，高或宽最大值不超过参数所指）
zoomByFixedSize  按指定尺寸进行缩放，可能有截取（即最后的高宽和参数所指的高宽）

水印暂时只做了一个加水印图片，没有做水印文字。
markLogo 位置可以是预指定的，也可以是自己指定的。

以下代码为示例：

<?php
include 'common.inc.php';
$token = $_POST["token"];
if(GToken::isToken($token,"upload")){
	$up = new GUpload();
	$up->setSaveDir(PATH_ROOT_ABS."/data/upload");
	$up->setAutoname(TRUE);
	$up->setMaxSize(1024);
	$up->setAccept(array("jpg","gif","png"));
	$files = $up->uploadAll();
	$img = new GImage();
	$img->setLogoSourceImg(PATH_ROOT_ABS."/res/logo.gif",50);
	foreach ($files as $file){
		$img->setSourceImg($file);		
		$img->zoomByMaxSize(300,100);
		$img->markLogo(GImage::POS_MIDDLE);
				
		$img->setSaveDir(PATH_ROOT_ABS."/data/upload/mini1");
		$img->saveAsPng(basename($file));
		
		$img->reset();
		$img->zoomByFixedSize(200,200);
		$img->setSaveDir(PATH_ROOT_ABS."/data/upload/mini2");
		$img->saveAsGif(basename($file));
	}
}
?>

日志标题：菜鸟&Ubuntu SCIM无响应篇
发表时间：2008-8-6 1:22:00
日志内容：#isubb#最烦的就是写着写着，输入法找不到焦点了。
在WIN下很少见，在UBuntu下却司空见f了！
用 IntelliJ IDEA 的时候，如果把焦点给了其它的程序，在切回来的时候，一定不能输入了，需要在这个软件的其它地方点几下，在点回来才能输入。
Opera 是代表，输入框和地址栏，输着输着就找不着北了，后来装了scim-bridge-client-qt 和 scim-bridge-client-qt4才解决。
今天打开ZendStudio For Eclipse,在点号后弹出提示框后，scim又没焦点了。搜了小半天，才搜到解决办法：在编辑区里右键，里面有个Input Method,在选 scim bridge input Method 之后，一切才正常。
咋那么麻烦呢？

日志标题：Ajax同步onreadystatechange
发表时间：2008-8-8 13:19:00
日志内容：IE,FF2,OPERA,SAFARI下，无论是同步加载还是异步加载，都会执行 onreadystatechange 这个事件。但是FF3开始，如果是同步加载这个事件就不在被执行了。我还以为这个飞机只有FF3在打。今天彻查了一下以前写的程序在 seamonkey 下不能运行的原因，原来它也和FF3一样在打飞机。以知的浏览器可以加上判断，未知的浏览器呢？真是头痛。

日志标题：JObj预览
发表时间：2008-8-11 15:53:00
日志内容：这个 JObj 和我以前发的那个 JObj 是完全不一样的。什么是JObj？我不叫它框架，因为它还没有到框架的高度，只不过是我长期写的JAVASCRIPT的一个积累，函数积累。http://blogbeta.blueidea.com/UploadFiles/2008-8/811810496.rar如果有意，可以从上面的地址下载查看。目前只加入了 JTree,JWin,FormValidat这几个 plugin以后有时间，我会把以前写的东东全部以 plugin的形式加入到 JObj 里。JObj用了类似包管理的方法（类似，用Ajax实现）。原生的只有下面这些东东（JStorage 除外）：调用 plugin或 lib 非常方便：JObj.use("ui");JObj.use("JDrag");JObj.plugin("JTree");上面这三个东东是JObj.Loader 的扩展，可以根据需要绝定是否重加载。另外， JObj.Ajax 只提供一个方法，因为其它的动作都在 JObj.Xml里完成。其它的就不说了，这只是一个函数集，不是框架，因为它还没有框架的高度。

日志标题：无奈 mysql&#160;触发器
发表时间：2008-8-11 21:43:00
日志内容：#isubb#做这个东东，我写了几个触发器，幸好不多。如果多的话，那我就＊＊定了。
做测试时，MYSQL版本是：5.1.24-rc，没有做什么特别的授权， create trigger 顺利通过。
今天往服务器上执行时，提示我权限不够，晕，我又没有 root 的权限。
等了一下午，找某同学要了 root 的密码，在控制台里连服务器，绝拒登陆！晕，不允许远程登陆！幸好有服务器上有phpadmin，登陆上去了，用：
GRANT TRIGGER ON `....`.* TO '...';
一执行，语法错误。
怎么可呢？我在本地做了一遍测试，成功后才做上面的动作的啊。
查了查，找到下面一段：

The EVENT and TRIGGER  privileges were added in MySQL 5.1.6. A trigger is associated with a table, so to create or drop a trigger, you must have the TRIGGER privilege for the table, not the trigger. (Before MySQL 5.1.6, the SUPER  privilege was required to create or drop triggers.)  

就是说 GRANT TRIGGER 只有5.1.6 以上才支持，而服务器的版本是：5.0.51a

我用 root 用户直接  create trigger ，执行通过，说明这个版本是支持触发器的。
又查了一下：

If you DO NOT want to let a user see/modify all available databases, but they DO need to be a SUPER user to drop triggers and such on a specified db...this is the workaround.

GRANT ALL ON yourdb.* TO youruser WITH GRANT OPTION;
GRANT SUPER ON *.* TO youruser;

按照上面的说法，我
GRANT SUPER ON `...`.* TO '...';
提示：Incorrect usage of DB GRANT and GLOBAL PRIVILEGES
晕，这下彻底不知道该怎么搞了。
还是不要用 TRIGGER算了。
无奈。

日志标题：搞了半天，原来MySQL不支持全连接！
发表时间：2008-8-14 15:41:00
日志内容：#isubb#做前一个和后一个，
如果为第一条，前一个肯定无值，结果 Empty set.
如果为最后一条，后一个肯定无值，结果为 Empty set.

一个有值，一个无值，不能断定是左还是右 （left / right join）,所以，得用全连接。
但是写 full join / full outer join 均报错，查了老半天才知道是 mysql 不支持全连连接。
晕菜。。。

日志标题：Smarty定义块&#160;rgister_block
发表时间：2008-8-16 10:46:00
日志内容：#isubb#我所能 搜到／找到 的Smarty的说明文档里，对 register_block 的解释简直可以用  臭狗屎 来形容。
我找一段，你们看看：

/* PHP */
$smarty->register_block("translate", "do_translation");


function do_translation ($params, $content, &$smarty, &$repeat) {
 if (isset($content)) {
 $lang = $params['lang'];
 // do some translation with $content
 return $translation;
 }
}


{* template *}
{translate lang="br"}
 Hello, world!
{/translate}

看看这一段，能干什么？什么都干不了！

我是想定义一个块，块里面在用 smarty 以经定义好的 section 之类的标签，从上面那段来看，好像没有办法，一开始我也试了试，貌视跟本就没有办法：

function __test__($params, $content, &$smarty, &$repeat){
	echo intval($repeat)." ".intval(isset($content))."&lt;br/&gt;";
	if(isset($content)){
		$cat = null;
		$num = null;
		$assign = null;
		extract($params);
		$list = MO_Article::getTopList($cat,$num);
		$smarty->assign_by_ref($assign,$list);		
		return $content;
	}
}

定义完这个后，去执行，一片空白，啥也没有。没有办法，我只好先 register_function ，在用 section,但是这样非常非常麻烦。
因为，section 好像不能控制是否可以缓存（我看的手册上没有我说的这个东东），但是 block,function 支持是否被缓存。
为了达到我想要的，我差点还修改了 Smarty_Compiler.inc.php ，但是想来想去，修改这个文件也不是办法，我要求的功能很多，总不能每个功能都写这里吧！

于是，我又试了一下 register_block：

function __test__($params, $content, &$smarty, &$repeat){
	//echo intval($repeat)." ".intval(isset($content))."&lt;br/&gt;";
	if(isset($content)){
		return $content;
	}
}

$art = array();
$art[] = array(
	'id'	=>	1,
	'title'	=>	'aaa',
	'inTime'	=>	'aaaa'
);
$art[] = array(
	'id'	=>	1,
	'title'	=>	'aaa',
	'inTime'	=>	'aaaa'
);

$gmt = GSmarty::getInstance("test");
$gmt->register_block('test','__test__',false);
$gmt->assign_by_ref("art",$art);
//var_dump($gmt->get_template_vars("art"));
$gmt->display("test.html");

执行有结果！说明 block 的内容里可以用 smarty 以定义的东东。
照着上面的第二段代码写，在 display 之前，var_dump($gmt->get_template_vars("art")) 一下（{test cat=0 num=10 assign="art"})，结果居然是NULL，说明
		$list = MO_Article::getTopList($cat,$num);
		$smarty->assign_by_ref($assign,$list);	
根本就没有执行。

文档里说 register_block 所需要的函数会执行两次，
我这样写：
function __test__($params, $content, &$smarty, &$repeat){
	echo intval($repeat)." ".intval(isset($content))."&lt;br/&gt;";
}
结果是：
1 0
0 1
于是我改成：
function __test__($params, $content, &$smarty, &$repeat){
	echo intval($repeat)." ".intval(isset($content))."&lt;br/&gt;";
	if(isset($content)){
		return $content;
	}else{
		$cat = null;
		$num = null;
		$assign = null;
		extract($params);
		$list = MO_Article::getTopList($cat,$num);
		$smarty->assign_by_ref($assign,$list);		
	}
}

$gmt = GSmarty::getInstance("test");
$gmt->register_block('test','__test__',false);
$gmt->display("test.html");

一切OK！
这文档写的可真TMD的够烂的！

日志标题：晕，PHP类的定义原来不能分开在两块写。。。
发表时间：2008-8-20 0:12:00
日志内容：#isubb#出这题，简直让人疯掉。
&lt;?php
class Test{
?&gt;

&lt;?php
  public static test(){
  	echo 'here';
  }
  
  Test::test();
}
?&gt;
不用运行，直接提示语法错误。
写了那么多 class ，我还以为 class 可以分开定义在两个块中呢。
结果大掉眼镜。。。

日志标题：JDrag Bug修订
发表时间：2008-8-20 1:10:00
日志内容：#isubb#JObj.UI.JDrag.setDrag
----------------------------------------------
    $.setDrag = function(obj){
        obj = JObj.$(obj);
        obj.style.position = "absolute";

		var dragArea = JObj.$(arguments[1]) || obj;

		if(arguments[2] !== false){
			//dragArea.onmousedown = JObj.doFunction(dragArea_mousedown,obj,dragArea);
			//obj.onmousedown = JObj.doFunction(changeZIndex,obj);

            JObj.addEvent(dragArea,'mousedown',JObj.doFunction(dragArea_mousedown,obj,dragArea));
            JObj.addEvent(obj,'mousedown',JObj.doFunction(changeZIndex,obj));
        }else{
			dragArea.onmousedown = "";
			obj.onmousedown = "";
		}
	}
-------------------------------------------
这个函数，原来使用没有问题，原因是我把 obj 和 dragArea 设为两个不同的对象，两个对象 的 onmousedown 互不影响，固没有爆出问题所在。
早些时候，我把 obj和 dragArea 设为同一个对象，问题就出来了，后一个 onmousedown 覆盖了前一个onmousedown :

			dragArea.onmousedown = JObj.doFunction(dragArea_mousedown,obj,dragArea);
			obj.onmousedown = JObj.doFunction(changeZIndex,obj);

所以，设定的事件 dragArea_mousedown 没有执行，这就是BUG。
现在我做一下修订，在 JObj里加入方法：

    $.addEvent = function(obj,type,fun){
        obj = $.$(obj);
        if(obj.attachEvent){
            if(! /^on/.test(type))
                type = 'on' + type;
            obj.attachEvent(type,fun);
        }else if(obj.addEventListener){
            if(/^on/.test(type))
                type = type.substr(2);
            obj.addEventListener(type,fun,false);
        }
    }

然后把上上一段修改为：

            JObj.addEvent(dragArea,'mousedown',JObj.doFunction(dragArea_mousedown,obj,dragArea));
            JObj.addEvent(obj,'mousedown',JObj.doFunction(changeZIndex,obj));

OK，FF/Opera下执行完美，IE还没有测。

JObj.doFunction 的定义：

    $.doFunction = function(fun) {
        var args = [];
        //for (var i = 1; arg = arguments[i]; i++) { // 如果 arguments 的某个值为 0,这样写就会从0处断开循环。
		for(var i=1;i<arguments.length;i++){
			arg = arguments[i];
            args.push(arg);
        }
        return function() {
            fun.apply(null, args)
        };
    }

如果有兴趣，可从下面这个地址里所给出的地址下载 JObj 的预览包，修改相关文件。
http://xling.blueidea.com/archives/2008/6731.shtml

日志标题：JAnimate（动画效果）&nbsp;预览
发表时间：2008-8-21 12:50:00
日志内容：老长时间不见我发JS相关的东东了吧！
今天我就把刚刚写的动画效果代码发来，供大家参考。当然，它是套在JObj 中的。
效果：http://test.dajiaozi.com/JObj/JAnimateTest.html
下载：http://test.dajiaozi.com/JObj/JObj.rar
这只是个预览，基本功能。扩展以后慢慢会加进来的。
下面是JAnimate.js的代码：

JObj.use("ui");
JObj.UI.JAnimate = {};
(function($) {
 var objs = {}; var idTag = "__JObj_ANI_ID__";
 var Ani = function(obj) { var $ = this; var id = obj.getAttribute(idTag);
 $.onComplete = null; $.onAbort = null; $.onStart = null; $.onProcess = null;
 var vars = { cW : false, cH : false, cA : false, cL : false, cT : false,
 dW : 1, dH : 1, dA : 1, dL : 1, dT : 1 };
 var ready_ = function(fromRule,toRule){ vars.dW = fromRule.width &lt; toRule.width ? 1 : -1; vars.dH = fromRule.height &lt; toRule.height ? 1 : -1; vars.dA = fromRule.alpha &lt; toRule.alpha ? 1 : -1; vars.dL = fromRule.left &lt; toRule.left ? 1 : -1; vars.dT = fromRule.top &lt; toRule.top ? 1 : -1; }
 var ready = function(fromRule,toRule){ vars.cW = fromRule.width == toRule.width //|| fromRule.width != undefined &amp;&amp; toRule.width != undefined; vars.cH = fromRule.height == toRule.height //|| fromRule.height != undefined &amp;&amp; toRule.height != undefined; vars.cA = fromRule.alpha == toRule.alpha //|| fromRule.alpha != undefined &amp;&amp; toRule.alpha != undefined; vars.cL = fromRule.left == toRule.left //|| fromRule.left != undefined &amp;&amp; toRule.left != undefined; vars.cT = fromRule.top == toRule.top //|| fromRule.top != undefined &amp;&amp; toRule.top != undefined; }
 var differ = function(from,to){ var v = Math.abs( to - from ); if(v &gt;= 10) v /= 10; else if(v &gt;= 5) v /= 5; else if(v &gt;= 2) v /= 2; else v = 1; //return to - from &gt;=0 ? v : -v; return v; }  $.run = function(fromRule,toRule){ var i = arguments[2]; if(i == undefined){ ready_(fromRule,toRule); JObj.isFunction($.onStart) ? $.onStart(obj) : null; } i++;
 ready(fromRule,toRule);  if(!vars.cW){ fromRule.width += vars.dW * differ(fromRule.width , toRule.width); if(fromRule.width &lt; 0) fromRule.width = 0;
 if((vars.dW == 1 &amp;&amp; fromRule.width &gt; toRule.width) || (vars.dW == -1 &amp;&amp; fromRule.width &lt; toRule.width)) fromRule.width = toRule.width;
 obj.style.width = fromRule.width + "px"; }
 if(!vars.cH){ fromRule.height += vars.dH * differ(fromRule.height , toRule.height); if(fromRule.height &lt; 0 ) fromRule.height = 0;
 if((vars.dH == 1 &amp;&amp; fromRule.height &gt; toRule.height) || (vars.dH == -1 &amp;&amp; fromRule.height &lt; toRule.height)) fromRule.height = toRule.height;
 obj.style.height = fromRule.height + "px"; }
 if(!vars.cA){ fromRule.alpha += vars.dA * differ(fromRule.alpha , toRule.alpha); if(fromRule.alpha &lt; 0) fromRule.alpha = 0; if(fromRule.alpha &gt; 100) fromRule.alpha = 100;
 if((vars.dA == 1 &amp;&amp; fromRule.alpha &gt; toRule.alpha) || (vars.dA == -1 &amp;&amp; fromRule.alpha &lt; toRule.alpha)) fromRule.alpha = toRule.alpha;
 if(JObj.Browser.ie){ obj.style.filter = "Alpha(Opacity=" + fromRule.alpha + ")"; }else{ obj.style.opacity = fromRule.alpha / 100; } }
 if(!vars.cT){ fromRule.top += vars.dT * differ(fromRule.top , toRule.top); if((vars.dT == 1 &amp;&amp; fromRule.top &gt; toRule.top) || (vars.dT == -1 &amp;&amp; fromRule.top &lt; toRule.top)) fromRule.top = toRule.top;
 obj.style.left = fromRule.top + "px"; }
 if(!vars.cL){ fromRule.left += vars.dL * differ(fromRule.left , toRule.left); if((vars.dL == 1 &amp;&amp; fromRule.left &gt; toRule.left) || (vars.dL == -1 &amp;&amp; fromRule.left &lt; toRule.left)) fromRule.left = toRule.left;
 obj.style.left = fromRule.left + "px"; }
 if(vars.cW &amp;&amp; vars.cH &amp;&amp; vars.cA &amp;&amp; vars.cL &amp;&amp; vars.cT){ clearTimeout(vars[id]); JObj.isFunction($.onComplete) ? $.onComplete(obj) : null; }else{ JObj.isFunction($.onProcess) ? $.onProcess(obj) : null; vars[id] = setTimeout(JObj.doFunction($.run,fromRule,toRule,i),33); } }
 $.abort = function(){ clearTimeout(vars[id]); JObj.isFunction($.onAbort) ? $.onAbort(obj) : null; } }
 $.$ = function(obj){ obj = JObj.$(obj); //if(!obj.hasAttribute(idTag)){ if(obj.getAttribute(idTag) != null || obj.getAttribute(idTag) != ""){ if(obj.uniqueID) var id = obj.uniqueID; else var id = (((new Date()).valueOf() * 100000) + Math.random() * 100000).toString(32);
 obj.setAttribute(idTag,id); objs[id] = new Ani(obj); return objs[id]; }else{ return objs[obj.getAttribute(idTag)];  } }
 $.unset = function(obj){ if(obj.hasAttribute(idTag)){ delete objs[obj.getAttribute(idTag)]; obj.removeAttribute(idTag); } }
 $.getObjs = function(){ return objs; }})(JObj.UI.JAnimate);
当前只是基础功能，扩展没有加，可能调用相对麻烦一些。

 JObj.use('JAnimate');//首先引用 //JObj.UI.JAnimate.$('a').run({width:100,height:100,alpha:100,top:10,left:300},{width:800,height:400,alpha:10,top:100,left:0}); //JObj.UI.JAnimate.$('a').run({left:800,width:200,height:200},{left:100,width:50,height:100}); //JObj.UI.JAnimate.$('a').run({height:100},{height:200});

 var flagA = true;
 var on_completeA = function(obj){ flagA ? this.run({width:200,height:200,alpha:20},{width:50,height:50,alpha:100}) : this.run({width:50,height:50,alpha:100},{width:200,height:200,alpha:20}); flagA = !flagA; }
 var aniA = JObj.UI.JAnimate.$('a'); aniA.onComplete = on_completeA; aniA.run({width:50},{width:50});
 var flagC = true; var on_completeC = function(obj){ flagC ? this.run({left:100},{left:800}) : this.run({left:800},{left:100}); flagC = !flagC; } var aniC = JObj.UI.JAnimate.$('c'); aniC.onComplete = on_completeC; aniC.run({left:800},{left:100});

日志标题：PHP open_basedir的问题
发表时间：2008-8-21 21:14:00
日志内容：首先，我写的程序在本地运行的好好的，刚才传到空间里运行，报错：
open_basedir restriction in effect. File(/) is not within the allowed path(s):******
会影响 realpath,is_dir,is_file等文件及目录操作函数。
查了一下：
把php的文件操作限制在web目录里面。以下是修改apache配置文件httpd.conf的一个例子： 




    php_admin_value open_basedir /usr/local/apache/htdocs
重启apache后，/usr/local/apache/htdocs目录下的PHP脚本就只能操作它自己目录下的文件了，否则PHP就会报错： Warning: open_basedir restriction in effect. File is in wrong directory in xxx on line xx. 
在看我以前写的程序的片断：	public static function mkpath($path,$r = 0777){
		$dirs=array();
		$dirs=explode("/",$path);
		$path="";
		foreach ($dirs as $element){
			$path.=$element."/";
			if(!is_dir($path)){
				if(!mkdir($path,$r)){ 
					return false; 
				}
			}		}
		return true;
	}其中，$dirs 的内容大概如下：var，data_disk，www，virtual，***，test，htdocs,test在foreach 里，有个 is_dir,当这个函数作用于 htdocs的上级 及 祖仙（。。。）目录时，因为open_basedir的因原，均会报错。。。。木有办法，谁叫咋只能用虚拟主机呢！只好修改函数啦！public static function mkpath($path,$r = 0777){$path = str_replace(PATH_ROOT_ABS,'',$path);$dirs=array();$dirs=explode("/",$path);$path= PATH_ROOT_ABS."/";foreach ($dirs as $element){$path.=$element."/";if(!is_dir($path)){if(!mkdir($path,$r)){ return false; }}}return true;}先去掉，在接上，这算咋回事啊。晕啊。。。

日志标题：IE 关于强制下载文件
发表时间：2008-8-22 0:34:00
日志内容：这个东东，把我搞得晕晕乎乎的，FF下，没有这个问题。
首先看 xls 文件的下载：
//header("Cache-Control: public");header('content-type:application/vnd.ms-excel');header("Content-Disposition:attachment; filename=report.xls");
如果不加第一句，会弹出 ： Internet Explorer 无法下载 **.php (来自**网站)。Internet Explorer无法打开该 internet 网站。请求的网站不可用，或找不到，请以后再试。
而且连名字都不是所设的名字:report.xls,而是 **.php，把第一句加上就OK了。
在看 rar,gif 之类的，不加第一句，居然通过，不弹出那个错误框框！
如果是 gif等图片的话，Content-Disposition:attachment; 会强制弹出一个保存对话框。如果省略或是 inline 就会直接在网页里显示。
上面就是我用笨方法研究出来的（找不到可用的文档，我只好一个一个试）。
下面是 Content-type 应取值，摘自 php manual:

 switch( $file_extension ) { case "pdf": $ctype="application/pdf"; break; case "exe": $ctype="application/octet-stream"; break; case "zip": $ctype="application/zip"; break; case "doc": $ctype="application/msword"; break; case "xls": $ctype="application/vnd.ms-excel"; break; case "ppt": $ctype="application/vnd.ms-powerpoint"; break; case "gif": $ctype="image/gif"; break; case "png": $ctype="image/png"; break; case "jpeg": case "jpg": $ctype="image/jpg"; break; case "mp3": $ctype="audio/mpeg"; break; case "wav": $ctype="audio/x-wav"; break; case "mpeg": case "mpg": case "mpe": $ctype="video/mpeg"; break; case "mov": $ctype="video/quicktime"; break; case "avi": $ctype="video/x-msvideo"; break;
 //The following are for extensions that shouldn't be downloaded (sensitive stuff, like php files) case "php": case "htm": case "html": case "txt": die("&lt;b&gt;Cannot be used for ". $file_extension ." files!&lt;/b&gt;"); break;
 default: $ctype="application/force-download"; }

日志标题：FormValidate&nbsp;功能更新
发表时间：2008-8-23 2:41:00
日志内容：FormValidate 功能更新
示例：http://test.dajiaozi.com/test/formValidate.php下载：http://test.dajiaozi.com/JObj/JObj.rar
更多用法，可参才：
http://jobj.googlecode.com/svn/trunk/FormValidate/demo.html
加入方法：extend，加入验证模式 4,同3,但是当验证不通过时，立即停止向下检查。在模式3下，如果发生错误，会把错误记录，并向下检查，模式4就不向下检查了。
用法：

&lt;input type="text" name="name[0]" id="name[0]" ruleTpl="0" /&gt;&lt;input type="text" name="birthday[0]" id="birthday[0]" ruleTpl="1" /&gt;。。。。。。。。。。var checkRule = [{name:"name[0]",required:true,min:2,max:3,msg:"请输入姓名！长度必须大于2，小于3"},{name:"birthday[0]",required:false,type:"Date",msg:"出生日期是可选项，如果输入，请输入正确的日期"},{name:"email[0]",required:false,type:"Email",msg:"邮件是可选项，如果输入，请输入正确的邮件地址"},{name:"scoreA[0]",required:true,type:"Num",min:0,max:100,msg:"语文分数是必须项，必须大于0小于100"},{name:"scoreB[0]",required:true,type:"Num",min:0,max:100,msg:"数学分数是必须项，必须大于0小于100"},{name:"scoreC[0]",required:true,type:"Num",min:0,max:100,msg:"英语分数是必须项，必须大于0小于100"}];
JObj.plugin("FormValidate");var va = JObj.Plugin.FormValidate;
va.extend(document.forms[0],"ruleTpl",checkRule);return va.validate(document.forms[0],checkRule,4);
解释：为啥要这样写？如果不动态添加表单项，可以把 va.extend这一句删除。但是动态添加表单项的话。。。新增的表单项无法指定。这样写，就是跟据 ruleTpl 所指定的为验证规则。这个 ruleTpl可以是任何字符串（不是它的值），比如，如果把 ruleTpl换成 ttt,那么就要写成：va.extend(document.forms[0],'ttt',checkRule)ruleTpl 是做为表单项的一个自定义 attribute 存在的，其值必须是 checkRule 的一个下标，如果这个下标不存，则默认不检查这一项。否则就把选定的 checkRule的元素复制一遍，达到动态添加验证规则的目的。
在添加这个功能的时候，遇到几个有趣的问题，下面我说说：
1，地址引用，请不要运行，说出下面代码中，变量 a 的值。
var a = [{name:1}];var tmp = a.push(a[a.length - 1]);a[tmp - 1].name = 2;
如果你说：a = [{name:1},{name:2}],那你就大错特错了，真实值是：a = [{name:2},{name:2}];
原因很简单，因为 push的是一个对象，对象在JS里是地址引用，所以， a[tmp - 1].name = 2 的时候，其实是把 a[0] 的值改变了。
下面这一段就很简单了，值引用，不会发生上面的情况。
var a = [1,2,3];a.push(a[a.length - 1]);alert(a);a[a.length - 1] = 4;alert(a);
2，FF下动态删除表单项。如果动态删除了某个表单项，不 alert 的话， form['itemName']还是那个被删除的 表单项。这时，它的 parentNode,form 都为 null,但是却不能用 parentNode == null 来判断，不知道为啥，FF真是另人***，为了完成功能，只好用 item.form == null来判断，如：
if (obj == undefined || obj.form == null) return null;
IE则不存这个问题。


日志标题：PHP结合Smarty产生EXCEL文档
发表时间：2008-8-23 2:45:00
日志内容：PHP结合Smarty产生EXCEL文档
1，首先在EXCEL （office 2003）里生成一个模板，然后存成 xml表格。2，修改这个 xml 文件，做成 smarty 的模板。3，然后，就是 绑定变量，输出就行了。
不过，跟据我的试验，如果你不删除一个地方，生成的文档用 excel 打开，是会报错的！
删除所有像这样的串： ss:ExpandedColumnCount="5" 就行了！
示例：http://test.dajiaozi.com/test/formValidate.php随便填点数据，然后提交，会生成一份 xls 文件。
还有一个小问题没有找出来，这个模板，只能有两笔数据，多了也不行，晕，还没有找到要修改哪里呢。（以查，不是上面这一句所说的这样，在IE下，只有第一次提交的数据生成的文件可以打开，如果不刷新在提交，就打不开了！不明白为啥）
另外，我开始是把 formValidate.php 和 report.php合在一起写的，结果是没有结果！分开写，就有结果了！
report.php

&lt;?phpinclude '../common.inc.php';
$token = $_POST['token'];
if(GToken::isToken($token,'REPORT')){$names = $_POST['name'];$birthdays = $_POST['birthday'];$phones = $_POST['phone'];$sexs = $_POST['sex'];$emails = $_POST['email'];$scoreAs = $_POST['scoreA'];$scoreBs = $_POST['scoreB'];$scoreCs = $_POST['scoreC'];$list = array();$score = array();for($i=0;$i&lt;sizeof($names);$i++){$arr = array('name'=&gt;$names[$i],'sexs'=&gt;$sexs[$i],'birthday'=&gt;$birthdays[$i],'email'=&gt;$emails[$i],'phone'=&gt;$phones[$i]);array_push($list,$arr);unset($arr);$arr = array('name'=&gt;$names[$i],'scoreA'=&gt;$scoreAs[$i],'scoreB'=&gt;$scoreBs[$i],'scoreC'=&gt;$scoreCs[$i]);array_push($score,$arr);unset($arr);}
include '../lib/smarty/Smarty.class.php';$gmt = GSmarty::getInstance('test');$gmt-&gt;assign_by_ref("list",$list);$gmt-&gt;assign_by_ref('score',$score);header("Cache-Control: public");header('content-type:application/vnd.ms-excel');header("Content-Disposition:attachment; filename=report.xls"); $gmt-&gt;display('report');}?&gt;红色的那句一定要加，不然的话，在IE下会发生错误。

日志标题：JSuggest & JShortcut
发表时间：2008-8-27 21:14:00
日志内容：示例：
http://test.dajiaozi.com/JObj/JSuggestTest.html
写JSuggest这个功能，当初是为了某x人，某X人的人员列表太长，他把这些人员放到下拉列表里，结果可想而知，要选出一个人来就好比大海捞针。于是就让我写个功能，跟据输入的内容动态筛选，这种功能在网上大把的是，但很多是动态请求某个地址。这里，我就省了，要查询的内容以知。。。
为了写 JSuggest ，我还把 JShutcut 给更新了一把，这里不做介绍，因为还有些地方差强人意。
如果想参考，可以下载：
http://test.dajiaozi.com/JObj/JObj.rar

